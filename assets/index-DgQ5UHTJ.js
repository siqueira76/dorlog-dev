var rO=t=>{throw TypeError(t)};var Vw=(t,e,r)=>e.has(t)||rO("Cannot "+r);var W=(t,e,r)=>(Vw(t,e,"read from private field"),r?r.call(t):e.get(t)),De=(t,e,r)=>e.has(t)?rO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),xe=(t,e,r,n)=>(Vw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),tt=(t,e,r)=>(Vw(t,e,"access private method"),r);var eg=(t,e,r,n)=>({set _(i){xe(t,e,i,r)},get _(){return W(t,e,n)}});function XW(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w$={exports:{}},O0={},x$={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),ZW=Symbol.for("react.portal"),JW=Symbol.for("react.fragment"),eq=Symbol.for("react.strict_mode"),tq=Symbol.for("react.profiler"),rq=Symbol.for("react.provider"),nq=Symbol.for("react.context"),iq=Symbol.for("react.forward_ref"),oq=Symbol.for("react.suspense"),aq=Symbol.for("react.memo"),sq=Symbol.for("react.lazy"),nO=Symbol.iterator;function lq(t){return t===null||typeof t!="object"?null:(t=nO&&t[nO]||t["@@iterator"],typeof t=="function"?t:null)}var _$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E$=Object.assign,S$={};function Md(t,e,r){this.props=t,this.context=e,this.refs=S$,this.updater=r||_$}Md.prototype.isReactComponent={};Md.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Md.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T$(){}T$.prototype=Md.prototype;function iT(t,e,r){this.props=t,this.context=e,this.refs=S$,this.updater=r||_$}var oT=iT.prototype=new T$;oT.constructor=iT;E$(oT,Md.prototype);oT.isPureReactComponent=!0;var iO=Array.isArray,A$=Object.prototype.hasOwnProperty,aT={current:null},P$={key:!0,ref:!0,__self:!0,__source:!0};function C$(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)A$.call(e,n)&&!P$.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:rm,type:t,key:o,ref:a,props:i,_owner:aT.current}}function cq(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sT(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function uq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var oO=/\/+/g;function Fw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uq(""+t.key):e.toString(36)}function Qg(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case rm:case ZW:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Fw(a,0):n,iO(i)?(r="",t!=null&&(r=t.replace(oO,"$&/")+"/"),Qg(i,e,r,"",function(c){return c})):i!=null&&(sT(i)&&(i=cq(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(oO,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",iO(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+Fw(o,s);a+=Qg(o,e,r,l,i)}else if(l=lq(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+Fw(o,s++),a+=Qg(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function rg(t,e,r){if(t==null)return t;var n=[],i=0;return Qg(t,n,"","",function(o){return e.call(r,o,i++)}),n}function dq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Yg={transition:null},fq={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Yg,ReactCurrentOwner:aT};function I$(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:rg,forEach:function(t,e,r){rg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rg(t,function(){e++}),e},toArray:function(t){return rg(t,function(e){return e})||[]},only:function(t){if(!sT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=Md;Qe.Fragment=JW;Qe.Profiler=tq;Qe.PureComponent=iT;Qe.StrictMode=eq;Qe.Suspense=oq;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fq;Qe.act=I$;Qe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=E$({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=aT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)A$.call(e,l)&&!P$.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:rm,type:t.type,key:i,ref:o,props:n,_owner:a}};Qe.createContext=function(t){return t={$$typeof:nq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rq,_context:t},t.Consumer=t};Qe.createElement=C$;Qe.createFactory=function(t){var e=C$.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:iq,render:t}};Qe.isValidElement=sT;Qe.lazy=function(t){return{$$typeof:sq,_payload:{_status:-1,_result:t},_init:dq}};Qe.memo=function(t,e){return{$$typeof:aq,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Yg.transition;Yg.transition={};try{t()}finally{Yg.transition=e}};Qe.unstable_act=I$;Qe.useCallback=function(t,e){return hn.current.useCallback(t,e)};Qe.useContext=function(t){return hn.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return hn.current.useEffect(t,e)};Qe.useId=function(){return hn.current.useId()};Qe.useImperativeHandle=function(t,e,r){return hn.current.useImperativeHandle(t,e,r)};Qe.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return hn.current.useMemo(t,e)};Qe.useReducer=function(t,e,r){return hn.current.useReducer(t,e,r)};Qe.useRef=function(t){return hn.current.useRef(t)};Qe.useState=function(t){return hn.current.useState(t)};Qe.useSyncExternalStore=function(t,e,r){return hn.current.useSyncExternalStore(t,e,r)};Qe.useTransition=function(){return hn.current.useTransition()};Qe.version="18.3.1";x$.exports=Qe;var O=x$.exports;const z=St(O),O$=XW({__proto__:null,default:z},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hq=O,pq=Symbol.for("react.element"),mq=Symbol.for("react.fragment"),gq=Object.prototype.hasOwnProperty,yq=hq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vq={key:!0,ref:!0,__self:!0,__source:!0};function k$(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)gq.call(e,n)&&!vq.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:pq,type:t,key:o,ref:a,props:i,_owner:yq.current}}O0.Fragment=mq;O0.jsx=k$;O0.jsxs=k$;w$.exports=O0;var p=w$.exports,N$={exports:{}},Xn={},R$={exports:{}},j$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var G=$.length;$.push(B);e:for(;0<G;){var ee=G-1>>>1,J=$[ee];if(0<i(J,B))$[ee]=B,$[G]=J,G=ee;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],G=$.pop();if(G!==B){$[0]=G;e:for(var ee=0,J=$.length,ie=J>>>1;ee<ie;){var Ce=2*(ee+1)-1,ue=$[Ce],Se=Ce+1,fe=$[Se];if(0>i(ue,G))Se<J&&0>i(fe,ue)?($[ee]=fe,$[Se]=G,ee=Se):($[ee]=ue,$[Ce]=G,ee=Ce);else if(Se<J&&0>i(fe,G))$[ee]=fe,$[Se]=G,ee=Se;else break e}}return B}function i($,B){var G=$.sortIndex-B.sortIndex;return G!==0?G:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=$)n(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(c)}}function E($){if(g=!1,w($),!v)if(r(l)!==null)v=!0,V(S);else{var B=r(c);B!==null&&U(E,B.startTime-$)}}function S($,B){v=!1,g&&(g=!1,x(T),T=-1),m=!0;var G=f;try{for(w(B),d=r(l);d!==null&&(!(d.expirationTime>B)||$&&!I());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var J=ee(d.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?d.callback=J:d===r(l)&&n(l),w(B)}else n(l);d=r(l)}if(d!==null)var ie=!0;else{var Ce=r(c);Ce!==null&&U(E,Ce.startTime-B),ie=!1}return ie}finally{d=null,f=G,m=!1}}var C=!1,_=null,T=-1,A=5,N=-1;function I(){return!(t.unstable_now()-N<A)}function k(){if(_!==null){var $=t.unstable_now();N=$;var B=!0;try{B=_(!0,$)}finally{B?R():(C=!1,_=null)}}else C=!1}var R;if(typeof y=="function")R=function(){y(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=k,R=function(){L.postMessage(null)}}else R=function(){b(k,0)};function V($){_=$,C||(C=!0,R())}function U($,B){T=b(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,V(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return $()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=f;f=$;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function($,B,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,$={id:u++,callback:B,priorityLevel:$,startTime:G,expirationTime:J,sortIndex:-1},G>ee?($.sortIndex=G,e(c,$),r(l)===null&&$===r(c)&&(g?(x(T),T=-1):g=!0,U(E,G-ee))):($.sortIndex=J,e(l,$),v||m||(v=!0,V(S))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var B=f;return function(){var G=f;f=B;try{return $.apply(this,arguments)}finally{f=G}}}})(j$);R$.exports=j$;var bq=R$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wq=O,Hn=bq;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D$=new Set,Dh={};function uc(t,e){qu(t,e),qu(t+"Capture",e)}function qu(t,e){for(Dh[t]=e,t=0;t<e.length;t++)D$.add(e[t])}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E_=Object.prototype.hasOwnProperty,xq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aO={},sO={};function _q(t){return E_.call(sO,t)?!0:E_.call(aO,t)?!1:xq.test(t)?sO[t]=!0:(aO[t]=!0,!1)}function Eq(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sq(t,e,r,n){if(e===null||typeof e>"u"||Eq(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var lT=/[\-:]([a-z])/g;function cT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lT,cT);jr[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lT,cT);jr[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lT,cT);jr[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uT(t,e,r,n){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sq(e,r,i,n)&&(r=null),n||i===null?_q(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ta=wq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ng=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),dT=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),$$=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),T_=Symbol.for("react.suspense"),A_=Symbol.for("react.suspense_list"),hT=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),L$=Symbol.for("react.offscreen"),lO=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=lO&&t[lO]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,Uw;function Kf(t){if(Uw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Uw=e&&e[1]||""}return`
`+Uw+t}var Bw=!1;function zw(t,e){if(!t||Bw)return"";Bw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Bw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Kf(t):""}function Tq(t){switch(t.tag){case 5:return Kf(t.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return t=zw(t.type,!1),t;case 11:return t=zw(t.type.render,!1),t;case 1:return t=zw(t.type,!0),t;default:return""}}function P_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hc:return"Fragment";case qc:return"Portal";case S_:return"Profiler";case dT:return"StrictMode";case T_:return"Suspense";case A_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $$:return(t.displayName||"Context")+".Consumer";case M$:return(t._context.displayName||"Context")+".Provider";case fT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hT:return e=t.displayName||null,e!==null?e:P_(t.type)||"Memo";case Ua:e=t._payload,t=t._init;try{return P_(t(e))}catch{}}return null}function Aq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P_(e);case 8:return e===dT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pq(t){var e=V$(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ig(t){t._valueTracker||(t._valueTracker=Pq(t))}function F$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V$(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C_(t,e){var r=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cO(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Cs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U$(t,e){e=e.checked,e!=null&&uT(t,"checked",e,!1)}function I_(t,e){U$(t,e);var r=Cs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?O_(t,e.type,r):e.hasOwnProperty("defaultValue")&&O_(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uO(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function O_(t,e,r){(e!=="number"||Sy(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qf=Array.isArray;function su(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Cs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dO(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(Qf(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cs(r)}}function B$(t,e){var r=Cs(e.value),n=Cs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var og,W$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(og=og||document.createElement("div"),og.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=og.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cq=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(t){Cq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lh[e]=lh[t]})});function q$(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lh.hasOwnProperty(t)&&lh[t]?(""+e).trim():e+"px"}function H$(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=q$(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Iq=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R_(t,e){if(e){if(Iq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function j_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D_=null;function pT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var M_=null,lu=null,cu=null;function hO(t){if(t=om(t)){if(typeof M_!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=D0(e),M_(t.stateNode,t.type,e))}}function G$(t){lu?cu?cu.push(t):cu=[t]:lu=t}function K$(){if(lu){var t=lu,e=cu;if(cu=lu=null,hO(t),e)for(t=0;t<e.length;t++)hO(e[t])}}function Q$(t,e){return t(e)}function Y$(){}var Ww=!1;function X$(t,e,r){if(Ww)return t(e,r);Ww=!0;try{return Q$(t,e,r)}finally{Ww=!1,(lu!==null||cu!==null)&&(Y$(),K$())}}function $h(t,e){var r=t.stateNode;if(r===null)return null;var n=D0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var $_=!1;if(ua)try{var Af={};Object.defineProperty(Af,"passive",{get:function(){$_=!0}}),window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{$_=!1}function Oq(t,e,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var ch=!1,Ty=null,Ay=!1,L_=null,kq={onError:function(t){ch=!0,Ty=t}};function Nq(t,e,r,n,i,o,a,s,l){ch=!1,Ty=null,Oq.apply(kq,arguments)}function Rq(t,e,r,n,i,o,a,s,l){if(Nq.apply(this,arguments),ch){if(ch){var c=Ty;ch=!1,Ty=null}else throw Error(ae(198));Ay||(Ay=!0,L_=c)}}function dc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Z$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pO(t){if(dc(t)!==t)throw Error(ae(188))}function jq(t){var e=t.alternate;if(!e){if(e=dc(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return pO(i),t;if(o===n)return pO(i),e;o=o.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function J$(t){return t=jq(t),t!==null?eL(t):null}function eL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eL(t);if(e!==null)return e;t=t.sibling}return null}var tL=Hn.unstable_scheduleCallback,mO=Hn.unstable_cancelCallback,Dq=Hn.unstable_shouldYield,Mq=Hn.unstable_requestPaint,rr=Hn.unstable_now,$q=Hn.unstable_getCurrentPriorityLevel,mT=Hn.unstable_ImmediatePriority,rL=Hn.unstable_UserBlockingPriority,Py=Hn.unstable_NormalPriority,Lq=Hn.unstable_LowPriority,nL=Hn.unstable_IdlePriority,k0=null,ho=null;function Vq(t){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(k0,t,void 0,(t.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:Bq,Fq=Math.log,Uq=Math.LN2;function Bq(t){return t>>>=0,t===0?32:31-(Fq(t)/Uq|0)|0}var ag=64,sg=4194304;function Yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cy(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=Yf(s):(o&=a,o!==0&&(n=Yf(o)))}else a=r&~i,a!==0?n=Yf(a):o!==0&&(n=Yf(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Li(e),i=1<<r,n|=t[r],e&=~i;return n}function zq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wq(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Li(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=zq(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function V_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iL(){var t=ag;return ag<<=1,!(ag&4194240)&&(ag=64),t}function qw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Li(e),t[e]=r}function qq(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Li(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function gT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Li(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var wt=0;function oL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aL,yT,sL,lL,cL,F_=!1,lg=[],us=null,ds=null,fs=null,Lh=new Map,Vh=new Map,qa=[],Hq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gO(t,e){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(e.pointerId)}}function Pf(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=om(e),e!==null&&yT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Gq(t,e,r,n,i){switch(e){case"focusin":return us=Pf(us,t,e,r,n,i),!0;case"dragenter":return ds=Pf(ds,t,e,r,n,i),!0;case"mouseover":return fs=Pf(fs,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Lh.set(o,Pf(Lh.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Vh.set(o,Pf(Vh.get(o)||null,t,e,r,n,i)),!0}return!1}function uL(t){var e=vl(t.target);if(e!==null){var r=dc(e);if(r!==null){if(e=r.tag,e===13){if(e=Z$(r),e!==null){t.blockedOn=e,cL(t.priority,function(){sL(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=U_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);D_=n,r.target.dispatchEvent(n),D_=null}else return e=om(r),e!==null&&yT(e),t.blockedOn=r,!1;e.shift()}return!0}function yO(t,e,r){Xg(t)&&r.delete(e)}function Kq(){F_=!1,us!==null&&Xg(us)&&(us=null),ds!==null&&Xg(ds)&&(ds=null),fs!==null&&Xg(fs)&&(fs=null),Lh.forEach(yO),Vh.forEach(yO)}function Cf(t,e){t.blockedOn===e&&(t.blockedOn=null,F_||(F_=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,Kq)))}function Fh(t){function e(i){return Cf(i,t)}if(0<lg.length){Cf(lg[0],t);for(var r=1;r<lg.length;r++){var n=lg[r];n.blockedOn===t&&(n.blockedOn=null)}}for(us!==null&&Cf(us,t),ds!==null&&Cf(ds,t),fs!==null&&Cf(fs,t),Lh.forEach(e),Vh.forEach(e),r=0;r<qa.length;r++)n=qa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)uL(r),r.blockedOn===null&&qa.shift()}var uu=Ta.ReactCurrentBatchConfig,Iy=!0;function Qq(t,e,r,n){var i=wt,o=uu.transition;uu.transition=null;try{wt=1,vT(t,e,r,n)}finally{wt=i,uu.transition=o}}function Yq(t,e,r,n){var i=wt,o=uu.transition;uu.transition=null;try{wt=4,vT(t,e,r,n)}finally{wt=i,uu.transition=o}}function vT(t,e,r,n){if(Iy){var i=U_(t,e,r,n);if(i===null)tx(t,e,n,Oy,r),gO(t,n);else if(Gq(i,t,e,r,n))n.stopPropagation();else if(gO(t,n),e&4&&-1<Hq.indexOf(t)){for(;i!==null;){var o=om(i);if(o!==null&&aL(o),o=U_(t,e,r,n),o===null&&tx(t,e,n,Oy,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else tx(t,e,n,null,r)}}var Oy=null;function U_(t,e,r,n){if(Oy=null,t=pT(n),t=vl(t),t!==null)if(e=dc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Z$(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oy=t,null}function dL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($q()){case mT:return 1;case rL:return 4;case Py:case Lq:return 16;case nL:return 536870912;default:return 16}default:return 16}}var os=null,bT=null,Zg=null;function fL(){if(Zg)return Zg;var t,e=bT,r=e.length,n,i="value"in os?os.value:os.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Zg=i.slice(t,1<n?1-n:void 0)}function Jg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cg(){return!0}function vO(){return!1}function Zn(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cg:vO,this.isPropagationStopped=vO,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cg)},persist:function(){},isPersistent:cg}),e}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wT=Zn($d),im=qt({},$d,{view:0,detail:0}),Xq=Zn(im),Hw,Gw,If,N0=qt({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==If&&(If&&t.type==="mousemove"?(Hw=t.screenX-If.screenX,Gw=t.screenY-If.screenY):Gw=Hw=0,If=t),Hw)},movementY:function(t){return"movementY"in t?t.movementY:Gw}}),bO=Zn(N0),Zq=qt({},N0,{dataTransfer:0}),Jq=Zn(Zq),e7=qt({},im,{relatedTarget:0}),Kw=Zn(e7),t7=qt({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),r7=Zn(t7),n7=qt({},$d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i7=Zn(n7),o7=qt({},$d,{data:0}),wO=Zn(o7),a7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l7[t])?!!e[t]:!1}function xT(){return c7}var u7=qt({},im,{key:function(t){if(t.key){var e=a7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xT,charCode:function(t){return t.type==="keypress"?Jg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d7=Zn(u7),f7=qt({},N0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xO=Zn(f7),h7=qt({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xT}),p7=Zn(h7),m7=qt({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),g7=Zn(m7),y7=qt({},N0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v7=Zn(y7),b7=[9,13,27,32],_T=ua&&"CompositionEvent"in window,uh=null;ua&&"documentMode"in document&&(uh=document.documentMode);var w7=ua&&"TextEvent"in window&&!uh,hL=ua&&(!_T||uh&&8<uh&&11>=uh),_O=" ",EO=!1;function pL(t,e){switch(t){case"keyup":return b7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gc=!1;function x7(t,e){switch(t){case"compositionend":return mL(e);case"keypress":return e.which!==32?null:(EO=!0,_O);case"textInput":return t=e.data,t===_O&&EO?null:t;default:return null}}function _7(t,e){if(Gc)return t==="compositionend"||!_T&&pL(t,e)?(t=fL(),Zg=bT=os=null,Gc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hL&&e.locale!=="ko"?null:e.data;default:return null}}var E7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E7[t.type]:e==="textarea"}function gL(t,e,r,n){G$(n),e=ky(e,"onChange"),0<e.length&&(r=new wT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var dh=null,Uh=null;function S7(t){PL(t,0)}function R0(t){var e=Yc(t);if(F$(e))return t}function T7(t,e){if(t==="change")return e}var yL=!1;if(ua){var Qw;if(ua){var Yw="oninput"in document;if(!Yw){var TO=document.createElement("div");TO.setAttribute("oninput","return;"),Yw=typeof TO.oninput=="function"}Qw=Yw}else Qw=!1;yL=Qw&&(!document.documentMode||9<document.documentMode)}function AO(){dh&&(dh.detachEvent("onpropertychange",vL),Uh=dh=null)}function vL(t){if(t.propertyName==="value"&&R0(Uh)){var e=[];gL(e,Uh,t,pT(t)),X$(S7,e)}}function A7(t,e,r){t==="focusin"?(AO(),dh=e,Uh=r,dh.attachEvent("onpropertychange",vL)):t==="focusout"&&AO()}function P7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return R0(Uh)}function C7(t,e){if(t==="click")return R0(e)}function I7(t,e){if(t==="input"||t==="change")return R0(e)}function O7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zi=typeof Object.is=="function"?Object.is:O7;function Bh(t,e){if(zi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!E_.call(e,i)||!zi(t[i],e[i]))return!1}return!0}function PO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CO(t,e){var r=PO(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PO(r)}}function bL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wL(){for(var t=window,e=Sy();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sy(t.document)}return e}function ET(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k7(t){var e=wL(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bL(r.ownerDocument.documentElement,r)){if(n!==null&&ET(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=CO(r,o);var a=CO(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N7=ua&&"documentMode"in document&&11>=document.documentMode,Kc=null,B_=null,fh=null,z_=!1;function IO(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;z_||Kc==null||Kc!==Sy(n)||(n=Kc,"selectionStart"in n&&ET(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fh&&Bh(fh,n)||(fh=n,n=ky(B_,"onSelect"),0<n.length&&(e=new wT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kc)))}function ug(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qc={animationend:ug("Animation","AnimationEnd"),animationiteration:ug("Animation","AnimationIteration"),animationstart:ug("Animation","AnimationStart"),transitionend:ug("Transition","TransitionEnd")},Xw={},xL={};ua&&(xL=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function j0(t){if(Xw[t])return Xw[t];if(!Qc[t])return t;var e=Qc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xL)return Xw[t]=e[r];return t}var _L=j0("animationend"),EL=j0("animationiteration"),SL=j0("animationstart"),TL=j0("transitionend"),AL=new Map,OO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){AL.set(t,e),uc(e,[t])}for(var Zw=0;Zw<OO.length;Zw++){var Jw=OO[Zw],R7=Jw.toLowerCase(),j7=Jw[0].toUpperCase()+Jw.slice(1);Bs(R7,"on"+j7)}Bs(_L,"onAnimationEnd");Bs(EL,"onAnimationIteration");Bs(SL,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(TL,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xf));function kO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Rq(n,e,void 0,t),t.currentTarget=null}function PL(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;kO(i,s,c),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;kO(i,s,c),o=l}}}if(Ay)throw t=L_,Ay=!1,L_=null,t}function jt(t,e){var r=e[K_];r===void 0&&(r=e[K_]=new Set);var n=t+"__bubble";r.has(n)||(CL(e,t,2,!1),r.add(n))}function ex(t,e,r){var n=0;e&&(n|=4),CL(r,t,n,e)}var dg="_reactListening"+Math.random().toString(36).slice(2);function zh(t){if(!t[dg]){t[dg]=!0,D$.forEach(function(r){r!=="selectionchange"&&(D7.has(r)||ex(r,!1,t),ex(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dg]||(e[dg]=!0,ex("selectionchange",!1,e))}}function CL(t,e,r,n){switch(dL(e)){case 1:var i=Qq;break;case 4:i=Yq;break;default:i=vT}r=i.bind(null,e,r,t),i=void 0,!$_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function tx(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=vl(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}X$(function(){var c=o,u=pT(r),d=[];e:{var f=AL.get(t);if(f!==void 0){var m=wT,v=t;switch(t){case"keypress":if(Jg(r)===0)break e;case"keydown":case"keyup":m=d7;break;case"focusin":v="focus",m=Kw;break;case"focusout":v="blur",m=Kw;break;case"beforeblur":case"afterblur":m=Kw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Jq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=p7;break;case _L:case EL:case SL:m=r7;break;case TL:m=g7;break;case"scroll":m=Xq;break;case"wheel":m=v7;break;case"copy":case"cut":case"paste":m=i7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xO}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,x!==null&&(E=$h(y,x),E!=null&&g.push(Wh(y,E,w)))),b)break;y=y.return}0<g.length&&(f=new m(f,v,null,r,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==D_&&(v=r.relatedTarget||r.fromElement)&&(vl(v)||v[da]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=c,v=v?vl(v):null,v!==null&&(b=dc(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(g=bO,E="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=xO,E="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?f:Yc(m),w=v==null?f:Yc(v),f=new g(E,y+"leave",m,r,u),f.target=b,f.relatedTarget=w,E=null,vl(u)===c&&(g=new g(x,y+"enter",v,r,u),g.target=w,g.relatedTarget=b,E=g),b=E,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=Ic(w))y++;for(w=0,E=x;E;E=Ic(E))w++;for(;0<y-w;)g=Ic(g),y--;for(;0<w-y;)x=Ic(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ic(g),x=Ic(x)}g=null}else g=null;m!==null&&NO(d,f,m,g,!1),v!==null&&b!==null&&NO(d,b,v,g,!0)}}e:{if(f=c?Yc(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=T7;else if(SO(f))if(yL)S=I7;else{S=P7;var C=A7}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=C7);if(S&&(S=S(t,c))){gL(d,S,r,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&O_(f,"number",f.value)}switch(C=c?Yc(c):window,t){case"focusin":(SO(C)||C.contentEditable==="true")&&(Kc=C,B_=c,fh=null);break;case"focusout":fh=B_=Kc=null;break;case"mousedown":z_=!0;break;case"contextmenu":case"mouseup":case"dragend":z_=!1,IO(d,r,u);break;case"selectionchange":if(N7)break;case"keydown":case"keyup":IO(d,r,u)}var _;if(_T)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gc?pL(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(hL&&r.locale!=="ko"&&(Gc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gc&&(_=fL()):(os=u,bT="value"in os?os.value:os.textContent,Gc=!0)),C=ky(c,T),0<C.length&&(T=new wO(T,t,null,r,u),d.push({event:T,listeners:C}),_?T.data=_:(_=mL(r),_!==null&&(T.data=_)))),(_=w7?x7(t,r):_7(t,r))&&(c=ky(c,"onBeforeInput"),0<c.length&&(u=new wO("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=_))}PL(d,e)})}function Wh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ky(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$h(t,r),o!=null&&n.unshift(Wh(t,o,i)),o=$h(t,e),o!=null&&n.push(Wh(t,o,i))),t=t.return}return n}function Ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NO(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=$h(r,o),l!=null&&a.unshift(Wh(r,l,s))):i||(l=$h(r,o),l!=null&&a.push(Wh(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var M7=/\r\n?/g,$7=/\u0000|\uFFFD/g;function RO(t){return(typeof t=="string"?t:""+t).replace(M7,`
`).replace($7,"")}function fg(t,e,r){if(e=RO(e),RO(t)!==e&&r)throw Error(ae(425))}function Ny(){}var W_=null,q_=null;function H_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G_=typeof setTimeout=="function"?setTimeout:void 0,L7=typeof clearTimeout=="function"?clearTimeout:void 0,jO=typeof Promise=="function"?Promise:void 0,V7=typeof queueMicrotask=="function"?queueMicrotask:typeof jO<"u"?function(t){return jO.resolve(null).then(t).catch(F7)}:G_;function F7(t){setTimeout(function(){throw t})}function rx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fh(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),oo="__reactFiber$"+Ld,qh="__reactProps$"+Ld,da="__reactContainer$"+Ld,K_="__reactEvents$"+Ld,U7="__reactListeners$"+Ld,B7="__reactHandles$"+Ld;function vl(t){var e=t[oo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[da]||r[oo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=DO(t);t!==null;){if(r=t[oo])return r;t=DO(t)}return e}t=r,r=t.parentNode}return null}function om(t){return t=t[oo]||t[da],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function D0(t){return t[qh]||null}var Q_=[],Xc=-1;function zs(t){return{current:t}}function Vt(t){0>Xc||(t.current=Q_[Xc],Q_[Xc]=null,Xc--)}function Ot(t,e){Xc++,Q_[Xc]=t.current,t.current=e}var Is={},Xr=zs(Is),Tn=zs(!1),Ul=Is;function Hu(t,e){var r=t.type.contextTypes;if(!r)return Is;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function Ry(){Vt(Tn),Vt(Xr)}function MO(t,e,r){if(Xr.current!==Is)throw Error(ae(168));Ot(Xr,e),Ot(Tn,r)}function IL(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,Aq(t)||"Unknown",i));return qt({},r,n)}function jy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,Ul=Xr.current,Ot(Xr,t),Ot(Tn,Tn.current),!0}function $O(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=IL(t,e,Ul),n.__reactInternalMemoizedMergedChildContext=t,Vt(Tn),Vt(Xr),Ot(Xr,t)):Vt(Tn),Ot(Tn,r)}var qo=null,M0=!1,nx=!1;function OL(t){qo===null?qo=[t]:qo.push(t)}function z7(t){M0=!0,OL(t)}function Ws(){if(!nx&&qo!==null){nx=!0;var t=0,e=wt;try{var r=qo;for(wt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qo=null,M0=!1}catch(i){throw qo!==null&&(qo=qo.slice(t+1)),tL(mT,Ws),i}finally{wt=e,nx=!1}}return null}var Zc=[],Jc=0,Dy=null,My=0,oi=[],ai=0,Bl=null,Ko=1,Qo="";function dl(t,e){Zc[Jc++]=My,Zc[Jc++]=Dy,Dy=t,My=e}function kL(t,e,r){oi[ai++]=Ko,oi[ai++]=Qo,oi[ai++]=Bl,Bl=t;var n=Ko;t=Qo;var i=32-Li(n)-1;n&=~(1<<i),r+=1;var o=32-Li(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ko=1<<32-Li(e)+i|r<<i|n,Qo=o+t}else Ko=1<<o|r<<i|n,Qo=t}function ST(t){t.return!==null&&(dl(t,1),kL(t,1,0))}function TT(t){for(;t===Dy;)Dy=Zc[--Jc],Zc[Jc]=null,My=Zc[--Jc],Zc[Jc]=null;for(;t===Bl;)Bl=oi[--ai],oi[ai]=null,Qo=oi[--ai],oi[ai]=null,Ko=oi[--ai],oi[ai]=null}var Wn=null,Fn=null,Ft=!1,Ii=null;function NL(t,e){var r=si(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function LO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,Fn=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bl!==null?{id:Ko,overflow:Qo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=si(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wn=t,Fn=null,!0):!1;default:return!1}}function Y_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function X_(t){if(Ft){var e=Fn;if(e){var r=e;if(!LO(t,e)){if(Y_(t))throw Error(ae(418));e=hs(r.nextSibling);var n=Wn;e&&LO(t,e)?NL(n,r):(t.flags=t.flags&-4097|2,Ft=!1,Wn=t)}}else{if(Y_(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Ft=!1,Wn=t}}}function VO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function hg(t){if(t!==Wn)return!1;if(!Ft)return VO(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!H_(t.type,t.memoizedProps)),e&&(e=Fn)){if(Y_(t))throw RL(),Error(ae(418));for(;e;)NL(t,e),e=hs(e.nextSibling)}if(VO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fn=hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Wn?hs(t.stateNode.nextSibling):null;return!0}function RL(){for(var t=Fn;t;)t=hs(t.nextSibling)}function Gu(){Fn=Wn=null,Ft=!1}function AT(t){Ii===null?Ii=[t]:Ii.push(t)}var W7=Ta.ReactCurrentBatchConfig;function Of(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function pg(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function FO(t){var e=t._init;return e(t._payload)}function jL(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ys(x,y),x.index=0,x.sibling=null,x}function o(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,y,w,E){return y===null||y.tag!==6?(y=ux(w,x.mode,E),y.return=x,y):(y=i(y,w),y.return=x,y)}function l(x,y,w,E){var S=w.type;return S===Hc?u(x,y,w.props.children,E,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ua&&FO(S)===y.type)?(E=i(y,w.props),E.ref=Of(x,y,w),E.return=x,E):(E=ay(w.type,w.key,w.props,null,x.mode,E),E.ref=Of(x,y,w),E.return=x,E)}function c(x,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=dx(w,x.mode,E),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function u(x,y,w,E,S){return y===null||y.tag!==7?(y=Ml(w,x.mode,E,S),y.return=x,y):(y=i(y,w),y.return=x,y)}function d(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ux(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ng:return w=ay(y.type,y.key,y.props,null,x.mode,w),w.ref=Of(x,null,y),w.return=x,w;case qc:return y=dx(y,x.mode,w),y.return=x,y;case Ua:var E=y._init;return d(x,E(y._payload),w)}if(Qf(y)||Tf(y))return y=Ml(y,x.mode,w,null),y.return=x,y;pg(x,y)}return null}function f(x,y,w,E){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ng:return w.key===S?l(x,y,w,E):null;case qc:return w.key===S?c(x,y,w,E):null;case Ua:return S=w._init,f(x,y,S(w._payload),E)}if(Qf(w)||Tf(w))return S!==null?null:u(x,y,w,E,null);pg(x,w)}return null}function m(x,y,w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(w)||null,s(y,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ng:return x=x.get(E.key===null?w:E.key)||null,l(y,x,E,S);case qc:return x=x.get(E.key===null?w:E.key)||null,c(y,x,E,S);case Ua:var C=E._init;return m(x,y,w,C(E._payload),S)}if(Qf(E)||Tf(E))return x=x.get(w)||null,u(y,x,E,S,null);pg(y,E)}return null}function v(x,y,w,E){for(var S=null,C=null,_=y,T=y=0,A=null;_!==null&&T<w.length;T++){_.index>T?(A=_,_=null):A=_.sibling;var N=f(x,_,w[T],E);if(N===null){_===null&&(_=A);break}t&&_&&N.alternate===null&&e(x,_),y=o(N,y,T),C===null?S=N:C.sibling=N,C=N,_=A}if(T===w.length)return r(x,_),Ft&&dl(x,T),S;if(_===null){for(;T<w.length;T++)_=d(x,w[T],E),_!==null&&(y=o(_,y,T),C===null?S=_:C.sibling=_,C=_);return Ft&&dl(x,T),S}for(_=n(x,_);T<w.length;T++)A=m(_,x,T,w[T],E),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?T:A.key),y=o(A,y,T),C===null?S=A:C.sibling=A,C=A);return t&&_.forEach(function(I){return e(x,I)}),Ft&&dl(x,T),S}function g(x,y,w,E){var S=Tf(w);if(typeof S!="function")throw Error(ae(150));if(w=S.call(w),w==null)throw Error(ae(151));for(var C=S=null,_=y,T=y=0,A=null,N=w.next();_!==null&&!N.done;T++,N=w.next()){_.index>T?(A=_,_=null):A=_.sibling;var I=f(x,_,N.value,E);if(I===null){_===null&&(_=A);break}t&&_&&I.alternate===null&&e(x,_),y=o(I,y,T),C===null?S=I:C.sibling=I,C=I,_=A}if(N.done)return r(x,_),Ft&&dl(x,T),S;if(_===null){for(;!N.done;T++,N=w.next())N=d(x,N.value,E),N!==null&&(y=o(N,y,T),C===null?S=N:C.sibling=N,C=N);return Ft&&dl(x,T),S}for(_=n(x,_);!N.done;T++,N=w.next())N=m(_,x,T,N.value,E),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?T:N.key),y=o(N,y,T),C===null?S=N:C.sibling=N,C=N);return t&&_.forEach(function(k){return e(x,k)}),Ft&&dl(x,T),S}function b(x,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Hc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ng:e:{for(var S=w.key,C=y;C!==null;){if(C.key===S){if(S=w.type,S===Hc){if(C.tag===7){r(x,C.sibling),y=i(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ua&&FO(S)===C.type){r(x,C.sibling),y=i(C,w.props),y.ref=Of(x,C,w),y.return=x,x=y;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===Hc?(y=Ml(w.props.children,x.mode,E,w.key),y.return=x,x=y):(E=ay(w.type,w.key,w.props,null,x.mode,E),E.ref=Of(x,y,w),E.return=x,x=E)}return a(x);case qc:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=dx(w,x.mode,E),y.return=x,x=y}return a(x);case Ua:return C=w._init,b(x,y,C(w._payload),E)}if(Qf(w))return v(x,y,w,E);if(Tf(w))return g(x,y,w,E);pg(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=ux(w,x.mode,E),y.return=x,x=y),a(x)):r(x,y)}return b}var Ku=jL(!0),DL=jL(!1),$y=zs(null),Ly=null,eu=null,PT=null;function CT(){PT=eu=Ly=null}function IT(t){var e=$y.current;Vt($y),t._currentValue=e}function Z_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function du(t,e){Ly=t,PT=eu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(PT!==t)if(t={context:t,memoizedValue:e,next:null},eu===null){if(Ly===null)throw Error(ae(308));eu=t,Ly.dependencies={lanes:0,firstContext:t}}else eu=eu.next=t;return e}var bl=null;function OT(t){bl===null?bl=[t]:bl.push(t)}function ML(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,OT(e)):(r.next=i.next,i.next=r),e.interleaved=r,fa(t,n)}function fa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ba=!1;function kT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $L(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ra(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,at&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fa(t,r)}return i=n.interleaved,i===null?(e.next=e,OT(n)):(e.next=i.next,i.next=e),n.interleaved=e,fa(t,r)}function ey(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gT(t,r)}}function UO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vy(t,e,r,n){var i=t.updateQueue;Ba=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var f=s.lane,m=s.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,g=s;switch(f=e,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=qt({},d,f);break e;case 2:Ba=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else m={eventTime:m,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wl|=a,t.lanes=a,t.memoizedState=d}}function BO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var am={},po=zs(am),Hh=zs(am),Gh=zs(am);function wl(t){if(t===am)throw Error(ae(174));return t}function NT(t,e){switch(Ot(Gh,e),Ot(Hh,t),Ot(po,am),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N_(e,t)}Vt(po),Ot(po,e)}function Qu(){Vt(po),Vt(Hh),Vt(Gh)}function LL(t){wl(Gh.current);var e=wl(po.current),r=N_(e,t.type);e!==r&&(Ot(Hh,t),Ot(po,r))}function RT(t){Hh.current===t&&(Vt(po),Vt(Hh))}var zt=zs(0);function Fy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ix=[];function jT(){for(var t=0;t<ix.length;t++)ix[t]._workInProgressVersionPrimary=null;ix.length=0}var ty=Ta.ReactCurrentDispatcher,ox=Ta.ReactCurrentBatchConfig,zl=0,Wt=null,pr=null,_r=null,Uy=!1,hh=!1,Kh=0,q7=0;function Vr(){throw Error(ae(321))}function DT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zi(t[r],e[r]))return!1;return!0}function MT(t,e,r,n,i,o){if(zl=o,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ty.current=t===null||t.memoizedState===null?Q7:Y7,t=r(n,i),hh){o=0;do{if(hh=!1,Kh=0,25<=o)throw Error(ae(301));o+=1,_r=pr=null,e.updateQueue=null,ty.current=X7,t=r(n,i)}while(hh)}if(ty.current=By,e=pr!==null&&pr.next!==null,zl=0,_r=pr=Wt=null,Uy=!1,e)throw Error(ae(300));return t}function $T(){var t=Kh!==0;return Kh=0,t}function Zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Wt.memoizedState=_r=t:_r=_r.next=t,_r}function hi(){if(pr===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=pr.next;var e=_r===null?Wt.memoizedState:_r.next;if(e!==null)_r=e,pr=t;else{if(t===null)throw Error(ae(310));pr=t,t={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},_r===null?Wt.memoizedState=_r=t:_r=_r.next=t}return _r}function Qh(t,e){return typeof e=="function"?e(t):e}function ax(t){var e=hi(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=pr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((zl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=n):l=l.next=d,Wt.lanes|=u,Wl|=u}c=c.next}while(c!==null&&c!==o);l===null?a=n:l.next=s,zi(n,e.memoizedState)||(_n=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,Wt.lanes|=o,Wl|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sx(t){var e=hi(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);zi(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function VL(){}function FL(t,e){var r=Wt,n=hi(),i=e(),o=!zi(n.memoizedState,i);if(o&&(n.memoizedState=i,_n=!0),n=n.queue,LT(zL.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||_r!==null&&_r.memoizedState.tag&1){if(r.flags|=2048,Yh(9,BL.bind(null,r,n,i,e),void 0,null),Sr===null)throw Error(ae(349));zl&30||UL(r,e,i)}return i}function UL(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BL(t,e,r,n){e.value=r,e.getSnapshot=n,WL(e)&&qL(t)}function zL(t,e,r){return r(function(){WL(e)&&qL(t)})}function WL(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zi(t,r)}catch{return!0}}function qL(t){var e=fa(t,1);e!==null&&Vi(e,t,1,-1)}function zO(t){var e=Zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:t},e.queue=t,t=t.dispatch=K7.bind(null,Wt,t),[e.memoizedState,t]}function Yh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function HL(){return hi().memoizedState}function ry(t,e,r,n){var i=Zi();Wt.flags|=t,i.memoizedState=Yh(1|e,r,void 0,n===void 0?null:n)}function $0(t,e,r,n){var i=hi();n=n===void 0?null:n;var o=void 0;if(pr!==null){var a=pr.memoizedState;if(o=a.destroy,n!==null&&DT(n,a.deps)){i.memoizedState=Yh(e,r,o,n);return}}Wt.flags|=t,i.memoizedState=Yh(1|e,r,o,n)}function WO(t,e){return ry(8390656,8,t,e)}function LT(t,e){return $0(2048,8,t,e)}function GL(t,e){return $0(4,2,t,e)}function KL(t,e){return $0(4,4,t,e)}function QL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YL(t,e,r){return r=r!=null?r.concat([t]):null,$0(4,4,QL.bind(null,e,t),r)}function VT(){}function XL(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&DT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ZL(t,e){var r=hi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&DT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function JL(t,e,r){return zl&21?(zi(r,e)||(r=iL(),Wt.lanes|=r,Wl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=r)}function H7(t,e){var r=wt;wt=r!==0&&4>r?r:4,t(!0);var n=ox.transition;ox.transition={};try{t(!1),e()}finally{wt=r,ox.transition=n}}function e4(){return hi().memoizedState}function G7(t,e,r){var n=gs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t4(t))r4(e,r);else if(r=ML(t,e,r,n),r!==null){var i=dn();Vi(r,t,n,i),n4(r,e,n)}}function K7(t,e,r){var n=gs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t4(t))r4(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,zi(s,a)){var l=e.interleaved;l===null?(i.next=i,OT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ML(t,e,i,n),r!==null&&(i=dn(),Vi(r,t,n,i),n4(r,e,n))}}function t4(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function r4(t,e){hh=Uy=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function n4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gT(t,r)}}var By={readContext:fi,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},Q7={readContext:fi,useCallback:function(t,e){return Zi().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:WO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ry(4194308,4,QL.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ry(4194308,4,t,e)},useInsertionEffect:function(t,e){return ry(4,2,t,e)},useMemo:function(t,e){var r=Zi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Zi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=G7.bind(null,Wt,t),[n.memoizedState,t]},useRef:function(t){var e=Zi();return t={current:t},e.memoizedState=t},useState:zO,useDebugValue:VT,useDeferredValue:function(t){return Zi().memoizedState=t},useTransition:function(){var t=zO(!1),e=t[0];return t=H7.bind(null,t[1]),Zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Wt,i=Zi();if(Ft){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),Sr===null)throw Error(ae(349));zl&30||UL(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,WO(zL.bind(null,n,o,t),[t]),n.flags|=2048,Yh(9,BL.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Zi(),e=Sr.identifierPrefix;if(Ft){var r=Qo,n=Ko;r=(n&~(1<<32-Li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=q7++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y7={readContext:fi,useCallback:XL,useContext:fi,useEffect:LT,useImperativeHandle:YL,useInsertionEffect:GL,useLayoutEffect:KL,useMemo:ZL,useReducer:ax,useRef:HL,useState:function(){return ax(Qh)},useDebugValue:VT,useDeferredValue:function(t){var e=hi();return JL(e,pr.memoizedState,t)},useTransition:function(){var t=ax(Qh)[0],e=hi().memoizedState;return[t,e]},useMutableSource:VL,useSyncExternalStore:FL,useId:e4,unstable_isNewReconciler:!1},X7={readContext:fi,useCallback:XL,useContext:fi,useEffect:LT,useImperativeHandle:YL,useInsertionEffect:GL,useLayoutEffect:KL,useMemo:ZL,useReducer:sx,useRef:HL,useState:function(){return sx(Qh)},useDebugValue:VT,useDeferredValue:function(t){var e=hi();return pr===null?e.memoizedState=t:JL(e,pr.memoizedState,t)},useTransition:function(){var t=sx(Qh)[0],e=hi().memoizedState;return[t,e]},useMutableSource:VL,useSyncExternalStore:FL,useId:e4,unstable_isNewReconciler:!1};function Ei(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function J_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var L0={isMounted:function(t){return(t=t._reactInternals)?dc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=dn(),i=gs(t),o=ra(n,i);o.payload=e,r!=null&&(o.callback=r),e=ps(t,o,i),e!==null&&(Vi(e,t,i,n),ey(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=dn(),i=gs(t),o=ra(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=ps(t,o,i),e!==null&&(Vi(e,t,i,n),ey(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=dn(),n=gs(t),i=ra(r,n);i.tag=2,e!=null&&(i.callback=e),e=ps(t,i,n),e!==null&&(Vi(e,t,n,r),ey(e,t,n))}};function qO(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Bh(r,n)||!Bh(i,o):!0}function i4(t,e,r){var n=!1,i=Is,o=e.contextType;return typeof o=="object"&&o!==null?o=fi(o):(i=An(e)?Ul:Xr.current,n=e.contextTypes,o=(n=n!=null)?Hu(t,i):Is),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function HO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&L0.enqueueReplaceState(e,e.state,null)}function e1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},kT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fi(o):(o=An(e)?Ul:Xr.current,i.context=Hu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(J_(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&L0.enqueueReplaceState(i,i.state,null),Vy(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yu(t,e){try{var r="",n=e;do r+=Tq(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function t1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Z7=typeof WeakMap=="function"?WeakMap:Map;function o4(t,e,r){r=ra(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wy||(Wy=!0,d1=n),t1(t,e)},r}function a4(t,e,r){r=ra(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){t1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){t1(t,e),typeof n!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function GO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Z7;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=fH.bind(null,t,e,r),e.then(t,t))}function KO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QO(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ra(-1,1),e.tag=2,ps(r,e,1))),r.lanes|=1),t)}var J7=Ta.ReactCurrentOwner,_n=!1;function sn(t,e,r,n){e.child=t===null?DL(e,null,r,n):Ku(e,t.child,r,n)}function YO(t,e,r,n,i){r=r.render;var o=e.ref;return du(e,i),n=MT(t,e,r,n,o,i),r=$T(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ha(t,e,i)):(Ft&&r&&ST(e),e.flags|=1,sn(t,e,n,i),e.child)}function XO(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!GT(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,s4(t,e,o,n,i)):(t=ay(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Bh,r(a,n)&&t.ref===e.ref)return ha(t,e,i)}return e.flags|=1,t=ys(o,n),t.ref=e.ref,t.return=e,e.child=t}function s4(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Bh(o,n)&&t.ref===e.ref)if(_n=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ha(t,e,i)}return r1(t,e,r,n,i)}function l4(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ru,Dn),Dn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(ru,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ot(ru,Dn),Dn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ot(ru,Dn),Dn|=n;return sn(t,e,i,r),e.child}function c4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function r1(t,e,r,n,i){var o=An(r)?Ul:Xr.current;return o=Hu(e,o),du(e,i),r=MT(t,e,r,n,o,i),n=$T(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ha(t,e,i)):(Ft&&n&&ST(e),e.flags|=1,sn(t,e,r,i),e.child)}function ZO(t,e,r,n,i){if(An(r)){var o=!0;jy(e)}else o=!1;if(du(e,i),e.stateNode===null)ny(t,e),i4(e,r,n),e1(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=An(r)?Ul:Xr.current,c=Hu(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&HO(e,a,n,c),Ba=!1;var f=e.memoizedState;a.state=f,Vy(e,n,a,i),l=e.memoizedState,s!==n||f!==l||Tn.current||Ba?(typeof u=="function"&&(J_(e,r,u,n),l=e.memoizedState),(s=Ba||qO(e,r,s,n,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,$L(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ei(e.type,s),a.props=c,d=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=An(r)?Ul:Xr.current,l=Hu(e,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&HO(e,a,n,l),Ba=!1,f=e.memoizedState,a.state=f,Vy(e,n,a,i);var v=e.memoizedState;s!==d||f!==v||Tn.current||Ba?(typeof m=="function"&&(J_(e,r,m,n),v=e.memoizedState),(c=Ba||qO(e,r,c,n,f,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return n1(t,e,r,n,o,i)}function n1(t,e,r,n,i,o){c4(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&$O(e,r,!1),ha(t,e,o);n=e.stateNode,J7.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ku(e,t.child,null,o),e.child=Ku(e,null,s,o)):sn(t,e,s,o),e.memoizedState=n.state,i&&$O(e,r,!0),e.child}function u4(t){var e=t.stateNode;e.pendingContext?MO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MO(t,e.context,!1),NT(t,e.containerInfo)}function JO(t,e,r,n,i){return Gu(),AT(i),e.flags|=256,sn(t,e,r,n),e.child}var i1={dehydrated:null,treeContext:null,retryLane:0};function o1(t){return{baseLanes:t,cachePool:null,transitions:null}}function d4(t,e,r){var n=e.pendingProps,i=zt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(zt,i&1),t===null)return X_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=U0(a,n,0,null),t=Ml(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=o1(r),e.memoizedState=i1,t):FT(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return eH(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ys(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ys(s,o):(o=Ml(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?o1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=i1,n}return o=t.child,t=o.sibling,n=ys(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FT(t,e){return e=U0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mg(t,e,r,n){return n!==null&&AT(n),Ku(e,t.child,null,r),t=FT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eH(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=lx(Error(ae(422))),mg(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=U0({mode:"visible",children:n.children},i,0,null),o=Ml(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Ku(e,t.child,null,a),e.child.memoizedState=o1(a),e.memoizedState=i1,o);if(!(e.mode&1))return mg(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(ae(419)),n=lx(o,n,void 0),mg(t,e,a,n)}if(s=(a&t.childLanes)!==0,_n||s){if(n=Sr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fa(t,i),Vi(n,t,i,-1))}return HT(),n=lx(Error(ae(421))),mg(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=hs(i.nextSibling),Wn=e,Ft=!0,Ii=null,t!==null&&(oi[ai++]=Ko,oi[ai++]=Qo,oi[ai++]=Bl,Ko=t.id,Qo=t.overflow,Bl=e),e=FT(e,n.children),e.flags|=4096,e)}function ek(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Z_(t.return,e,r)}function cx(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function f4(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(sn(t,e,n.children,r),n=zt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ek(t,r,e);else if(t.tag===19)ek(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ot(zt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Fy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),cx(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}cx(e,!0,r,null,o);break;case"together":cx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ny(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ha(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Wl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=ys(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ys(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tH(t,e,r){switch(e.tag){case 3:u4(e),Gu();break;case 5:LL(e);break;case 1:An(e.type)&&jy(e);break;case 4:NT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ot($y,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ot(zt,zt.current&1),e.flags|=128,null):r&e.child.childLanes?d4(t,e,r):(Ot(zt,zt.current&1),t=ha(t,e,r),t!==null?t.sibling:null);Ot(zt,zt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return f4(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(zt,zt.current),n)break;return null;case 22:case 23:return e.lanes=0,l4(t,e,r)}return ha(t,e,r)}var h4,a1,p4,m4;h4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};a1=function(){};p4=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,wl(po.current);var o=null;switch(r){case"input":i=C_(t,i),n=C_(t,n),o=[];break;case"select":i=qt({},i,{value:void 0}),n=qt({},n,{value:void 0}),o=[];break;case"textarea":i=k_(t,i),n=k_(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ny)}R_(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};m4=function(t,e,r,n){r!==n&&(e.flags|=4)};function kf(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rH(t,e,r){var n=e.pendingProps;switch(TT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return An(e.type)&&Ry(),Fr(e),null;case 3:return n=e.stateNode,Qu(),Vt(Tn),Vt(Xr),jT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ii!==null&&(p1(Ii),Ii=null))),a1(t,e),Fr(e),null;case 5:RT(e);var i=wl(Gh.current);if(r=e.type,t!==null&&e.stateNode!=null)p4(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return Fr(e),null}if(t=wl(po.current),hg(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[oo]=e,n[qh]=o,t=(e.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(i=0;i<Xf.length;i++)jt(Xf[i],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":cO(n,o),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},jt("invalid",n);break;case"textarea":dO(n,o),jt("invalid",n)}R_(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&fg(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fg(n.textContent,s,t),i=["children",""+s]):Dh.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&jt("scroll",n)}switch(r){case"input":ig(n),uO(n,o,!0);break;case"textarea":ig(n),fO(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ny)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z$(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[oo]=e,t[qh]=n,h4(t,e,!1,!1),e.stateNode=t;e:{switch(a=j_(r,n),r){case"dialog":jt("cancel",t),jt("close",t),i=n;break;case"iframe":case"object":case"embed":jt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xf.length;i++)jt(Xf[i],t);i=n;break;case"source":jt("error",t),i=n;break;case"img":case"image":case"link":jt("error",t),jt("load",t),i=n;break;case"details":jt("toggle",t),i=n;break;case"input":cO(t,n),i=C_(t,n),jt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=qt({},n,{value:void 0}),jt("invalid",t);break;case"textarea":dO(t,n),i=k_(t,n),jt("invalid",t);break;default:i=n}R_(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?H$(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W$(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mh(t,l):typeof l=="number"&&Mh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Dh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&jt("scroll",t):l!=null&&uT(t,o,l,a))}switch(r){case"input":ig(t),uO(t,n,!1);break;case"textarea":ig(t),fO(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Cs(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?su(t,!!n.multiple,o,!1):n.defaultValue!=null&&su(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ny)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)m4(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=wl(Gh.current),wl(po.current),hg(e)){if(n=e.stateNode,r=e.memoizedProps,n[oo]=e,(o=n.nodeValue!==r)&&(t=Wn,t!==null))switch(t.tag){case 3:fg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fg(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[oo]=e,e.stateNode=n}return Fr(e),null;case 13:if(Vt(zt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Fn!==null&&e.mode&1&&!(e.flags&128))RL(),Gu(),e.flags|=98560,o=!1;else if(o=hg(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[oo]=e}else Gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),o=!1}else Ii!==null&&(p1(Ii),Ii=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?mr===0&&(mr=3):HT())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return Qu(),a1(t,e),t===null&&zh(e.stateNode.containerInfo),Fr(e),null;case 10:return IT(e.type._context),Fr(e),null;case 17:return An(e.type)&&Ry(),Fr(e),null;case 19:if(Vt(zt),o=e.memoizedState,o===null)return Fr(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)kf(o,!1);else{if(mr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Fy(t),a!==null){for(e.flags|=128,kf(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ot(zt,zt.current&1|2),e.child}t=t.sibling}o.tail!==null&&rr()>Xu&&(e.flags|=128,n=!0,kf(o,!1),e.lanes=4194304)}else{if(!n)if(t=Fy(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),kf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ft)return Fr(e),null}else 2*rr()-o.renderingStartTime>Xu&&r!==1073741824&&(e.flags|=128,n=!0,kf(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rr(),e.sibling=null,r=zt.current,Ot(zt,n?r&1|2:r&1),e):(Fr(e),null);case 22:case 23:return qT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Dn&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function nH(t,e){switch(TT(e),e.tag){case 1:return An(e.type)&&Ry(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qu(),Vt(Tn),Vt(Xr),jT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return RT(e),null;case 13:if(Vt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));Gu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(zt),null;case 4:return Qu(),null;case 10:return IT(e.type._context),null;case 22:case 23:return qT(),null;case 24:return null;default:return null}}var gg=!1,Hr=!1,iH=typeof WeakSet=="function"?WeakSet:Set,be=null;function tu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zt(t,e,n)}else r.current=null}function s1(t,e,r){try{r()}catch(n){Zt(t,e,n)}}var tk=!1;function oH(t,e){if(W_=Iy,t=wL(),ET(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===r&&++c===i&&(s=a),f===o&&++u===n&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(q_={focusedElem:t,selectionRange:r},Iy=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ei(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(E){Zt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return v=tk,tk=!1,v}function ph(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&s1(e,r,o)}i=i.next}while(i!==n)}}function V0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function l1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function g4(t){var e=t.alternate;e!==null&&(t.alternate=null,g4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[oo],delete e[qh],delete e[K_],delete e[U7],delete e[B7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y4(t){return t.tag===5||t.tag===3||t.tag===4}function rk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ny));else if(n!==4&&(t=t.child,t!==null))for(c1(t,e,r),t=t.sibling;t!==null;)c1(t,e,r),t=t.sibling}function u1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(u1(t,e,r),t=t.sibling;t!==null;)u1(t,e,r),t=t.sibling}var Ir=null,Ti=!1;function ja(t,e,r){for(r=r.child;r!==null;)v4(t,e,r),r=r.sibling}function v4(t,e,r){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(k0,r)}catch{}switch(r.tag){case 5:Hr||tu(r,e);case 6:var n=Ir,i=Ti;Ir=null,ja(t,e,r),Ir=n,Ti=i,Ir!==null&&(Ti?(t=Ir,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ir.removeChild(r.stateNode));break;case 18:Ir!==null&&(Ti?(t=Ir,r=r.stateNode,t.nodeType===8?rx(t.parentNode,r):t.nodeType===1&&rx(t,r),Fh(t)):rx(Ir,r.stateNode));break;case 4:n=Ir,i=Ti,Ir=r.stateNode.containerInfo,Ti=!0,ja(t,e,r),Ir=n,Ti=i;break;case 0:case 11:case 14:case 15:if(!Hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&s1(r,e,a),i=i.next}while(i!==n)}ja(t,e,r);break;case 1:if(!Hr&&(tu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Zt(r,e,s)}ja(t,e,r);break;case 21:ja(t,e,r);break;case 22:r.mode&1?(Hr=(n=Hr)||r.memoizedState!==null,ja(t,e,r),Hr=n):ja(t,e,r);break;default:ja(t,e,r)}}function nk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iH),e.forEach(function(n){var i=pH.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ir=s.stateNode,Ti=!1;break e;case 3:Ir=s.stateNode.containerInfo,Ti=!0;break e;case 4:Ir=s.stateNode.containerInfo,Ti=!0;break e}s=s.return}if(Ir===null)throw Error(ae(160));v4(o,a,i),Ir=null,Ti=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b4(e,t),e=e.sibling}function b4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wi(e,t),Xi(t),n&4){try{ph(3,t,t.return),V0(3,t)}catch(g){Zt(t,t.return,g)}try{ph(5,t,t.return)}catch(g){Zt(t,t.return,g)}}break;case 1:wi(e,t),Xi(t),n&512&&r!==null&&tu(r,r.return);break;case 5:if(wi(e,t),Xi(t),n&512&&r!==null&&tu(r,r.return),t.flags&32){var i=t.stateNode;try{Mh(i,"")}catch(g){Zt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&U$(i,o),j_(s,a);var c=j_(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?H$(i,d):u==="dangerouslySetInnerHTML"?W$(i,d):u==="children"?Mh(i,d):uT(i,u,d,c)}switch(s){case"input":I_(i,o);break;case"textarea":B$(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?su(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?su(i,!!o.multiple,o.defaultValue,!0):su(i,!!o.multiple,o.multiple?[]:"",!1))}i[qh]=o}catch(g){Zt(t,t.return,g)}}break;case 6:if(wi(e,t),Xi(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Zt(t,t.return,g)}}break;case 3:if(wi(e,t),Xi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fh(e.containerInfo)}catch(g){Zt(t,t.return,g)}break;case 4:wi(e,t),Xi(t);break;case 13:wi(e,t),Xi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zT=rr())),n&4&&nk(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Hr=(c=Hr)||u,wi(e,t),Hr=c):wi(e,t),Xi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(be=t,u=t.child;u!==null;){for(d=be=u;be!==null;){switch(f=be,m=f.child,f.tag){case 0:case 11:case 14:case 15:ph(4,f,f.return);break;case 1:tu(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Zt(n,r,g)}}break;case 5:tu(f,f.return);break;case 22:if(f.memoizedState!==null){ok(d);continue}}m!==null?(m.return=f,be=m):ok(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=q$("display",a))}catch(g){Zt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Zt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wi(e,t),Xi(t),n&4&&nk(t);break;case 21:break;default:wi(e,t),Xi(t)}}function Xi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(y4(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mh(i,""),n.flags&=-33);var o=rk(t);u1(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=rk(t);c1(t,s,a);break;default:throw Error(ae(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aH(t,e,r){be=t,w4(t)}function w4(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var i=be,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||gg;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Hr;s=gg;var c=Hr;if(gg=a,(Hr=l)&&!c)for(be=i;be!==null;)a=be,l=a.child,a.tag===22&&a.memoizedState!==null?ak(i):l!==null?(l.return=a,be=l):ak(i);for(;o!==null;)be=o,w4(o),o=o.sibling;be=i,gg=s,Hr=c}ik(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,be=o):ik(t)}}function ik(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hr||V0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ei(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&BO(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}BO(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Hr||e.flags&512&&l1(e)}catch(f){Zt(e,e.return,f)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function ok(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function ak(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{V0(4,e)}catch(l){Zt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Zt(e,i,l)}}var o=e.return;try{l1(e)}catch(l){Zt(e,o,l)}break;case 5:var a=e.return;try{l1(e)}catch(l){Zt(e,a,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){be=null;break}var s=e.sibling;if(s!==null){s.return=e.return,be=s;break}be=e.return}}var sH=Math.ceil,zy=Ta.ReactCurrentDispatcher,UT=Ta.ReactCurrentOwner,ci=Ta.ReactCurrentBatchConfig,at=0,Sr=null,lr=null,Rr=0,Dn=0,ru=zs(0),mr=0,Xh=null,Wl=0,F0=0,BT=0,mh=null,bn=null,zT=0,Xu=1/0,Wo=null,Wy=!1,d1=null,ms=null,yg=!1,as=null,qy=0,gh=0,f1=null,iy=-1,oy=0;function dn(){return at&6?rr():iy!==-1?iy:iy=rr()}function gs(t){return t.mode&1?at&2&&Rr!==0?Rr&-Rr:W7.transition!==null?(oy===0&&(oy=iL()),oy):(t=wt,t!==0||(t=window.event,t=t===void 0?16:dL(t.type)),t):1}function Vi(t,e,r,n){if(50<gh)throw gh=0,f1=null,Error(ae(185));nm(t,r,n),(!(at&2)||t!==Sr)&&(t===Sr&&(!(at&2)&&(F0|=r),mr===4&&Ha(t,Rr)),Pn(t,n),r===1&&at===0&&!(e.mode&1)&&(Xu=rr()+500,M0&&Ws()))}function Pn(t,e){var r=t.callbackNode;Wq(t,e);var n=Cy(t,t===Sr?Rr:0);if(n===0)r!==null&&mO(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mO(r),e===1)t.tag===0?z7(sk.bind(null,t)):OL(sk.bind(null,t)),V7(function(){!(at&6)&&Ws()}),r=null;else{switch(oL(n)){case 1:r=mT;break;case 4:r=rL;break;case 16:r=Py;break;case 536870912:r=nL;break;default:r=Py}r=C4(r,x4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function x4(t,e){if(iy=-1,oy=0,at&6)throw Error(ae(327));var r=t.callbackNode;if(fu()&&t.callbackNode!==r)return null;var n=Cy(t,t===Sr?Rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hy(t,n);else{e=n;var i=at;at|=2;var o=E4();(Sr!==t||Rr!==e)&&(Wo=null,Xu=rr()+500,Dl(t,e));do try{uH();break}catch(s){_4(t,s)}while(!0);CT(),zy.current=o,at=i,lr!==null?e=0:(Sr=null,Rr=0,e=mr)}if(e!==0){if(e===2&&(i=V_(t),i!==0&&(n=i,e=h1(t,i))),e===1)throw r=Xh,Dl(t,0),Ha(t,n),Pn(t,rr()),r;if(e===6)Ha(t,n);else{if(i=t.current.alternate,!(n&30)&&!lH(i)&&(e=Hy(t,n),e===2&&(o=V_(t),o!==0&&(n=o,e=h1(t,o))),e===1))throw r=Xh,Dl(t,0),Ha(t,n),Pn(t,rr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:fl(t,bn,Wo);break;case 3:if(Ha(t,n),(n&130023424)===n&&(e=zT+500-rr(),10<e)){if(Cy(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G_(fl.bind(null,t,bn,Wo),e);break}fl(t,bn,Wo);break;case 4:if(Ha(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Li(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sH(n/1960))-n,10<n){t.timeoutHandle=G_(fl.bind(null,t,bn,Wo),n);break}fl(t,bn,Wo);break;case 5:fl(t,bn,Wo);break;default:throw Error(ae(329))}}}return Pn(t,rr()),t.callbackNode===r?x4.bind(null,t):null}function h1(t,e){var r=mh;return t.current.memoizedState.isDehydrated&&(Dl(t,e).flags|=256),t=Hy(t,e),t!==2&&(e=bn,bn=r,e!==null&&p1(e)),t}function p1(t){bn===null?bn=t:bn.push.apply(bn,t)}function lH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!zi(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ha(t,e){for(e&=~BT,e&=~F0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Li(e),n=1<<r;t[r]=-1,e&=~n}}function sk(t){if(at&6)throw Error(ae(327));fu();var e=Cy(t,0);if(!(e&1))return Pn(t,rr()),null;var r=Hy(t,e);if(t.tag!==0&&r===2){var n=V_(t);n!==0&&(e=n,r=h1(t,n))}if(r===1)throw r=Xh,Dl(t,0),Ha(t,e),Pn(t,rr()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fl(t,bn,Wo),Pn(t,rr()),null}function WT(t,e){var r=at;at|=1;try{return t(e)}finally{at=r,at===0&&(Xu=rr()+500,M0&&Ws())}}function ql(t){as!==null&&as.tag===0&&!(at&6)&&fu();var e=at;at|=1;var r=ci.transition,n=wt;try{if(ci.transition=null,wt=1,t)return t()}finally{wt=n,ci.transition=r,at=e,!(at&6)&&Ws()}}function qT(){Dn=ru.current,Vt(ru)}function Dl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L7(r)),lr!==null)for(r=lr.return;r!==null;){var n=r;switch(TT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ry();break;case 3:Qu(),Vt(Tn),Vt(Xr),jT();break;case 5:RT(n);break;case 4:Qu();break;case 13:Vt(zt);break;case 19:Vt(zt);break;case 10:IT(n.type._context);break;case 22:case 23:qT()}r=r.return}if(Sr=t,lr=t=ys(t.current,null),Rr=Dn=e,mr=0,Xh=null,BT=F0=Wl=0,bn=mh=null,bl!==null){for(e=0;e<bl.length;e++)if(r=bl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}bl=null}return t}function _4(t,e){do{var r=lr;try{if(CT(),ty.current=By,Uy){for(var n=Wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Uy=!1}if(zl=0,_r=pr=Wt=null,hh=!1,Kh=0,UT.current=null,r===null||r.return===null){mr=1,Xh=e,lr=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Rr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=KO(a);if(m!==null){m.flags&=-257,QO(m,a,s,o,e),m.mode&1&&GO(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){GO(o,c,e),HT();break e}l=Error(ae(426))}}else if(Ft&&s.mode&1){var b=KO(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),QO(b,a,s,o,e),AT(Yu(l,s));break e}}o=l=Yu(l,s),mr!==4&&(mr=2),mh===null?mh=[o]:mh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=o4(o,l,e);UO(o,x);break e;case 1:s=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ms===null||!ms.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=a4(o,s,e);UO(o,E);break e}}o=o.return}while(o!==null)}T4(r)}catch(S){e=S,lr===r&&r!==null&&(lr=r=r.return);continue}break}while(!0)}function E4(){var t=zy.current;return zy.current=By,t===null?By:t}function HT(){(mr===0||mr===3||mr===2)&&(mr=4),Sr===null||!(Wl&268435455)&&!(F0&268435455)||Ha(Sr,Rr)}function Hy(t,e){var r=at;at|=2;var n=E4();(Sr!==t||Rr!==e)&&(Wo=null,Dl(t,e));do try{cH();break}catch(i){_4(t,i)}while(!0);if(CT(),at=r,zy.current=n,lr!==null)throw Error(ae(261));return Sr=null,Rr=0,mr}function cH(){for(;lr!==null;)S4(lr)}function uH(){for(;lr!==null&&!Dq();)S4(lr)}function S4(t){var e=P4(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?T4(t):lr=e,UT.current=null}function T4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nH(r,e),r!==null){r.flags&=32767,lr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mr=6,lr=null;return}}else if(r=rH(r,e,Dn),r!==null){lr=r;return}if(e=e.sibling,e!==null){lr=e;return}lr=e=t}while(e!==null);mr===0&&(mr=5)}function fl(t,e,r){var n=wt,i=ci.transition;try{ci.transition=null,wt=1,dH(t,e,r,n)}finally{ci.transition=i,wt=n}return null}function dH(t,e,r,n){do fu();while(as!==null);if(at&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(qq(t,o),t===Sr&&(lr=Sr=null,Rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yg||(yg=!0,C4(Py,function(){return fu(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ci.transition,ci.transition=null;var a=wt;wt=1;var s=at;at|=4,UT.current=null,oH(t,r),b4(r,t),k7(q_),Iy=!!W_,q_=W_=null,t.current=r,aH(r),Mq(),at=s,wt=a,ci.transition=o}else t.current=r;if(yg&&(yg=!1,as=t,qy=i),o=t.pendingLanes,o===0&&(ms=null),Vq(r.stateNode),Pn(t,rr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wy)throw Wy=!1,t=d1,d1=null,t;return qy&1&&t.tag!==0&&fu(),o=t.pendingLanes,o&1?t===f1?gh++:(gh=0,f1=t):gh=0,Ws(),null}function fu(){if(as!==null){var t=oL(qy),e=ci.transition,r=wt;try{if(ci.transition=null,wt=16>t?16:t,as===null)var n=!1;else{if(t=as,as=null,qy=0,at&6)throw Error(ae(331));var i=at;for(at|=4,be=t.current;be!==null;){var o=be,a=o.child;if(be.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:ph(8,u,o)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var f=u.sibling,m=u.return;if(g4(u),u===c){be=null;break}if(f!==null){f.return=m,be=f;break}be=m}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}be=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,be=a;else e:for(;be!==null;){if(o=be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ph(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,be=x;break e}be=o.return}}var y=t.current;for(be=y;be!==null;){a=be;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,be=w;else e:for(a=y;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:V0(9,s)}}catch(S){Zt(s,s.return,S)}if(s===a){be=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,be=E;break e}be=s.return}}if(at=i,Ws(),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(k0,t)}catch{}n=!0}return n}finally{wt=r,ci.transition=e}}return!1}function lk(t,e,r){e=Yu(r,e),e=o4(t,e,1),t=ps(t,e,1),e=dn(),t!==null&&(nm(t,1,e),Pn(t,e))}function Zt(t,e,r){if(t.tag===3)lk(t,t,r);else for(;e!==null;){if(e.tag===3){lk(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ms===null||!ms.has(n))){t=Yu(r,t),t=a4(e,t,1),e=ps(e,t,1),t=dn(),e!==null&&(nm(e,1,t),Pn(e,t));break}}e=e.return}}function fH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&r,Sr===t&&(Rr&r)===r&&(mr===4||mr===3&&(Rr&130023424)===Rr&&500>rr()-zT?Dl(t,0):BT|=r),Pn(t,e)}function A4(t,e){e===0&&(t.mode&1?(e=sg,sg<<=1,!(sg&130023424)&&(sg=4194304)):e=1);var r=dn();t=fa(t,e),t!==null&&(nm(t,e,r),Pn(t,r))}function hH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),A4(t,r)}function pH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),A4(t,r)}var P4;P4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)_n=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _n=!1,tH(t,e,r);_n=!!(t.flags&131072)}else _n=!1,Ft&&e.flags&1048576&&kL(e,My,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ny(t,e),t=e.pendingProps;var i=Hu(e,Xr.current);du(e,r),i=MT(null,e,n,t,i,r);var o=$T();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(n)?(o=!0,jy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kT(e),i.updater=L0,e.stateNode=i,i._reactInternals=e,e1(e,n,t,r),e=n1(null,e,n,!0,o,r)):(e.tag=0,Ft&&o&&ST(e),sn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ny(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gH(n),t=Ei(n,t),i){case 0:e=r1(null,e,n,t,r);break e;case 1:e=ZO(null,e,n,t,r);break e;case 11:e=YO(null,e,n,t,r);break e;case 14:e=XO(null,e,n,Ei(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),r1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),ZO(t,e,n,i,r);case 3:e:{if(u4(e),t===null)throw Error(ae(387));n=e.pendingProps,o=e.memoizedState,i=o.element,$L(t,e),Vy(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yu(Error(ae(423)),e),e=JO(t,e,n,r,i);break e}else if(n!==i){i=Yu(Error(ae(424)),e),e=JO(t,e,n,r,i);break e}else for(Fn=hs(e.stateNode.containerInfo.firstChild),Wn=e,Ft=!0,Ii=null,r=DL(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gu(),n===i){e=ha(t,e,r);break e}sn(t,e,n,r)}e=e.child}return e;case 5:return LL(e),t===null&&X_(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,H_(n,i)?a=null:o!==null&&H_(n,o)&&(e.flags|=32),c4(t,e),sn(t,e,a,r),e.child;case 6:return t===null&&X_(e),null;case 13:return d4(t,e,r);case 4:return NT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ku(e,null,n,r):sn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),YO(t,e,n,i,r);case 7:return sn(t,e,e.pendingProps,r),e.child;case 8:return sn(t,e,e.pendingProps.children,r),e.child;case 12:return sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ot($y,n._currentValue),n._currentValue=a,o!==null)if(zi(o.value,a)){if(o.children===i.children&&!Tn.current){e=ha(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=ra(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Z_(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ae(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Z_(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}sn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,du(e,r),i=fi(i),n=n(i),e.flags|=1,sn(t,e,n,r),e.child;case 14:return n=e.type,i=Ei(n,e.pendingProps),i=Ei(n.type,i),XO(t,e,n,i,r);case 15:return s4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ei(n,i),ny(t,e),e.tag=1,An(n)?(t=!0,jy(e)):t=!1,du(e,r),i4(e,n,i),e1(e,n,i,r),n1(null,e,n,!0,t,r);case 19:return f4(t,e,r);case 22:return l4(t,e,r)}throw Error(ae(156,e.tag))};function C4(t,e){return tL(t,e)}function mH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,r,n){return new mH(t,e,r,n)}function GT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gH(t){if(typeof t=="function")return GT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fT)return 11;if(t===hT)return 14}return 2}function ys(t,e){var r=t.alternate;return r===null?(r=si(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ay(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")GT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Hc:return Ml(r.children,i,o,e);case dT:a=8,i|=8;break;case S_:return t=si(12,r,e,i|2),t.elementType=S_,t.lanes=o,t;case T_:return t=si(13,r,e,i),t.elementType=T_,t.lanes=o,t;case A_:return t=si(19,r,e,i),t.elementType=A_,t.lanes=o,t;case L$:return U0(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M$:a=10;break e;case $$:a=9;break e;case fT:a=11;break e;case hT:a=14;break e;case Ua:a=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=si(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Ml(t,e,r,n){return t=si(7,t,n,e),t.lanes=r,t}function U0(t,e,r,n){return t=si(22,t,n,e),t.elementType=L$,t.lanes=r,t.stateNode={isHidden:!1},t}function ux(t,e,r){return t=si(6,t,null,e),t.lanes=r,t}function dx(t,e,r){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yH(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qw(0),this.expirationTimes=qw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KT(t,e,r,n,i,o,a,s,l){return t=new yH(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=si(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kT(o),t}function vH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function I4(t){if(!t)return Is;t=t._reactInternals;e:{if(dc(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(An(r))return IL(t,r,e)}return e}function O4(t,e,r,n,i,o,a,s,l){return t=KT(r,n,!0,t,i,o,a,s,l),t.context=I4(null),r=t.current,n=dn(),i=gs(r),o=ra(n,i),o.callback=e??null,ps(r,o,i),t.current.lanes=i,nm(t,i,n),Pn(t,n),t}function B0(t,e,r,n){var i=e.current,o=dn(),a=gs(i);return r=I4(r),e.context===null?e.context=r:e.pendingContext=r,e=ra(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ps(i,e,a),t!==null&&(Vi(t,i,a,o),ey(t,i,a)),a}function Gy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ck(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function QT(t,e){ck(t,e),(t=t.alternate)&&ck(t,e)}function bH(){return null}var k4=typeof reportError=="function"?reportError:function(t){console.error(t)};function YT(t){this._internalRoot=t}z0.prototype.render=YT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));B0(t,e,null,null)};z0.prototype.unmount=YT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ql(function(){B0(null,t,null,null)}),e[da]=null}};function z0(t){this._internalRoot=t}z0.prototype.unstable_scheduleHydration=function(t){if(t){var e=lL();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qa.length&&e!==0&&e<qa[r].priority;r++);qa.splice(r,0,t),r===0&&uL(t)}};function XT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function W0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uk(){}function wH(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Gy(a);o.call(c)}}var a=O4(e,n,t,0,null,!1,!1,"",uk);return t._reactRootContainer=a,t[da]=a.current,zh(t.nodeType===8?t.parentNode:t),ql(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Gy(l);s.call(c)}}var l=KT(t,0,!1,null,null,!1,!1,"",uk);return t._reactRootContainer=l,t[da]=l.current,zh(t.nodeType===8?t.parentNode:t),ql(function(){B0(e,l,r,n)}),l}function q0(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Gy(a);s.call(l)}}B0(e,a,t,i)}else a=wH(r,e,t,i,n);return Gy(a)}aL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Yf(e.pendingLanes);r!==0&&(gT(e,r|1),Pn(e,rr()),!(at&6)&&(Xu=rr()+500,Ws()))}break;case 13:ql(function(){var n=fa(t,1);if(n!==null){var i=dn();Vi(n,t,1,i)}}),QT(t,1)}};yT=function(t){if(t.tag===13){var e=fa(t,134217728);if(e!==null){var r=dn();Vi(e,t,134217728,r)}QT(t,134217728)}};sL=function(t){if(t.tag===13){var e=gs(t),r=fa(t,e);if(r!==null){var n=dn();Vi(r,t,e,n)}QT(t,e)}};lL=function(){return wt};cL=function(t,e){var r=wt;try{return wt=t,e()}finally{wt=r}};M_=function(t,e,r){switch(e){case"input":if(I_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=D0(n);if(!i)throw Error(ae(90));F$(n),I_(n,i)}}}break;case"textarea":B$(t,r);break;case"select":e=r.value,e!=null&&su(t,!!r.multiple,e,!1)}};Q$=WT;Y$=ql;var xH={usingClientEntryPoint:!1,Events:[om,Yc,D0,G$,K$,WT]},Nf={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_H={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J$(t),t===null?null:t.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||bH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vg.isDisabled&&vg.supportsFiber)try{k0=vg.inject(_H),ho=vg}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xH;Xn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XT(e))throw Error(ae(200));return vH(t,e,null,r)};Xn.createRoot=function(t,e){if(!XT(t))throw Error(ae(299));var r=!1,n="",i=k4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KT(t,1,!1,null,null,r,!1,n,i),t[da]=e.current,zh(t.nodeType===8?t.parentNode:t),new YT(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=J$(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return ql(t)};Xn.hydrate=function(t,e,r){if(!W0(e))throw Error(ae(200));return q0(null,t,e,!0,r)};Xn.hydrateRoot=function(t,e,r){if(!XT(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=k4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=O4(e,null,t,1,r??null,i,!1,o,a),t[da]=e.current,zh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new z0(e)};Xn.render=function(t,e,r){if(!W0(e))throw Error(ae(200));return q0(null,t,e,!1,r)};Xn.unmountComponentAtNode=function(t){if(!W0(t))throw Error(ae(40));return t._reactRootContainer?(ql(function(){q0(null,null,t,!1,function(){t._reactRootContainer=null,t[da]=null})}),!0):!1};Xn.unstable_batchedUpdates=WT;Xn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!W0(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return q0(t,e,r,!1,n)};Xn.version="18.3.1-next-f1338f8080-20240426";function N4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N4)}catch(t){console.error(t)}}N4(),N$.exports=Xn;var fc=N$.exports;const EH=St(fc);var R4,dk=fc;R4=dk.createRoot,dk.hydrateRoot;const SH="modulepreload",TH=function(t){return"/dorlog/"+t},fk={},fx=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=TH(l),l in fk)return;fk[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":SH,c||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};function AH(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,o,a=[],s="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)r=i[0],r==="*"?(a.push(r),s+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~n?n:~o?o:i.length)),s+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~n?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(e?"(?=$|/)":"/?$"),"i")}}var j4={exports:{}},D4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=O;function PH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CH=typeof Object.is=="function"?Object.is:PH,IH=Zu.useState,OH=Zu.useEffect,kH=Zu.useLayoutEffect,NH=Zu.useDebugValue;function RH(t,e){var r=e(),n=IH({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return kH(function(){i.value=r,i.getSnapshot=e,hx(i)&&o({inst:i})},[t,r,e]),OH(function(){return hx(i)&&o({inst:i}),t(function(){hx(i)&&o({inst:i})})},[t]),NH(r),r}function hx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!CH(t,r)}catch{return!0}}function jH(t,e){return e()}var DH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jH:RH;D4.useSyncExternalStore=Zu.useSyncExternalStore!==void 0?Zu.useSyncExternalStore:DH;j4.exports=D4;var MH=j4.exports;const $H=O$.useInsertionEffect,LH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M4=LH?O.useLayoutEffect:O.useEffect,VH=$H||M4,ZT=t=>{const e=O.useRef([t,(...r)=>e[0](...r)]).current;return VH(()=>{e[0]=t}),e[1]},FH="popstate",JT="pushState",eA="replaceState",UH="hashchange",hk=[FH,JT,eA,UH],BH=t=>{for(const e of hk)addEventListener(e,t);return()=>{for(const e of hk)removeEventListener(e,t)}},$4=(t,e)=>MH.useSyncExternalStore(BH,t,e),zH=()=>location.search,WH=({ssrSearch:t=""}={})=>$4(zH,()=>t),pk=()=>location.pathname,qH=({ssrPath:t}={})=>$4(pk,t?()=>t:pk),HH=(t,{replace:e=!1,state:r=null}={})=>history[e?eA:JT](r,"",t),GH=(t={})=>[qH(t),HH],mk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[mk]>"u"){for(const t of[JT,eA]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,mk,{value:!0})}const KH=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",L4=(t="")=>t==="/"?"":t,QH=(t,e)=>t[0]==="~"?t.slice(1):L4(e)+t,YH=(t="",e)=>KH(gk(L4(t)),gk(e)),gk=t=>{try{return decodeURI(t)}catch{return t}},V4={hook:GH,searchHook:WH,parser:AH,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},F4=O.createContext(V4),Vd=()=>O.useContext(F4),U4={},B4=O.createContext(U4),XH=()=>O.useContext(B4),H0=t=>{const[e,r]=t.hook(t);return[YH(t.base,e),ZT((n,i)=>r(QH(n,t.base),i))]},Cn=()=>H0(Vd()),tA=(t,e,r,n)=>{const{pattern:i,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=i.exec(r)||[],[s,...l]=a;return s!==void 0?[!0,(()=>{const c=o!==!1?Object.fromEntries(o.map((d,f)=>[d,l[f]])):a.groups;let u={...l};return c&&Object.assign(u,c),u})(),...n?[s]:[]]:[!1,null]},ZH=t=>tA(Vd().parser,t,Cn()[0]),z4=({children:t,...e})=>{var u,d;const r=Vd(),n=e.hook?V4:r;let i=n;const[o,a]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=o),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let s=O.useRef({}),l=s.current,c=l;for(let f in n){const m=f==="base"?n[f]+(e[f]||""):e[f]||n[f];l===c&&m!==c[f]&&(s.current=c={...c}),c[f]=m,m!==n[f]&&(i=c)}return O.createElement(F4.Provider,{value:i,children:t})},yk=({children:t,component:e},r)=>e?O.createElement(e,{params:r}):typeof t=="function"?t(r):t,JH=t=>{let e=O.useRef(U4),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Jn=({path:t,nest:e,match:r,...n})=>{const i=Vd(),[o]=H0(i),[a,s,l]=r??tA(i.parser,t,o,e),c=JH({...XH(),...s});if(!a)return null;const u=l?O.createElement(z4,{base:l},yk(n,c)):yk(n,c);return O.createElement(B4.Provider,{value:c,children:u})};O.forwardRef((t,e)=>{const r=Vd(),[n,i]=H0(r),{to:o="",href:a=o,onClick:s,asChild:l,children:c,className:u,replace:d,state:f,...m}=t,v=ZT(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(s==null||s(b),b.defaultPrevented||(b.preventDefault(),i(a,t)))}),g=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return l&&O.isValidElement(c)?O.cloneElement(c,{onClick:v,href:g}):O.createElement("a",{...m,onClick:v,href:g,className:u!=null&&u.call?u(n===a):u,children:c,ref:e})});const W4=t=>Array.isArray(t)?t.flatMap(e=>W4(e&&e.type===O.Fragment?e.props.children:e)):[t],eG=({children:t,location:e})=>{const r=Vd(),[n]=H0(r);for(const i of W4(t)){let o=0;if(O.isValidElement(i)&&(o=tA(r.parser,i.props.path,e||n,i.props.nest))[0])return O.cloneElement(i,{match:o})}return null},tG=t=>{const{to:e,href:r=e}=t,[,n]=Cn(),i=ZT(()=>n(e||r,t));return M4(()=>{i()},[]),null},rG=1,nG=1e6;let px=0;function iG(){return px=(px+1)%Number.MAX_SAFE_INTEGER,px.toString()}const mx=new Map,vk=t=>{if(mx.has(t))return;const e=setTimeout(()=>{mx.delete(t),yh({type:"REMOVE_TOAST",toastId:t})},nG);mx.set(t,e)},oG=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rG)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?vk(r):t.toasts.forEach(n=>{vk(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},sy=[];let ly={toasts:[]};function yh(t){ly=oG(ly,t),sy.forEach(e=>{e(ly)})}function aG({...t}){const e=iG(),r=i=>yh({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>yh({type:"DISMISS_TOAST",toastId:e});return yh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Ki(){const[t,e]=O.useState(ly);return O.useEffect(()=>(sy.push(e),()=>{const r=sy.indexOf(e);r>-1&&sy.splice(r,1)}),[t]),{...t,toast:aG,dismiss:r=>yh({type:"DISMISS_TOAST",toastId:r})}}function Le(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function q4(...t){return e=>{let r=!1;const n=t.map(i=>{const o=bk(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():bk(t[i],null)}}}}function pt(...t){return O.useCallback(q4(...t),t)}function sG(t,e){const r=O.createContext(e),n=o=>{const{children:a,...s}=o,l=O.useMemo(()=>s,Object.values(s));return p.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(o){const a=O.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,i]}function qs(t,e=[]){let r=[];function n(o,a){const s=O.createContext(a),l=r.length;r=[...r,a];const c=d=>{var x;const{scope:f,children:m,...v}=d,g=((x=f==null?void 0:f[t])==null?void 0:x[l])||s,b=O.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:b,children:m})};c.displayName=o+"Provider";function u(d,f){var g;const m=((g=f==null?void 0:f[t])==null?void 0:g[l])||s,v=O.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=r.map(a=>O.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return O.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,lG(i,...e)]}function lG(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=n.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Ju(t){const e=uG(t),r=O.forwardRef((n,i)=>{const{children:o,...a}=n,s=O.Children.toArray(o),l=s.find(fG);if(l){const c=l.props.children,u=s.map(d=>d===l?O.Children.count(c)>1?O.Children.only(null):O.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...a,ref:i,children:O.isValidElement(c)?O.cloneElement(c,void 0,u):null})}return p.jsx(e,{...a,ref:i,children:o})});return r.displayName=`${t}.Slot`,r}var cG=Ju("Slot");function uG(t){const e=O.forwardRef((r,n)=>{const{children:i,...o}=r;if(O.isValidElement(i)){const a=pG(i),s=hG(o,i.props);return i.type!==O.Fragment&&(s.ref=n?q4(n,a):a),O.cloneElement(i,s)}return O.Children.count(i)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H4=Symbol("radix.slottable");function dG(t){const e=({children:r})=>p.jsx(p.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=H4,e}function fG(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H4}function hG(t,e){const r={...e};for(const n in e){const i=t[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{o(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...t,...r}}function pG(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function rA(t){const e=t+"CollectionProvider",[r,n]=qs(e),[i,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:b,children:x}=g,y=z.useRef(null),w=z.useRef(new Map).current;return p.jsx(i,{scope:b,itemMap:w,collectionRef:y,children:x})};a.displayName=e;const s=t+"CollectionSlot",l=Ju(s),c=z.forwardRef((g,b)=>{const{scope:x,children:y}=g,w=o(s,x),E=pt(b,w.collectionRef);return p.jsx(l,{ref:E,children:y})});c.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Ju(u),m=z.forwardRef((g,b)=>{const{scope:x,children:y,...w}=g,E=z.useRef(null),S=pt(b,E),C=o(u,x);return z.useEffect(()=>(C.itemMap.set(E,{ref:E,...w}),()=>void C.itemMap.delete(E))),p.jsx(f,{[d]:"",ref:S,children:y})});m.displayName=u;function v(g){const b=o(t+"CollectionConsumer",g);return z.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((C,_)=>w.indexOf(C.ref.current)-w.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},v,n]}var mG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=mG.reduce((t,e)=>{const r=Ju(`Primitive.${e}`),n=O.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...s,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function G4(t,e){t&&fc.flushSync(()=>t.dispatchEvent(e))}function Gn(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function gG(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t);O.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var yG="DismissableLayer",m1="dismissableLayer.update",vG="dismissableLayer.pointerDownOutside",bG="dismissableLayer.focusOutside",wk,K4=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G0=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=O.useContext(K4),[u,d]=O.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=O.useState({}),v=pt(e,_=>d(_)),g=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),y=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,E=y>=x,S=xG(_=>{const T=_.target,A=[...c.branches].some(N=>N.contains(T));!E||A||(i==null||i(_),a==null||a(_),_.defaultPrevented||s==null||s())},f),C=_G(_=>{const T=_.target;[...c.branches].some(N=>N.contains(T))||(o==null||o(_),a==null||a(_),_.defaultPrevented||s==null||s())},f);return gG(_=>{y===c.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&s&&(_.preventDefault(),s()))},f),O.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(wk=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),xk(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wk)}},[u,f,r,c]),O.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),xk())},[u,c]),O.useEffect(()=>{const _=()=>m({});return document.addEventListener(m1,_),()=>document.removeEventListener(m1,_)},[]),p.jsx(Ge.div,{...l,ref:v,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,S.onPointerDownCapture)})});G0.displayName=yG;var wG="DismissableLayerBranch",Q4=O.forwardRef((t,e)=>{const r=O.useContext(K4),n=O.useRef(null),i=pt(e,n);return O.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),p.jsx(Ge.div,{...t,ref:i})});Q4.displayName=wG;function xG(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t),n=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let l=function(){Y4(vG,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function _G(t,e=globalThis==null?void 0:globalThis.document){const r=Gn(t),n=O.useRef(!1);return O.useEffect(()=>{const i=o=>{o.target&&!n.current&&Y4(bG,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xk(){const t=new CustomEvent(m1);document.dispatchEvent(t)}function Y4(t,e,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?G4(i,o):i.dispatchEvent(o)}var EG=G0,SG=Q4,Zr=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},TG="Portal",K0=O.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,o]=O.useState(!1);Zr(()=>o(!0),[]);const a=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?EH.createPortal(p.jsx(Ge.div,{...n,ref:e}),a):null});K0.displayName=TG;function AG(t,e){return O.useReducer((r,n)=>e[r][n]??r,t)}var Fd=t=>{const{present:e,children:r}=t,n=PG(e),i=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),o=pt(n.ref,CG(i));return typeof r=="function"||n.isPresent?O.cloneElement(i,{ref:o}):null};Fd.displayName="Presence";function PG(t){const[e,r]=O.useState(),n=O.useRef({}),i=O.useRef(t),o=O.useRef("none"),a=t?"mounted":"unmounted",[s,l]=AG(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=bg(n.current);o.current=s==="mounted"?c:"none"},[s]),Zr(()=>{const c=n.current,u=i.current;if(u!==t){const f=o.current,m=bg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Zr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const g=bg(n.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=m=>{m.target===e&&(o.current=bg(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:O.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function bg(t){return(t==null?void 0:t.animationName)||"none"}function CG(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ed({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=IG({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,s=Gn(r),l=O.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&s(d)}else i(c)},[o,t,i,s]);return[a,l]}function IG({defaultProp:t,onChange:e}){const r=O.useState(t),[n]=r,i=O.useRef(n),o=Gn(e);return O.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}var OG="VisuallyHidden",Q0=O.forwardRef((t,e)=>p.jsx(Ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Q0.displayName=OG;var nA="ToastProvider",[iA,kG,NG]=rA("Toast"),[X4,CDe]=qs("Toast",[NG]),[RG,Y0]=X4(nA),Z4=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=O.useState(null),[c,u]=O.useState(0),d=O.useRef(!1),f=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${nA}\`. Expected non-empty \`string\`.`),p.jsx(iA.Provider,{scope:e,children:p.jsx(RG,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:O.useCallback(()=>u(m=>m+1),[]),onToastRemove:O.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};Z4.displayName=nA;var J4="ToastViewport",jG=["F8"],g1="toast.viewportPause",y1="toast.viewportResume",eV=O.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=jG,label:i="Notifications ({hotkey})",...o}=t,a=Y0(J4,r),s=kG(r),l=O.useRef(null),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),f=pt(e,d,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;O.useEffect(()=>{const b=x=>{var w;n.length!==0&&n.every(E=>x[E]||x.code===E)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),O.useEffect(()=>{const b=l.current,x=d.current;if(v&&b&&x){const y=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(g1);x.dispatchEvent(C),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(y1);x.dispatchEvent(C),a.isClosePausedRef.current=!1}},E=C=>{!b.contains(C.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",E),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,a.isClosePausedRef]);const g=O.useCallback(({tabbingDirection:b})=>{const y=s().map(w=>{const E=w.ref.current,S=[E,...GG(E)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?y.reverse():y).flat()},[s]);return O.useEffect(()=>{const b=d.current;if(b){const x=y=>{var S,C,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,A=y.shiftKey;if(y.target===b&&A){(S=c.current)==null||S.focus();return}const k=g({tabbingDirection:A?"backwards":"forwards"}),R=k.findIndex(M=>M===T);gx(k.slice(R+1))?y.preventDefault():A?(C=c.current)==null||C.focus():(_=u.current)==null||_.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[s,g]),p.jsxs(SG,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(v1,{ref:c,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});gx(b)}}),p.jsx(iA.Slot,{scope:r,children:p.jsx(Ge.ol,{tabIndex:-1,...o,ref:f})}),v&&p.jsx(v1,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});gx(b)}})]})});eV.displayName=J4;var tV="ToastFocusProxy",v1=O.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,o=Y0(tV,r);return p.jsx(Q0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&n()}})});v1.displayName=tV;var X0="Toast",DG="toast.swipeStart",MG="toast.swipeMove",$G="toast.swipeCancel",LG="toast.swipeEnd",rV=O.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...a}=t,[s=!0,l]=ed({prop:n,defaultProp:i,onChange:o});return p.jsx(Fd,{present:r||s,children:p.jsx(UG,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:Gn(t.onPause),onResume:Gn(t.onResume),onSwipeStart:Le(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Le(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});rV.displayName=X0;var[VG,FG]=X4(X0,{onClose(){}}),UG=O.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...v}=t,g=Y0(X0,r),[b,x]=O.useState(null),y=pt(e,M=>x(M)),w=O.useRef(null),E=O.useRef(null),S=i||g.duration,C=O.useRef(0),_=O.useRef(S),T=O.useRef(0),{onToastAdd:A,onToastRemove:N}=g,I=Gn(()=>{var L;(b==null?void 0:b.contains(document.activeElement))&&((L=g.viewport)==null||L.focus()),a()}),k=O.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(I,M))},[I]);O.useEffect(()=>{const M=g.viewport;if(M){const L=()=>{k(_.current),c==null||c()},V=()=>{const U=new Date().getTime()-C.current;_.current=_.current-U,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(g1,V),M.addEventListener(y1,L),()=>{M.removeEventListener(g1,V),M.removeEventListener(y1,L)}}},[g.viewport,S,l,c,k]),O.useEffect(()=>{o&&!g.isClosePausedRef.current&&k(S)},[o,S,g.isClosePausedRef,k]),O.useEffect(()=>(A(),()=>N()),[A,N]);const R=O.useMemo(()=>b?cV(b):null,[b]);return g.viewport?p.jsxs(p.Fragment,{children:[R&&p.jsx(BG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),p.jsx(VG,{scope:r,onClose:I,children:fc.createPortal(p.jsx(iA.ItemSlot,{scope:r,children:p.jsx(EG,{asChild:!0,onEscapeKeyDown:Le(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,M=>{M.key==="Escape"&&(s==null||s(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Le(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Le(t.onPointerMove,M=>{if(!w.current)return;const L=M.clientX-w.current.x,V=M.clientY-w.current.y,U=!!E.current,$=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=$?B(0,L):0,ee=$?0:B(0,V),J=M.pointerType==="touch"?10:2,ie={x:G,y:ee},Ce={originalEvent:M,delta:ie};U?(E.current=ie,wg(MG,d,Ce,{discrete:!1})):_k(ie,g.swipeDirection,J)?(E.current=ie,wg(DG,u,Ce,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(L)>J||Math.abs(V)>J)&&(w.current=null)}),onPointerUp:Le(t.onPointerUp,M=>{const L=E.current,V=M.target;if(V.hasPointerCapture(M.pointerId)&&V.releasePointerCapture(M.pointerId),E.current=null,w.current=null,L){const U=M.currentTarget,$={originalEvent:M,delta:L};_k(L,g.swipeDirection,g.swipeThreshold)?wg(LG,m,$,{discrete:!0}):wg($G,f,$,{discrete:!0}),U.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),BG=t=>{const{__scopeToast:e,children:r,...n}=t,i=Y0(X0,e),[o,a]=O.useState(!1),[s,l]=O.useState(!1);return qG(()=>a(!0)),O.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:p.jsx(K0,{asChild:!0,children:p.jsx(Q0,{...n,children:o&&p.jsxs(p.Fragment,{children:[i.label," ",r]})})})},zG="ToastTitle",nV=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(Ge.div,{...n,ref:e})});nV.displayName=zG;var WG="ToastDescription",iV=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(Ge.div,{...n,ref:e})});iV.displayName=WG;var oV="ToastAction",aV=O.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?p.jsx(lV,{altText:r,asChild:!0,children:p.jsx(oA,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oV}\`. Expected non-empty \`string\`.`),null)});aV.displayName=oV;var sV="ToastClose",oA=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=FG(sV,r);return p.jsx(lV,{asChild:!0,children:p.jsx(Ge.button,{type:"button",...n,ref:e,onClick:Le(t.onClick,i.onClose)})})});oA.displayName=sV;var lV=O.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return p.jsx(Ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function cV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),HG(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...cV(n))}}),e}function wg(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?G4(i,o):i.dispatchEvent(o)}var _k=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),o=n>i;return e==="left"||e==="right"?o&&n>r:!o&&i>r};function qG(t=()=>{}){const e=Gn(t);Zr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function HG(t){return t.nodeType===t.ELEMENT_NODE}function GG(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function gx(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var KG=Z4,uV=eV,dV=rV,fV=nV,hV=iV,pV=aV,mV=oA;function gV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=gV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=gV(t))&&(n&&(n+=" "),n+=e);return n}const Ek=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sk=ot,Z0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Sk(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],d=o==null?void 0:o[c];if(u===null)return null;const f=Ek(u)||Ek(d);return i[c][f]}),s=r&&Object.entries(r).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:f,...m}=u;return Object.entries(m).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...o,...s}[g]):{...o,...s}[g]===b})?[...c,d,f]:c},[]);return Sk(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yV=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:a,...s},l)=>O.createElement("svg",{ref:l,...YG,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:yV("lucide",i),...s},[...a.map(([c,u])=>O.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const r=O.forwardRef(({className:n,...i},o)=>O.createElement(XG,{ref:o,iconNode:e,className:yV(`lucide-${QG(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=We("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=We("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=We("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=We("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=We("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=We("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=We("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=We("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=We("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=We("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=We("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=We("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=We("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=We("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=We("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lA="-",fK=t=>{const e=pK(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const s=a.split(lA);return s[0]===""&&s.length!==1&&s.shift(),CV(s,e)||hK(a)},getConflictingClassGroupIds:(a,s)=>{const l=r[a]||[];return s&&n[a]?[...l,...n[a]]:l}}},CV=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?CV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(lA);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},Ck=/^\[(.+)\]$/,hK=t=>{if(Ck.test(t)){const e=Ck.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},pK=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return gK(Object.entries(t.classGroups),r).forEach(([o,a])=>{E1(a,n,o,e)}),n},E1=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Ik(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(mK(i)){E1(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{E1(a,Ik(e,o),r,n)})})},Ik=(t,e)=>{let r=t;return e.split(lA).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mK=t=>t.isThemeGetter,gK=(t,e)=>e?t.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[r,i]}):t,yK=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,a)=>{r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}},IV="!",vK=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,d;for(let b=0;b<s.length;b++){let x=s[b];if(c===0){if(x===i&&(n||s.slice(b,b+o)===e)){l.push(s.slice(u,b)),u=b+o;continue}if(x==="/"){d=b;continue}}x==="["?c++:x==="]"&&c--}const f=l.length===0?s:s.substring(u),m=f.startsWith(IV),v=m?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:a}):a},bK=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},wK=t=>({cache:yK(t.cacheSize),parseClassName:vK(t),...fK(t)}),xK=/\s+/,_K=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(xK);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=r(c);let v=!!m,g=n(v?f.substring(0,m):f);if(!g){if(!v){s=c+(s.length>0?" "+s:s);continue}if(g=n(f),!g){s=c+(s.length>0?" "+s:s);continue}v=!1}const b=bK(u).join(":"),x=d?b+IV:b,y=x+g;if(o.includes(y))continue;o.push(y);const w=i(g,v);for(let E=0;E<w.length;++E){const S=w[E];o.push(x+S)}s=c+(s.length>0?" "+s:s)}return s};function EK(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=OV(e))&&(n&&(n+=" "),n+=r);return n}const OV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=OV(t[n]))&&(r&&(r+=" "),r+=e);return r};function SK(t,...e){let r,n,i,o=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return r=wK(c),n=r.cache.get,i=r.cache.set,o=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=_K(l,r);return i(l,u),u}return function(){return o(EK.apply(null,arguments))}}const Rt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},kV=/^\[(?:([a-z-]+):)?(.+)\]$/i,TK=/^\d+\/\d+$/,AK=new Set(["px","full","screen"]),PK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=t=>pu(t)||AK.has(t)||TK.test(t),Da=t=>Ud(t,"length",VK),pu=t=>!!t&&!Number.isNaN(Number(t)),bx=t=>Ud(t,"number",pu),Rf=t=>!!t&&Number.isInteger(Number(t)),NK=t=>t.endsWith("%")&&pu(t.slice(0,-1)),ze=t=>kV.test(t),Ma=t=>PK.test(t),RK=new Set(["length","size","percentage"]),jK=t=>Ud(t,RK,NV),DK=t=>Ud(t,"position",NV),MK=new Set(["image","url"]),$K=t=>Ud(t,MK,UK),LK=t=>Ud(t,"",FK),jf=()=>!0,Ud=(t,e,r)=>{const n=kV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},VK=t=>CK.test(t)&&!IK.test(t),NV=()=>!1,FK=t=>OK.test(t),UK=t=>kK.test(t),BK=()=>{const t=Rt("colors"),e=Rt("spacing"),r=Rt("blur"),n=Rt("brightness"),i=Rt("borderColor"),o=Rt("borderRadius"),a=Rt("borderSpacing"),s=Rt("borderWidth"),l=Rt("contrast"),c=Rt("grayscale"),u=Rt("hueRotate"),d=Rt("invert"),f=Rt("gap"),m=Rt("gradientColorStops"),v=Rt("gradientColorStopPositions"),g=Rt("inset"),b=Rt("margin"),x=Rt("opacity"),y=Rt("padding"),w=Rt("saturate"),E=Rt("scale"),S=Rt("sepia"),C=Rt("skew"),_=Rt("space"),T=Rt("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",ze,e],k=()=>[ze,e],R=()=>["",Mo,Da],M=()=>["auto",pu,ze],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ze],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[pu,ze];return{cacheSize:500,separator:":",theme:{colors:[jf],spacing:[Mo,Da],blur:["none","",Ma,ze],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Ma,ze],borderSpacing:k(),borderWidth:R(),contrast:ee(),grayscale:B(),hueRotate:ee(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[NK,Da],inset:I(),margin:I(),opacity:ee(),padding:k(),saturate:ee(),scale:ee(),sepia:B(),skew:ee(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Ma]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),ze]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rf,ze]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Rf,ze]}],"grid-cols":[{"grid-cols":[jf]}],"col-start-end":[{col:["auto",{span:["full",Rf,ze]},ze]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[jf]}],"row-start-end":[{row:["auto",{span:[Rf,ze]},ze]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Ma]},Ma]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ma,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bx]}],"font-family":[{font:[jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",pu,bx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mo,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mo,Da]}],"underline-offset":[{"underline-offset":["auto",Mo,ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),DK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$K]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Mo,ze]}],"outline-w":[{outline:[Mo,Da]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Mo,Da]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ma,LK]}],"shadow-color":[{shadow:[jf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ma,ze]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Rf,ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mo,Da,bx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zK=SK(BK);function Me(...t){return zK(ot(t))}const WK=KG,RV=O.forwardRef(({className:t,...e},r)=>p.jsx(uV,{ref:r,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));RV.displayName=uV.displayName;const qK=Z0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jV=O.forwardRef(({className:t,variant:e,...r},n)=>p.jsx(dV,{ref:n,className:Me(qK({variant:e}),t),...r}));jV.displayName=dV.displayName;const HK=O.forwardRef(({className:t,...e},r)=>p.jsx(pV,{ref:r,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));HK.displayName=pV.displayName;const DV=O.forwardRef(({className:t,...e},r)=>p.jsx(mV,{ref:r,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(eb,{className:"h-4 w-4"})}));DV.displayName=mV.displayName;const MV=O.forwardRef(({className:t,...e},r)=>p.jsx(fV,{ref:r,className:Me("text-sm font-semibold",t),...e}));MV.displayName=fV.displayName;const $V=O.forwardRef(({className:t,...e},r)=>p.jsx(hV,{ref:r,className:Me("text-sm opacity-90",t),...e}));$V.displayName=hV.displayName;function GK(){const{toasts:t}=Ki();return p.jsxs(WK,{children:[t.map(function({id:e,title:r,description:n,action:i,...o}){return p.jsxs(jV,{...o,children:[p.jsxs("div",{className:"grid gap-1",children:[r&&p.jsx(MV,{children:r}),n&&p.jsx($V,{children:n})]}),i,p.jsx(DV,{})]},e)}),p.jsx(RV,{})]})}var sm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hl=typeof window>"u"||"Deno"in globalThis;function ii(){}function KK(t,e){return typeof t=="function"?t(e):t}function S1(t){return typeof t=="number"&&t>=0&&t!==1/0}function LV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mu(t,e){return typeof t=="function"?t(e):t}function Oi(t,e){return typeof t=="function"?t(e):t}function Ok(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(n){if(e.queryHash!==cA(a,e.options))return!1}else if(!ep(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function kk(t,e){const{exact:r,status:n,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Jh(e.options.mutationKey)!==Jh(o))return!1}else if(!ep(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function cA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jh)(t)}function Jh(t){return JSON.stringify(t,(e,r)=>A1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ep(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ep(t[r],e[r])):!1}function VV(t,e){if(t===e)return t;const r=Nk(t)&&Nk(e);if(r||A1(t)&&A1(e)){const n=r?t:Object.keys(t),i=n.length,o=r?e:Object.keys(e),a=o.length,s=r?[]:{};let l=0;for(let c=0;c<a;c++){const u=r?c:o[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(s[u]=void 0,l++):(s[u]=VV(t[u],e[u]),s[u]===t[u]&&t[u]!==void 0&&l++)}return i===a&&l===i?t:s}return e}function T1(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Nk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function A1(t){if(!Rk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Rk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Rk(t){return Object.prototype.toString.call(t)==="[object Object]"}function QK(t){return new Promise(e=>{setTimeout(e,t)})}function P1(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?VV(t,e):e}function YK(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function XK(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var uA=Symbol();function FV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cl,Za,Nu,d$,ZK=(d$=class extends sm{constructor(){super();De(this,Cl);De(this,Za);De(this,Nu);xe(this,Nu,e=>{if(!Hl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,Za)||this.setEventListener(W(this,Nu))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Za))==null||e.call(this),xe(this,Za,void 0))}setEventListener(e){var r;xe(this,Nu,e),(r=W(this,Za))==null||r.call(this),xe(this,Za,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){W(this,Cl)!==e&&(xe(this,Cl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof W(this,Cl)=="boolean"?W(this,Cl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cl=new WeakMap,Za=new WeakMap,Nu=new WeakMap,d$),dA=new ZK,Ru,Ja,ju,f$,JK=(f$=class extends sm{constructor(){super();De(this,Ru,!0);De(this,Ja);De(this,ju);xe(this,ju,e=>{if(!Hl&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,Ja)||this.setEventListener(W(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Ja))==null||e.call(this),xe(this,Ja,void 0))}setEventListener(e){var r;xe(this,ju,e),(r=W(this,Ja))==null||r.call(this),xe(this,Ja,e(this.setOnline.bind(this)))}setOnline(e){W(this,Ru)!==e&&(xe(this,Ru,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return W(this,Ru)}},Ru=new WeakMap,Ja=new WeakMap,ju=new WeakMap,f$),Ky=new JK;function C1(){let t,e;const r=new Promise((i,o)=>{t=i,e=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function eQ(t){return Math.min(1e3*2**t,3e4)}function UV(t){return(t??"online")==="online"?Ky.isOnline():!0}var BV=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wx(t){return t instanceof BV}function zV(t){let e=!1,r=0,n=!1,i;const o=C1(),a=g=>{var b;n||(f(new BV(g)),(b=t.abort)==null||b.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>dA.isFocused()&&(t.networkMode==="always"||Ky.isOnline())&&t.canRun(),u=()=>UV(t.networkMode)&&t.canRun(),d=g=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,g),i==null||i(),o.resolve(g))},f=g=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var b;i=x=>{(n||c())&&g(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;i=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(d).catch(x=>{var C;if(n)return;const y=t.retry??(Hl?0:3),w=t.retryDelay??eQ,E=typeof w=="function"?w(r,x):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!S){f(x);return}r++,(C=t.onFail)==null||C.call(t,r,x),QK(E).then(()=>c()?void 0:m()).then(()=>{e?f(x):v()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?v():m().then(v),o)}}function tQ(){let t=[],e=0,r=s=>{s()},n=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{e?t.push(s):i(()=>{r(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{n(()=>{s.forEach(l=>{r(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var kr=tQ(),Il,h$,WV=(h$=class{constructor(){De(this,Il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S1(this.gcTime)&&xe(this,Il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hl?1/0:5*60*1e3))}clearGcTimeout(){W(this,Il)&&(clearTimeout(W(this,Il)),xe(this,Il,void 0))}},Il=new WeakMap,h$),Du,Mu,ni,zr,Zp,Ol,Si,Uo,p$,rQ=(p$=class extends WV{constructor(r){super();De(this,Si);De(this,Du);De(this,Mu);De(this,ni);De(this,zr);De(this,Zp);De(this,Ol);xe(this,Ol,!1),xe(this,Zp,r.defaultOptions),this.setOptions(r.options),this.observers=[],xe(this,ni,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,xe(this,Du,nQ(this.options)),this.state=r.state??W(this,Du),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=W(this,zr))==null?void 0:r.promise}setOptions(r){this.options={...W(this,Zp),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,ni).remove(this)}setData(r,n){const i=P1(this.state.data,r,this.options);return tt(this,Si,Uo).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){tt(this,Si,Uo).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,o;const n=(i=W(this,zr))==null?void 0:i.promise;return(o=W(this,zr))==null||o.cancel(r),n?n.then(ii).catch(ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Du))}isActive(){return this.observers.some(r=>Oi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===uA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!LV(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=W(this,zr))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=W(this,zr))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),W(this,ni).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(W(this,zr)&&(W(this,Ol)?W(this,zr).cancel({revert:!0}):W(this,zr).cancelRetry()),this.scheduleGc()),W(this,ni).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,Si,Uo).call(this,{type:"invalidate"})}fetch(r,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,zr))return W(this,zr).continueRetry(),W(this,zr).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(xe(this,Ol,!0),i.signal)})},a=()=>{const f=FV(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return o(m),xe(this,Ol,!1),this.options.persister?this.options.persister(f,m,this):f(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(s),(c=this.options.behavior)==null||c.onFetch(s,this),xe(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&tt(this,Si,Uo).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,v,g,b;wx(f)&&f.silent||tt(this,Si,Uo).call(this,{type:"error",error:f}),wx(f)||((v=(m=W(this,ni).config).onError)==null||v.call(m,f,this),(b=(g=W(this,ni).config).onSettled)==null||b.call(g,this.state.data,f,this)),this.scheduleGc()};return xe(this,zr,zV({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,v,g,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(v=(m=W(this,ni).config).onSuccess)==null||v.call(m,f,this),(b=(g=W(this,ni).config).onSettled)==null||b.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{tt(this,Si,Uo).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{tt(this,Si,Uo).call(this,{type:"pause"})},onContinue:()=>{tt(this,Si,Uo).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),W(this,zr).start()}},Du=new WeakMap,Mu=new WeakMap,ni=new WeakMap,zr=new WeakMap,Zp=new WeakMap,Ol=new WeakMap,Si=new WeakSet,Uo=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...qV(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=r.error;return wx(o)&&o.revert&&W(this,Mu)?{...W(this,Mu),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),kr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),W(this,ni).notify({query:this,type:"updated",action:r})})},p$);function qV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var to,m$,iQ=(m$=class extends sm{constructor(e={}){super();De(this,to);this.config=e,xe(this,to,new Map)}build(e,r,n){const i=r.queryKey,o=r.queryHash??cA(i,r);let a=this.get(o);return a||(a=new rQ({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){W(this,to).has(e.queryHash)||(W(this,to).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=W(this,to).get(e.queryHash);r&&(e.destroy(),r===e&&W(this,to).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,to).get(e)}getAll(){return[...W(this,to).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ok(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Ok(e,n)):r}notify(e){kr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},to=new WeakMap,m$),ro,nn,kl,no,Va,g$,oQ=(g$=class extends WV{constructor(r){super();De(this,no);De(this,ro);De(this,nn);De(this,kl);this.mutationId=r.mutationId,xe(this,nn,r.mutationCache),xe(this,ro,[]),this.state=r.state||aQ(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){W(this,ro).includes(r)||(W(this,ro).push(r),this.clearGcTimeout(),W(this,nn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){xe(this,ro,W(this,ro).filter(n=>n!==r)),this.scheduleGc(),W(this,nn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){W(this,ro).length||(this.state.status==="pending"?this.scheduleGc():W(this,nn).remove(this))}continue(){var r;return((r=W(this,kl))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,a,s,l,c,u,d,f,m,v,g,b,x,y,w,E,S,C,_,T;xe(this,kl,zV({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{tt(this,no,Va).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{tt(this,no,Va).call(this,{type:"pause"})},onContinue:()=>{tt(this,no,Va).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,nn).canRun(this)}));const n=this.state.status==="pending",i=!W(this,kl).canStart();try{if(!n){tt(this,no,Va).call(this,{type:"pending",variables:r,isPaused:i}),await((a=(o=W(this,nn).config).onMutate)==null?void 0:a.call(o,r,this));const N=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,r));N!==this.state.context&&tt(this,no,Va).call(this,{type:"pending",context:N,variables:r,isPaused:i})}const A=await W(this,kl).start();return await((u=(c=W(this,nn).config).onSuccess)==null?void 0:u.call(c,A,r,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,r,this.state.context)),await((v=(m=W(this,nn).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,A,null,r,this.state.context)),tt(this,no,Va).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(x=W(this,nn).config).onError)==null?void 0:y.call(x,A,r,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,r,this.state.context)),await((C=(S=W(this,nn).config).onSettled)==null?void 0:C.call(S,void 0,A,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,A,r,this.state.context)),A}finally{tt(this,no,Va).call(this,{type:"error",error:A})}}finally{W(this,nn).runNext(this)}}},ro=new WeakMap,nn=new WeakMap,kl=new WeakMap,no=new WeakSet,Va=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),kr.batch(()=>{W(this,ro).forEach(i=>{i.onMutationUpdate(r)}),W(this,nn).notify({mutation:this,type:"updated",action:r})})},g$);function aQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Jp,y$,sQ=(y$=class extends sm{constructor(e={}){super();De(this,jn);De(this,Jp);this.config=e,xe(this,jn,new Map),xe(this,Jp,Date.now())}build(e,r,n){const i=new oQ({mutationCache:this,mutationId:++eg(this,Jp)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=xg(e),n=W(this,jn).get(r)??[];n.push(e),W(this,jn).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=xg(e);if(W(this,jn).has(r)){const i=(n=W(this,jn).get(r))==null?void 0:n.filter(o=>o!==e);i&&(i.length===0?W(this,jn).delete(r):W(this,jn).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=W(this,jn).get(xg(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=W(this,jn).get(xg(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){kr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...W(this,jn).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>kk(r,n))}findAll(e={}){return this.getAll().filter(r=>kk(e,r))}notify(e){kr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ii))))}},jn=new WeakMap,Jp=new WeakMap,y$);function xg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function jk(t){return{onFetch:(e,r)=>{var u,d,f,m,v;const n=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=FV(e.options,e.fetchOptions),y=async(w,E,S)=>{if(g)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:E,direction:S?"backward":"forward",meta:e.options.meta};b(C);const _=await x(C),{maxPages:T}=e.options,A=S?XK:YK;return{pages:A(w.pages,_,T),pageParams:A(w.pageParams,E,T)}};if(i&&o.length){const w=i==="backward",E=w?lQ:Dk,S={pages:o,pageParams:a},C=E(n,S);s=await y(S,C,w)}else{const w=t??o.length;do{const E=l===0?a[0]??n.initialPageParam:Dk(n,s);if(l>0&&E==null)break;s=await y(s,E),l++}while(l<w)}return s};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Dk(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function lQ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Yt,es,ts,$u,Lu,rs,Vu,Fu,v$,HV=(v$=class{constructor(t={}){De(this,Yt);De(this,es);De(this,ts);De(this,$u);De(this,Lu);De(this,rs);De(this,Vu);De(this,Fu);xe(this,Yt,t.queryCache||new iQ),xe(this,es,t.mutationCache||new sQ),xe(this,ts,t.defaultOptions||{}),xe(this,$u,new Map),xe(this,Lu,new Map),xe(this,rs,0)}mount(){eg(this,rs)._++,W(this,rs)===1&&(xe(this,Vu,dA.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Yt).onFocus())})),xe(this,Fu,Ky.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Yt).onOnline())})))}unmount(){var t,e;eg(this,rs)._--,W(this,rs)===0&&((t=W(this,Vu))==null||t.call(this),xe(this,Vu,void 0),(e=W(this,Fu))==null||e.call(this),xe(this,Fu,void 0))}isFetching(t){return W(this,Yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,es).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Yt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=W(this,Yt).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(mu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return W(this,Yt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=W(this,Yt).get(n.queryHash),o=i==null?void 0:i.state.data,a=KK(e,o);if(a!==void 0)return W(this,Yt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kr.batch(()=>W(this,Yt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=W(this,Yt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=W(this,Yt);kr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=W(this,Yt),n={type:"active",...t};return kr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=kr.batch(()=>W(this,Yt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ii).catch(ii)}invalidateQueries(t={},e={}){return kr.batch(()=>{if(W(this,Yt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=kr.batch(()=>W(this,Yt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ii)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ii)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=W(this,Yt).build(this,e);return r.isStaleByTime(mu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ii).catch(ii)}fetchInfiniteQuery(t){return t.behavior=jk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ii).catch(ii)}ensureInfiniteQueryData(t){return t.behavior=jk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ky.isOnline()?W(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Yt)}getMutationCache(){return W(this,es)}getDefaultOptions(){return W(this,ts)}setDefaultOptions(t){xe(this,ts,t)}setQueryDefaults(t,e){W(this,$u).set(Jh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,$u).values()];let r={};return e.forEach(n=>{ep(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){W(this,Lu).set(Jh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,Lu).values()];let r={};return e.forEach(n=>{ep(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Yt).clear(),W(this,es).clear()}},Yt=new WeakMap,es=new WeakMap,ts=new WeakMap,$u=new WeakMap,Lu=new WeakMap,rs=new WeakMap,Vu=new WeakMap,Fu=new WeakMap,v$),yn,rt,em,on,Nl,Uu,ns,io,tm,Bu,zu,Rl,jl,is,Wu,yt,Zf,I1,O1,k1,N1,R1,j1,D1,GV,b$,cQ=(b$=class extends sm{constructor(e,r){super();De(this,yt);De(this,yn);De(this,rt);De(this,em);De(this,on);De(this,Nl);De(this,Uu);De(this,ns);De(this,io);De(this,tm);De(this,Bu);De(this,zu);De(this,Rl);De(this,jl);De(this,is);De(this,Wu,new Set);this.options=r,xe(this,yn,e),xe(this,io,null),xe(this,ns,C1()),this.options.experimental_prefetchInRender||W(this,ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,rt).addObserver(this),Mk(W(this,rt),this.options)?tt(this,yt,Zf).call(this):this.updateResult(),tt(this,yt,N1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M1(W(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M1(W(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,yt,R1).call(this),tt(this,yt,j1).call(this),W(this,rt).removeObserver(this)}setOptions(e,r){const n=this.options,i=W(this,rt);if(this.options=W(this,yn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oi(this.options.enabled,W(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,yt,D1).call(this),W(this,rt).setOptions(this.options),n._defaulted&&!T1(this.options,n)&&W(this,yn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,rt),observer:this});const o=this.hasListeners();o&&$k(W(this,rt),i,this.options,n)&&tt(this,yt,Zf).call(this),this.updateResult(r),o&&(W(this,rt)!==i||Oi(this.options.enabled,W(this,rt))!==Oi(n.enabled,W(this,rt))||mu(this.options.staleTime,W(this,rt))!==mu(n.staleTime,W(this,rt)))&&tt(this,yt,I1).call(this);const a=tt(this,yt,O1).call(this);o&&(W(this,rt)!==i||Oi(this.options.enabled,W(this,rt))!==Oi(n.enabled,W(this,rt))||a!==W(this,is))&&tt(this,yt,k1).call(this,a)}getOptimisticResult(e){const r=W(this,yn).getQueryCache().build(W(this,yn),e),n=this.createResult(r,e);return dQ(this,n)&&(xe(this,on,n),xe(this,Uu,this.options),xe(this,Nl,W(this,rt).state)),n}getCurrentResult(){return W(this,on)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){W(this,Wu).add(e)}getCurrentQuery(){return W(this,rt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=W(this,yn).defaultQueryOptions(e),n=W(this,yn).getQueryCache().build(W(this,yn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return tt(this,yt,Zf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,on)))}createResult(e,r){var T;const n=W(this,rt),i=this.options,o=W(this,on),a=W(this,Nl),s=W(this,Uu),c=e!==n?e.state:W(this,em),{state:u}=e;let d={...u},f=!1,m;if(r._optimisticResults){const A=this.hasListeners(),N=!A&&Mk(e,r),I=A&&$k(e,n,r,i);(N||I)&&(d={...d,...qV(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=d;if(r.select&&d.data!==void 0)if(o&&d.data===(a==null?void 0:a.data)&&r.select===W(this,tm))m=W(this,Bu);else try{xe(this,tm,r.select),m=r.select(d.data),m=P1(o==null?void 0:o.data,m,r),xe(this,Bu,m),xe(this,io,null)}catch(A){xe(this,io,A)}else m=d.data;if(r.placeholderData!==void 0&&m===void 0&&b==="pending"){let A;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))A=o.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((T=W(this,zu))==null?void 0:T.state.data,W(this,zu)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),xe(this,io,null)}catch(N){xe(this,io,N)}A!==void 0&&(b="success",m=P1(o==null?void 0:o.data,A,r),f=!0)}W(this,io)&&(v=W(this,io),m=W(this,Bu),g=Date.now(),b="error");const x=d.fetchStatus==="fetching",y=b==="pending",w=b==="error",E=y&&x,S=m!==void 0,_={status:b,fetchStatus:d.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:fA(e,r),refetch:this.refetch,promise:W(this,ns)};if(this.options.experimental_prefetchInRender){const A=k=>{_.status==="error"?k.reject(_.error):_.data!==void 0&&k.resolve(_.data)},N=()=>{const k=xe(this,ns,_.promise=C1());A(k)},I=W(this,ns);switch(I.status){case"pending":e.queryHash===n.queryHash&&A(I);break;case"fulfilled":(_.status==="error"||_.data!==I.value)&&N();break;case"rejected":(_.status!=="error"||_.error!==I.reason)&&N();break}}return _}updateResult(e){const r=W(this,on),n=this.createResult(W(this,rt),this.options);if(xe(this,Nl,W(this,rt).state),xe(this,Uu,this.options),W(this,Nl).data!==void 0&&xe(this,zu,W(this,rt)),T1(n,r))return;xe(this,on,n);const i={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!W(this,Wu).size)return!0;const l=new Set(s??W(this,Wu));return this.options.throwOnError&&l.add("error"),Object.keys(W(this,on)).some(c=>{const u=c;return W(this,on)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),tt(this,yt,GV).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,yt,N1).call(this)}},yn=new WeakMap,rt=new WeakMap,em=new WeakMap,on=new WeakMap,Nl=new WeakMap,Uu=new WeakMap,ns=new WeakMap,io=new WeakMap,tm=new WeakMap,Bu=new WeakMap,zu=new WeakMap,Rl=new WeakMap,jl=new WeakMap,is=new WeakMap,Wu=new WeakMap,yt=new WeakSet,Zf=function(e){tt(this,yt,D1).call(this);let r=W(this,rt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ii)),r},I1=function(){tt(this,yt,R1).call(this);const e=mu(this.options.staleTime,W(this,rt));if(Hl||W(this,on).isStale||!S1(e))return;const n=LV(W(this,on).dataUpdatedAt,e)+1;xe(this,Rl,setTimeout(()=>{W(this,on).isStale||this.updateResult()},n))},O1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,rt)):this.options.refetchInterval)??!1},k1=function(e){tt(this,yt,j1).call(this),xe(this,is,e),!(Hl||Oi(this.options.enabled,W(this,rt))===!1||!S1(W(this,is))||W(this,is)===0)&&xe(this,jl,setInterval(()=>{(this.options.refetchIntervalInBackground||dA.isFocused())&&tt(this,yt,Zf).call(this)},W(this,is)))},N1=function(){tt(this,yt,I1).call(this),tt(this,yt,k1).call(this,tt(this,yt,O1).call(this))},R1=function(){W(this,Rl)&&(clearTimeout(W(this,Rl)),xe(this,Rl,void 0))},j1=function(){W(this,jl)&&(clearInterval(W(this,jl)),xe(this,jl,void 0))},D1=function(){const e=W(this,yn).getQueryCache().build(W(this,yn),this.options);if(e===W(this,rt))return;const r=W(this,rt);xe(this,rt,e),xe(this,em,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},GV=function(e){kr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(W(this,on))}),W(this,yn).getQueryCache().notify({query:W(this,rt),type:"observerResultsUpdated"})})},b$);function uQ(t,e){return Oi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Mk(t,e){return uQ(t,e)||t.state.data!==void 0&&M1(t,e,e.refetchOnMount)}function M1(t,e,r){if(Oi(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&fA(t,e)}return!1}function $k(t,e,r,n){return(t!==e||Oi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&fA(t,r)}function fA(t,e){return Oi(e.enabled,t)!==!1&&t.isStaleByTime(mu(e.staleTime,t))}function dQ(t,e){return!T1(t.getCurrentResult(),e)}var KV=O.createContext(void 0),fQ=t=>{const e=O.useContext(KV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hQ=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(KV.Provider,{value:t,children:e})),QV=O.createContext(!1),pQ=()=>O.useContext(QV);QV.Provider;function mQ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gQ=O.createContext(mQ()),yQ=()=>O.useContext(gQ);function vQ(t,e){return typeof t=="function"?t(...e):!!t}function Lk(){}var bQ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wQ=t=>{O.useEffect(()=>{t.clearReset()},[t])},xQ=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&vQ(r,[t.error,n]),_Q=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},EQ=(t,e)=>t.isLoading&&t.isFetching&&!e,SQ=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Vk=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function TQ(t,e,r){var u,d,f,m,v;const n=fQ(),i=pQ(),o=yQ(),a=n.defaultQueryOptions(t);(d=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,a),a._optimisticResults=i?"isRestoring":"optimistic",_Q(a),bQ(a,o),wQ(o);const s=!n.getQueryCache().get(a.queryHash),[l]=O.useState(()=>new e(n,a)),c=l.getOptimisticResult(a);if(O.useSyncExternalStore(O.useCallback(g=>{const b=i?Lk:l.subscribe(kr.batchCalls(g));return l.updateResult(),b},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),O.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),SQ(a,c))throw Vk(a,l,o);if(xQ({result:c,errorResetBoundary:o,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw c.error;if((m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,a,c),a.experimental_prefetchInRender&&!Hl&&EQ(c,i)){const g=s?Vk(a,l,o):(v=n.getQueryCache().get(a.queryHash))==null?void 0:v.promise;g==null||g.catch(Lk).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function Jf(t,e){return TQ(t,cQ)}const AQ=()=>{};var Fk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},PQ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],a=t[r++],s=t[r++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},XV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|s>>4;let f=(s&15)<<2|c>>6,m=c&63;l||(m=64,a||(f=64)),n.push(r[u],r[d],r[f],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||s==null||c==null||d==null)throw new CQ;const f=o<<2|s>>4;if(n.push(f),c!==64){const m=s<<4&240|c>>2;if(n.push(m),d!==64){const v=c<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IQ=function(t){const e=YV(t);return XV.encodeByteArray(e,!0)},Qy=function(t){return IQ(t).replace(/\./g,"")},ZV=function(t){try{return XV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ=()=>OQ().__FIREBASE_DEFAULTS__,NQ=()=>{if(typeof process>"u"||typeof Fk>"u")return;const t=Fk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZV(t[1]);return e&&JSON.parse(e)},tb=()=>{try{return AQ()||kQ()||NQ()||RQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JV=t=>{var e,r;return(r=(e=tb())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},eF=t=>{const e=JV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},tF=()=>{var t;return(t=tb())==null?void 0:t.config},rF=t=>{var e;return(e=tb())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qy(JSON.stringify(r)),Qy(JSON.stringify(a)),""].join(".")}const vh={};function DQ(){const t={prod:[],emulator:[]};for(const e of Object.keys(vh))vh[e]?t.emulator.push(e):t.prod.push(e);return t}function MQ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Uk=!1;function pA(t,e){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||vh[t]===e||vh[t]||Uk)return;vh[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",o=DQ().prod.length>0;function a(){const f=document.getElementById(n);f&&f.remove()}function s(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Uk=!0,a()},f}function u(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=MQ(n),m=r("text"),v=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),x=r("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;s(w),u(b,g);const E=c();l(y,x),w.append(y,v,b,E),document.body.appendChild(w)}o?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $Q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}function LQ(){var e;const t=(e=tb())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BQ(){const t=Jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zQ(){return!LQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WQ(){try{return typeof indexedDB=="object"}catch{return!1}}function qQ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ="FirebaseError";class Io extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=HQ,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lm.prototype.create)}}class lm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?GQ(o,n):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Io(i,s,n)}}function GQ(t,e){return t.replace(KQ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const KQ=/\{\$([^}]+)}/g;function QQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],a=e[i];if(Bk(o)&&Bk(a)){if(!Gl(o,a))return!1}else if(o!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Bk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function YQ(t,e){const r=new XQ(t,e);return r.subscribe.bind(r)}class XQ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");ZQ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=xx),i.error===void 0&&(i.error=xx),i.complete===void 0&&(i.complete=xx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZQ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function xx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new jQ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tY(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:eY(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eY(t){return t===hl?void 0:t}function tY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new JQ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const nY={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},iY=Ye.INFO,oY={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},aY=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=oY[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mA{constructor(e){this.name=e,this._logLevel=iY,this._logHandler=aY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const sY=(t,e)=>e.some(r=>t instanceof r);let zk,Wk;function lY(){return zk||(zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cY(){return Wk||(Wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iF=new WeakMap,$1=new WeakMap,oF=new WeakMap,_x=new WeakMap,gA=new WeakMap;function uY(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{r(vs(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&iF.set(r,t)}).catch(()=>{}),gA.set(e,t),e}function dY(t){if($1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});$1.set(t,e)}let L1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return $1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oF.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fY(t){L1=t(L1)}function hY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ex(this),e,...r);return oF.set(n,e.sort?e.sort():[e]),vs(n)}:cY().includes(t)?function(...e){return t.apply(Ex(this),e),vs(iF.get(this))}:function(...e){return vs(t.apply(Ex(this),e))}}function pY(t){return typeof t=="function"?hY(t):(t instanceof IDBTransaction&&dY(t),sY(t,lY())?new Proxy(t,L1):t)}function vs(t){if(t instanceof IDBRequest)return uY(t);if(_x.has(t))return _x.get(t);const e=pY(t);return e!==t&&(_x.set(t,e),gA.set(e,t)),e}const Ex=t=>gA.get(t);function mY(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=vs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(vs(a.result),l.oldVersion,l.newVersion,vs(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const gY=["get","getKey","getAll","getAllKeys","count"],yY=["put","add","delete","clear"],Sx=new Map;function qk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sx.get(e))return Sx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=yY.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||gY.includes(r)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Sx.set(e,o),o}fY(t=>({...t,get:(e,r,n)=>qk(e,r)||t.get(e,r,n),has:(e,r)=>!!qk(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bY(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const V1="@firebase/app",Hk="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new mA("@firebase/app"),wY="@firebase/app-compat",xY="@firebase/analytics-compat",_Y="@firebase/analytics",EY="@firebase/app-check-compat",SY="@firebase/app-check",TY="@firebase/auth",AY="@firebase/auth-compat",PY="@firebase/database",CY="@firebase/data-connect",IY="@firebase/database-compat",OY="@firebase/functions",kY="@firebase/functions-compat",NY="@firebase/installations",RY="@firebase/installations-compat",jY="@firebase/messaging",DY="@firebase/messaging-compat",MY="@firebase/performance",$Y="@firebase/performance-compat",LY="@firebase/remote-config",VY="@firebase/remote-config-compat",FY="@firebase/storage",UY="@firebase/storage-compat",BY="@firebase/firestore",zY="@firebase/ai",WY="@firebase/firestore-compat",qY="firebase",HY="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="[DEFAULT]",GY={[V1]:"fire-core",[wY]:"fire-core-compat",[_Y]:"fire-analytics",[xY]:"fire-analytics-compat",[SY]:"fire-app-check",[EY]:"fire-app-check-compat",[TY]:"fire-auth",[AY]:"fire-auth-compat",[PY]:"fire-rtdb",[CY]:"fire-data-connect",[IY]:"fire-rtdb-compat",[OY]:"fire-fn",[kY]:"fire-fn-compat",[NY]:"fire-iid",[RY]:"fire-iid-compat",[jY]:"fire-fcm",[DY]:"fire-fcm-compat",[MY]:"fire-perf",[$Y]:"fire-perf-compat",[LY]:"fire-rc",[VY]:"fire-rc-compat",[FY]:"fire-gcs",[UY]:"fire-gcs-compat",[BY]:"fire-fst",[WY]:"fire-fst-compat",[zY]:"fire-vertex","fire-js":"fire-js",[qY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map,KY=new Map,U1=new Map;function Gk(t,e){try{t.container.addComponent(e)}catch(r){pa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Kl(t){const e=t.name;if(U1.has(e))return pa.debug(`There were multiple attempts to register component ${e}.`),!1;U1.set(e,t);for(const r of Yy.values())Gk(r,t);for(const r of KY.values())Gk(r,t);return!0}function rb(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new lm("app","Firebase",QY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=HY;function aF(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:F1,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(r||(r=tF()),!r)throw bs.create("no-options");const o=Yy.get(i);if(o){if(Gl(r,o.options)&&Gl(n,o.config))return o;throw bs.create("duplicate-app",{appName:i})}const a=new rY(i);for(const l of U1.values())a.addComponent(l);const s=new YY(r,n,a);return Yy.set(i,s),s}function yA(t=F1){const e=Yy.get(t);if(!e&&t===F1&&tF())return aF();if(!e)throw bs.create("no-app",{appName:t});return e}function go(t,e,r){let n=GY[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pa.warn(a.join(" "));return}Kl(new Os(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY="firebase-heartbeat-database",ZY=1,tp="firebase-heartbeat-store";let Tx=null;function sF(){return Tx||(Tx=mY(XY,ZY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tp)}catch(r){console.warn(r)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Tx}async function JY(t){try{const r=(await sF()).transaction(tp),n=await r.objectStore(tp).get(lF(t));return await r.done,n}catch(e){if(e instanceof Io)pa.warn(e.message);else{const r=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pa.warn(r.message)}}}async function Kk(t,e){try{const n=(await sF()).transaction(tp,"readwrite");await n.objectStore(tp).put(e,lF(t)),await n.done}catch(r){if(r instanceof Io)pa.warn(r.message);else{const n=bs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pa.warn(n.message)}}}function lF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX=1024,tX=30;class rX{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iX(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>tX){const a=oX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Qk(),{heartbeatsToSend:n,unsentEntries:i}=nX(this._heartbeatsCache.heartbeats),o=Qy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return pa.warn(r),""}}}function Qk(){return new Date().toISOString().substring(0,10)}function nX(t,e=eX){const r=[];let n=t.slice();for(const i of t){const o=r.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Yk(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Yk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class iX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WQ()?qQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await JY(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Kk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Kk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Yk(t){return Qy(JSON.stringify({version:2,heartbeats:t})).length}function oX(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t){Kl(new Os("platform-logger",e=>new vY(e),"PRIVATE")),Kl(new Os("heartbeat",e=>new rX(e),"PRIVATE")),go(V1,Hk,t),go(V1,Hk,"esm2020"),go("fire-js","")}aX("");function cF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sX=cF,uF=new lm("auth","Firebase",cF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new mA("@firebase/auth");function lX(t,...e){Xy.logLevel<=Ye.WARN&&Xy.warn(`Auth (${hc}): ${t}`,...e)}function uy(t,...e){Xy.logLevel<=Ye.ERROR&&Xy.error(`Auth (${hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw bA(t,...e)}function Fi(t,...e){return bA(t,...e)}function vA(t,e,r){const n={...sX(),[e]:r};return new lm("auth","Firebase",n).create(e,{appName:t.name})}function na(t){return vA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cX(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&pi(t,"argument-error"),vA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bA(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return uF.create(t,...e)}function Re(t,e,...r){if(!t)throw bA(e,...r)}function Yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uy(e),new Error(e)}function ma(t,e){t||Yo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function uX(){return Xk()==="http:"||Xk()==="https:"}function Xk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uX()||FQ()||"connection"in navigator)?navigator.onLine:!0}function fX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,r){this.shortDelay=e,this.longDelay=r,ma(r>e,"Short delay should be less than long delay!"),this.isMobile=$Q()||UQ()}get(){return dX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e){ma(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mX=new um(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oo(t,e,r,n,i={}){return fF(t,i,async()=>{let o={},a={};n&&(e==="GET"?a=n:o={body:JSON.stringify(n)});const s=cm({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...o};return VQ()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Hs(t.emulatorConfig.host)&&(c.credentials="include"),dF.fetch()(await hF(t,t.config.apiHost,r,s),c)})}async function fF(t,e,r){t._canInitEmulator=!1;const n={...hX,...e};try{const i=new yX(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw _g(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _g(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw _g(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw _g(t,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vA(t,u,c);pi(t,u)}}catch(i){if(i instanceof Io)throw i;pi(t,"network-request-failed",{message:String(i)})}}async function dm(t,e,r,n,i={}){const o=await Oo(t,e,r,n,i);return"mfaPendingCredential"in o&&pi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function hF(t,e,r,n){const i=`${e}${r}?${n}`,o=t,a=o.config.emulator?wA(t.config,i):`${t.config.apiScheme}://${i}`;return pX.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function gX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fi(this.auth,"network-request-failed")),mX.get())})}}function _g(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Fi(t,e,n);return i.customData._tokenResponse=r,i}function Zk(t){return t!==void 0&&t.enterprise!==void 0}class vX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return gX(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bX(t,e){return Oo(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wX(t,e){return Oo(t,"POST","/v1/accounts:delete",e)}async function Zy(t,e){return Oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xX(t,e=!1){const r=Pt(t),n=await r.getIdToken(e),i=xA(n);Re(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:bh(Ax(i.auth_time)),issuedAtTime:bh(Ax(i.iat)),expirationTime:bh(Ax(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ax(t){return Number(t)*1e3}function xA(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return uy("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZV(r);return i?JSON.parse(i):(uy("Failed to decode base64 JWT payload"),null)}catch(i){return uy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jk(t){const e=xA(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Io&&_X(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function _X({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(t){var d;const e=t.auth,r=await t.getIdToken(),n=await Ql(t,Zy(e,{idToken:r}));Re(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const o=(d=i.providerUserInfo)!=null&&d.length?pF(i.providerUserInfo):[],a=TX(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=s?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new z1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function SX(t){const e=Pt(t);await Jy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TX(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function pF(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX(t,e){const r=await fF(t,{},async()=>{const n=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await hF(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&Hs(t.emulatorConfig.host)&&(l.credentials="include"),dF.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function PX(t,e){return Oo(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const r=Jk(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await AX(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,a=new gu;return n&&(Re(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Re(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Re(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gu,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new EX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Re(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return xX(this,e)}reload(){return SX(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Jy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await Ql(this,wX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,o=r.phoneNumber??void 0,a=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:m,providerData:v,stsTokenManager:g}=r;Re(d&&g,e,"internal-error");const b=gu.fromJSON(this.name,g);Re(typeof d=="string",e,"internal-error"),$a(n,e.name),$a(i,e.name),Re(typeof f=="boolean",e,"internal-error"),Re(typeof m=="boolean",e,"internal-error"),$a(o,e.name),$a(a,e.name),$a(s,e.name),$a(l,e.name),$a(c,e.name),$a(u,e.name);const x=new Di({uid:d,auth:e,email:i,emailVerified:f,displayName:n,isAnonymous:m,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:b,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(x.providerData=v.map(y=>({...y}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,r,n=!1){const i=new gu;i.updateFromServerResponse(r);const o=new Di({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Jy(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new gu;s.updateFromIdToken(n);const l=new Di({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Map;function Xo(t){ma(t instanceof Function,"Expected a class definition");let e=eN.get(t);return e?(ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}mF.type="NONE";const tN=mF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e,r){return`firebase:${t}:${e}:${r}`}class yu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=dy(this.userKey,i.apiKey,o),this.fullPersistenceKey=dy("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Zy(this.auth,{idToken:e}).catch(()=>{});return r?Di._fromGetAccountInfoResponse(this.auth,r,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yu(Xo(tN),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Xo(tN);const a=dy(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const f=await Zy(e,{idToken:u}).catch(()=>{});if(!f)break;d=await Di._fromGetAccountInfoResponse(e,f,u)}else d=Di._fromJSON(e,u);c!==o&&(s=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yu(o,e,n):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new yu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xF(e))return"Blackberry";if(_F(e))return"Webos";if(yF(e))return"Safari";if((e.includes("chrome/")||vF(e))&&!e.includes("edge/"))return"Chrome";if(wF(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function gF(t=Jr()){return/firefox\//i.test(t)}function yF(t=Jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vF(t=Jr()){return/crios\//i.test(t)}function bF(t=Jr()){return/iemobile/i.test(t)}function wF(t=Jr()){return/android/i.test(t)}function xF(t=Jr()){return/blackberry/i.test(t)}function _F(t=Jr()){return/webos/i.test(t)}function _A(t=Jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CX(t=Jr()){var e;return _A(t)&&!!((e=window.navigator)!=null&&e.standalone)}function IX(){return BQ()&&document.documentMode===10}function EF(t=Jr()){return _A(t)||wF(t)||_F(t)||xF(t)||/windows phone/i.test(t)||bF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t,e=[]){let r;switch(t){case"Browser":r=rN(Jr());break;case"Worker":r=`${rN(Jr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${hc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kX(t,e={}){return Oo(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=6;class RX{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??NX,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nN(this),this.idTokenSubscription=new nN(this),this.beforeStateQueue=new OX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Xo(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await yu.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Zy(this,{idToken:e}),n=await Di._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(wn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Jy(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(na(this));const r=e?Pt(e):null;return r&&Re(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kX(this),r=new RX(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await PX(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Xo(e)||this._popupRedirectResolver;Re(r,this,"argument-error"),this.redirectPersistenceManager=await yu.create(this,[Xo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&lX(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ks(t){return Pt(t)}class nN{constructor(e){this.auth=e,this.observer=null,this.addObserver=YQ(r=>this.observer=r)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DX(t){nb=t}function TF(t){return nb.loadJS(t)}function MX(){return nb.recaptchaEnterpriseScript}function $X(){return nb.gapiScript}function LX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class VX{constructor(){this.enterprise=new FX}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class FX{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const UX="recaptcha-enterprise",AF="NO_RECAPTCHA";class BX{constructor(e){this.type=UX,this.auth=Ks(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{bX(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new vX(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;Zk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{a(c)}).catch(()=>{a(AF)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VX().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{n(this.auth).then(s=>{if(!r&&Zk(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MX();l.length!==0&&(l+=s),TF(l).then(()=>{i(s,o,a)}).catch(c=>{a(c)})}}).catch(s=>{a(s)})})}}async function iN(t,e,r,n=!1,i=!1){const o=new BX(t);let a;if(i)a=AF;else try{a=await o.verify(r)}catch{a=await o.verify(r,!0)}const s={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function W1(t,e,r,n,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await iN(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await iN(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t,e){const r=rb(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Gl(o,e??{}))return i;pi(i,"already-initialized")}return r.initialize({options:e})}function WX(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Xo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function qX(t,e,r){const n=Ks(t);Re(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),o=PF(e),{host:a,port:s}=HX(e),l=s===null?"":`:${s}`,c={url:`${o}//${a}${l}/`},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Re(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Re(Gl(c,n.config.emulator)&&Gl(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Hs(a)?(hA(`${o}//${a}${l}`),pA("Auth",!0)):GX()}function PF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HX(t){const e=PF(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:oN(n.substr(o.length+1))}}else{const[o,a]=n.split(":");return{host:o,port:oN(a)}}}function oN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GX(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Yo("not implemented")}_getIdTokenResponse(e){return Yo("not implemented")}_linkToIdToken(e,r){return Yo("not implemented")}_getReauthenticationResolver(e){return Yo("not implemented")}}async function KX(t,e){return Oo(t,"POST","/v1/accounts:update",e)}async function QX(t,e){return Oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e){return dm(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XX(t,e){return dm(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function ZX(t,e){return dm(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends EA{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new rp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new rp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,r,"signInWithPassword",YX);case"emailLink":return XX(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W1(e,n,"signUpPassword",QX);case"emailLink":return ZX(e,{idToken:r,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e){return dm(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX="http://localhost";class Yl extends EA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):pi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=r;if(!n||!i)return null;const a=new Yl(n,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return vu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,vu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,vu(e,r)}buildRequest(){const e={requestUri:JX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=cm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tZ(t){const e=eh(th(t)).link,r=e?eh(th(e)).deep_link_id:null,n=eh(th(t)).deep_link_id;return(n?eh(th(n)).link:null)||n||r||e||t}class SA{constructor(e){const r=eh(th(e)),n=r.apiKey??null,i=r.oobCode??null,o=eZ(r.mode??null);Re(n&&i&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=tZ(e);try{return new SA(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,r){return rp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=SA.parseLink(r);return Re(n,"argument-error"),rp._fromEmailAndCode(e,n.code,n.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends TA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends fm{constructor(){super("facebook.com")}static credential(e){return Yl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Yl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ho.credential(r,n)}catch{return null}}}Ho.GOOGLE_SIGN_IN_METHOD="google.com";Ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends fm{constructor(){super("github.com")}static credential(e){return Yl._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.GITHUB_SIGN_IN_METHOD="github.com";Ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends fm{constructor(){super("twitter.com")}static credential(e,r){return Yl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Qa.credential(r,n)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rZ(t,e){return dm(t,"POST","/v1/accounts:signUp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await Di._fromIdTokenResponse(e,n,i),a=aN(n);return new Xl({user:o,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=aN(n);return new Xl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function aN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Io{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ev.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ev(e,r,n,i)}}function CF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ev._fromErrorAndOperation(t,o,e,n):o})}async function nZ(t,e,r=!1){const n=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Xl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IF(t,e,r=!1){const{auth:n}=t;if(wn(n.app))return Promise.reject(na(n));const i="reauthenticate";try{const o=await Ql(t,CF(n,i,e,t),r);Re(o.idToken,n,"internal-error");const a=xA(o.idToken);Re(a,n,"internal-error");const{sub:s}=a;return Re(t.uid===s,n,"user-mismatch"),Xl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pi(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e,r=!1){if(wn(t.app))return Promise.reject(na(t));const n="signIn",i=await CF(t,n,e),o=await Xl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function iZ(t,e){return OF(Ks(t),e)}async function oZ(t,e){return IF(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aZ(t,e,r){if(wn(t.app))return Promise.reject(na(t));const n=Ks(t),a=await W1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&kF(t),l}),s=await Xl._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(s.user),s}function sZ(t,e,r){return wn(t.app)?Promise.reject(na(t)):iZ(Pt(t),pc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&kF(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(t,e){return Oo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Pt(t),o={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await Ql(n,lZ(n.auth,o));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function cZ(t,e){return uZ(Pt(t),null,e)}async function uZ(t,e,r){const{auth:n}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(o.password=r);const a=await Ql(t,KX(n,o));await t._updateTokensIfNecessary(a,!0)}function dZ(t,e,r,n){return Pt(t).onIdTokenChanged(e,r,n)}function fZ(t,e,r){return Pt(t).beforeAuthStateChanged(e,r)}function hZ(t,e,r,n){return Pt(t).onAuthStateChanged(e,r,n)}function pZ(t){return Pt(t).signOut()}const tv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(tv,"1"),this.storage.removeItem(tv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=1e3,gZ=10;class RF extends NF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},o=this.storage.getItem(n);IX()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gZ):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},mZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}RF.type="LOCAL";const yZ=RF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends NF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}jF.type="SESSION";const DF=jF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ib(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(a).map(async c=>c(r.origin,o)),l=await vZ(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ib.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const c=AA("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(){return window}function wZ(t){yo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return typeof yo().WorkerGlobalScope<"u"&&typeof yo().importScripts=="function"}async function xZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _Z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EZ(){return MF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebaseLocalStorageDb",SZ=1,rv="firebaseLocalStorage",LF="fbase_key";class hm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ob(t,e){return t.transaction([rv],e?"readwrite":"readonly").objectStore(rv)}function TZ(){const t=indexedDB.deleteDatabase($F);return new hm(t).toPromise()}function q1(){const t=indexedDB.open($F,SZ);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(rv,{keyPath:LF})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(rv)?e(n):(n.close(),await TZ(),e(await q1()))})})}async function lN(t,e,r){const n=ob(t,!0).put({[LF]:e,value:r});return new hm(n).toPromise()}async function AZ(t,e){const r=ob(t,!1).get(e),n=await new hm(r).toPromise();return n===void 0?null:n.value}function cN(t,e){const r=ob(t,!0).delete(e);return new hm(r).toPromise()}const PZ=800,CZ=3;class VF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q1(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>CZ)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ib._getInstance(EZ()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await xZ(),!this.activeServiceWorker)return;this.sender=new bZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_Z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q1();return await lN(e,tv,"1"),await cN(e,tv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>lN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>AZ(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>cN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ob(i,!1).getAll();return new hm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VF.type="LOCAL";const IZ=VF;new um(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e){return e?Xo(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends EA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return vu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function OZ(t){return OF(t.auth,new PA(t),t.bypassAuthState)}function kZ(t){const{auth:e,user:r}=t;return Re(r,e,"internal-error"),IF(r,new PA(t),t.bypassAuthState)}async function NZ(t){const{auth:e,user:r}=t;return Re(r,e,"internal-error"),nZ(r,new PA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OZ;case"linkViaPopup":case"linkViaRedirect":return NZ;case"reauthViaPopup":case"reauthViaRedirect":return kZ;default:pi(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=new um(2e3,1e4);async function jZ(t,e,r){if(wn(t.app))return Promise.reject(Fi(t,"operation-not-supported-in-this-environment"));const n=Ks(t);cX(t,e,TA);const i=FF(n,r);return new xl(n,"signInViaPopup",e,i).executeNotNull()}class xl extends UF{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=AA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RZ.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ="pendingRedirect",fy=new Map;class MZ extends UF{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=fy.get(this.auth._key());if(!e){try{const n=await $Z(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}fy.set(this.auth._key(),e)}return this.bypassAuthState||fy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $Z(t,e){const r=FZ(e),n=VZ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function LZ(t,e){fy.set(t._key(),e)}function VZ(t){return Xo(t._redirectPersistence)}function FZ(t){return dy(DZ,t.config.apiKey,t.name)}async function UZ(t,e,r=!1){if(wn(t.app))return Promise.reject(na(t));const n=Ks(t),i=FF(n,e),a=await new MZ(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ=10*60*1e3;class zZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WZ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!BF(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(uN(e))}saveEventToCache(e){this.cachedEventUids.add(uN(e)),this.lastProcessedEventTime=Date.now()}}function uN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qZ(t,e={}){return Oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GZ=/^https?/;async function KZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qZ(t);for(const r of e)try{if(QZ(r))return}catch{}pi(t,"unauthorized-domain")}function QZ(t){const e=B1(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!GZ.test(r))return!1;if(HZ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=new um(3e4,6e4);function dN(){const t=yo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function XZ(t){return new Promise((e,r)=>{var i,o,a;function n(){dN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dN(),r(Fi(t,"network-request-failed"))},timeout:YZ.get()})}if((o=(i=yo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=yo().gapi)!=null&&a.load)n();else{const s=LX("iframefcb");return yo()[s]=()=>{gapi.load?n():r(Fi(t,"network-request-failed"))},TF(`${$X()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw hy=null,e})}let hy=null;function ZZ(t){return hy=hy||XZ(t),hy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=new um(5e3,15e3),eJ="__/auth/iframe",tJ="emulator/auth/iframe",rJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iJ(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?wA(e,tJ):`https://${t.config.authDomain}/${eJ}`,n={apiKey:e.apiKey,appName:t.name,v:hc},i=nJ.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${cm(n).slice(1)}`}async function oJ(t){const e=await ZZ(t),r=yo().gapi;return Re(r,t,"internal-error"),e.open({where:document.body,url:iJ(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rJ,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const a=Fi(t,"network-request-failed"),s=yo().setTimeout(()=>{o(a)},JZ.get());function l(){yo().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sJ=500,lJ=600,cJ="_blank",uJ="http://localhost";class fN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dJ(t,e,r,n=sJ,i=lJ){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...aJ,width:n.toString(),height:i.toString(),top:o,left:a},c=Jr().toLowerCase();r&&(s=vF(c)?cJ:r),gF(c)&&(e=e||uJ,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(CX(c)&&s!=="_self")return fJ(e||"",s),new fN(null);const d=window.open(e||"",s,u);Re(d,t,"popup-blocked");try{d.focus()}catch{}return new fN(d)}function fJ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hJ="__/auth/handler",pJ="emulator/auth/handler",mJ=encodeURIComponent("fac");async function hN(t,e,r,n,i,o){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:hc,eventId:i};if(e instanceof TA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",QQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof fm){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${mJ}=${encodeURIComponent(l)}`:"";return`${gJ(t)}?${cm(s).slice(1)}${c}`}function gJ({config:t}){return t.emulator?wA(t,pJ):`https://${t.authDomain}/${hJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="webStorageSupport";class yJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DF,this._completeRedirectFn=UZ,this._overrideRedirectResult=LZ}async _openPopup(e,r,n,i){var a;ma((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await hN(e,r,n,B1(),i);return dJ(e,o,AA())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await hN(e,r,n,B1(),i);return wZ(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(ma(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await oJ(e),n=new zZ(e);return r.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Px,{type:Px},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[Px];o!==void 0&&r(!!o),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=KZ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return EF()||yF()||_A()}}const vJ=yJ;var pN="@firebase/auth",mN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xJ(t){Kl(new Os("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=n.options;Re(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SF(t)},c=new jX(n,i,o,l);return WX(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Kl(new Os("auth-internal",e=>{const r=Ks(e.getProvider("auth").getImmediate());return(n=>new bJ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(pN,mN,wJ(t)),go(pN,mN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=5*60,EJ=rF("authIdTokenMaxAge")||_J;let gN=null;const SJ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>EJ)return;const i=r==null?void 0:r.token;gN!==i&&(gN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TJ(t=yA()){const e=rb(t,"auth");if(e.isInitialized())return e.getImmediate();const r=zX(t,{popupRedirectResolver:vJ,persistence:[IZ,yZ,DF]}),n=rF("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const a=SJ(o.toString());fZ(r,a,()=>a(r.currentUser)),dZ(r,s=>a(s))}}const i=JV("auth");return i&&qX(r,`http://${i}`),r}function AJ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}DX({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Fi("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",AJ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xJ("Browser");var yN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,zF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function A(){}A.prototype=T.prototype,_.D=T.prototype,_.prototype=new A,_.prototype.constructor=_,_.C=function(N,I,k){for(var R=Array(arguments.length-2),M=2;M<arguments.length;M++)R[M-2]=arguments[M];return T.prototype[I].apply(N,R)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,A){A||(A=0);var N=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)N[I]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(I=0;16>I;++I)N[I]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=_.g[0],A=_.g[1],I=_.g[2];var k=_.g[3],R=T+(k^A&(I^k))+N[0]+3614090360&4294967295;T=A+(R<<7&4294967295|R>>>25),R=k+(I^T&(A^I))+N[1]+3905402710&4294967295,k=T+(R<<12&4294967295|R>>>20),R=I+(A^k&(T^A))+N[2]+606105819&4294967295,I=k+(R<<17&4294967295|R>>>15),R=A+(T^I&(k^T))+N[3]+3250441966&4294967295,A=I+(R<<22&4294967295|R>>>10),R=T+(k^A&(I^k))+N[4]+4118548399&4294967295,T=A+(R<<7&4294967295|R>>>25),R=k+(I^T&(A^I))+N[5]+1200080426&4294967295,k=T+(R<<12&4294967295|R>>>20),R=I+(A^k&(T^A))+N[6]+2821735955&4294967295,I=k+(R<<17&4294967295|R>>>15),R=A+(T^I&(k^T))+N[7]+4249261313&4294967295,A=I+(R<<22&4294967295|R>>>10),R=T+(k^A&(I^k))+N[8]+1770035416&4294967295,T=A+(R<<7&4294967295|R>>>25),R=k+(I^T&(A^I))+N[9]+2336552879&4294967295,k=T+(R<<12&4294967295|R>>>20),R=I+(A^k&(T^A))+N[10]+4294925233&4294967295,I=k+(R<<17&4294967295|R>>>15),R=A+(T^I&(k^T))+N[11]+2304563134&4294967295,A=I+(R<<22&4294967295|R>>>10),R=T+(k^A&(I^k))+N[12]+1804603682&4294967295,T=A+(R<<7&4294967295|R>>>25),R=k+(I^T&(A^I))+N[13]+4254626195&4294967295,k=T+(R<<12&4294967295|R>>>20),R=I+(A^k&(T^A))+N[14]+2792965006&4294967295,I=k+(R<<17&4294967295|R>>>15),R=A+(T^I&(k^T))+N[15]+1236535329&4294967295,A=I+(R<<22&4294967295|R>>>10),R=T+(I^k&(A^I))+N[1]+4129170786&4294967295,T=A+(R<<5&4294967295|R>>>27),R=k+(A^I&(T^A))+N[6]+3225465664&4294967295,k=T+(R<<9&4294967295|R>>>23),R=I+(T^A&(k^T))+N[11]+643717713&4294967295,I=k+(R<<14&4294967295|R>>>18),R=A+(k^T&(I^k))+N[0]+3921069994&4294967295,A=I+(R<<20&4294967295|R>>>12),R=T+(I^k&(A^I))+N[5]+3593408605&4294967295,T=A+(R<<5&4294967295|R>>>27),R=k+(A^I&(T^A))+N[10]+38016083&4294967295,k=T+(R<<9&4294967295|R>>>23),R=I+(T^A&(k^T))+N[15]+3634488961&4294967295,I=k+(R<<14&4294967295|R>>>18),R=A+(k^T&(I^k))+N[4]+3889429448&4294967295,A=I+(R<<20&4294967295|R>>>12),R=T+(I^k&(A^I))+N[9]+568446438&4294967295,T=A+(R<<5&4294967295|R>>>27),R=k+(A^I&(T^A))+N[14]+3275163606&4294967295,k=T+(R<<9&4294967295|R>>>23),R=I+(T^A&(k^T))+N[3]+4107603335&4294967295,I=k+(R<<14&4294967295|R>>>18),R=A+(k^T&(I^k))+N[8]+1163531501&4294967295,A=I+(R<<20&4294967295|R>>>12),R=T+(I^k&(A^I))+N[13]+2850285829&4294967295,T=A+(R<<5&4294967295|R>>>27),R=k+(A^I&(T^A))+N[2]+4243563512&4294967295,k=T+(R<<9&4294967295|R>>>23),R=I+(T^A&(k^T))+N[7]+1735328473&4294967295,I=k+(R<<14&4294967295|R>>>18),R=A+(k^T&(I^k))+N[12]+2368359562&4294967295,A=I+(R<<20&4294967295|R>>>12),R=T+(A^I^k)+N[5]+4294588738&4294967295,T=A+(R<<4&4294967295|R>>>28),R=k+(T^A^I)+N[8]+2272392833&4294967295,k=T+(R<<11&4294967295|R>>>21),R=I+(k^T^A)+N[11]+1839030562&4294967295,I=k+(R<<16&4294967295|R>>>16),R=A+(I^k^T)+N[14]+4259657740&4294967295,A=I+(R<<23&4294967295|R>>>9),R=T+(A^I^k)+N[1]+2763975236&4294967295,T=A+(R<<4&4294967295|R>>>28),R=k+(T^A^I)+N[4]+1272893353&4294967295,k=T+(R<<11&4294967295|R>>>21),R=I+(k^T^A)+N[7]+4139469664&4294967295,I=k+(R<<16&4294967295|R>>>16),R=A+(I^k^T)+N[10]+3200236656&4294967295,A=I+(R<<23&4294967295|R>>>9),R=T+(A^I^k)+N[13]+681279174&4294967295,T=A+(R<<4&4294967295|R>>>28),R=k+(T^A^I)+N[0]+3936430074&4294967295,k=T+(R<<11&4294967295|R>>>21),R=I+(k^T^A)+N[3]+3572445317&4294967295,I=k+(R<<16&4294967295|R>>>16),R=A+(I^k^T)+N[6]+76029189&4294967295,A=I+(R<<23&4294967295|R>>>9),R=T+(A^I^k)+N[9]+3654602809&4294967295,T=A+(R<<4&4294967295|R>>>28),R=k+(T^A^I)+N[12]+3873151461&4294967295,k=T+(R<<11&4294967295|R>>>21),R=I+(k^T^A)+N[15]+530742520&4294967295,I=k+(R<<16&4294967295|R>>>16),R=A+(I^k^T)+N[2]+3299628645&4294967295,A=I+(R<<23&4294967295|R>>>9),R=T+(I^(A|~k))+N[0]+4096336452&4294967295,T=A+(R<<6&4294967295|R>>>26),R=k+(A^(T|~I))+N[7]+1126891415&4294967295,k=T+(R<<10&4294967295|R>>>22),R=I+(T^(k|~A))+N[14]+2878612391&4294967295,I=k+(R<<15&4294967295|R>>>17),R=A+(k^(I|~T))+N[5]+4237533241&4294967295,A=I+(R<<21&4294967295|R>>>11),R=T+(I^(A|~k))+N[12]+1700485571&4294967295,T=A+(R<<6&4294967295|R>>>26),R=k+(A^(T|~I))+N[3]+2399980690&4294967295,k=T+(R<<10&4294967295|R>>>22),R=I+(T^(k|~A))+N[10]+4293915773&4294967295,I=k+(R<<15&4294967295|R>>>17),R=A+(k^(I|~T))+N[1]+2240044497&4294967295,A=I+(R<<21&4294967295|R>>>11),R=T+(I^(A|~k))+N[8]+1873313359&4294967295,T=A+(R<<6&4294967295|R>>>26),R=k+(A^(T|~I))+N[15]+4264355552&4294967295,k=T+(R<<10&4294967295|R>>>22),R=I+(T^(k|~A))+N[6]+2734768916&4294967295,I=k+(R<<15&4294967295|R>>>17),R=A+(k^(I|~T))+N[13]+1309151649&4294967295,A=I+(R<<21&4294967295|R>>>11),R=T+(I^(A|~k))+N[4]+4149444226&4294967295,T=A+(R<<6&4294967295|R>>>26),R=k+(A^(T|~I))+N[11]+3174756917&4294967295,k=T+(R<<10&4294967295|R>>>22),R=I+(T^(k|~A))+N[2]+718787259&4294967295,I=k+(R<<15&4294967295|R>>>17),R=A+(k^(I|~T))+N[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+k&4294967295}n.prototype.u=function(_,T){T===void 0&&(T=_.length);for(var A=T-this.blockSize,N=this.B,I=this.h,k=0;k<T;){if(I==0)for(;k<=A;)i(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<T;)if(N[I++]=_.charCodeAt(k++),I==this.blockSize){i(this,N),I=0;break}}else for(;k<T;)if(N[I++]=_[k++],I==this.blockSize){i(this,N),I=0;break}}this.h=I,this.o+=T},n.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;var A=8*this.o;for(T=_.length-8;T<_.length;++T)_[T]=A&255,A/=256;for(this.u(_),_=Array(16),T=A=0;4>T;++T)for(var N=0;32>N;N+=8)_[A++]=this.g[T]>>>N&255;return _};function o(_,T){var A=s;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=T(_)}function a(_,T){this.h=T;for(var A=[],N=!0,I=_.length-1;0<=I;I--){var k=_[I]|0;N&&k==T||(A[I]=k,N=!1)}this.g=A}var s={};function l(_){return-128<=_&&128>_?o(_,function(T){return new a([T|0],0>T?-1:0)}):new a([_|0],0>_?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return b(c(-_));for(var T=[],A=1,N=0;_>=A;N++)T[N]=_/A|0,A*=4294967296;return new a(T,0)}function u(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return b(u(_.substring(1),T));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(T,8)),N=d,I=0;I<_.length;I+=8){var k=Math.min(8,_.length-I),R=parseInt(_.substring(I,I+k),T);8>k?(k=c(Math.pow(T,k)),N=N.j(k).add(c(R))):(N=N.j(A),N=N.add(c(R)))}return N}var d=l(0),f=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-b(this).m();for(var _=0,T=1,A=0;A<this.g.length;A++){var N=this.i(A);_+=(0<=N?N:4294967296+N)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(v(this))return"0";if(g(this))return"-"+b(this).toString(_);for(var T=c(Math.pow(_,6)),A=this,N="";;){var I=E(A,T).g;A=x(A,I.j(T));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(_);if(A=I,v(A))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function v(_){if(_.h!=0)return!1;for(var T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function g(_){return _.h==-1}t.l=function(_){return _=x(this,_),g(_)?-1:v(_)?0:1};function b(_){for(var T=_.g.length,A=[],N=0;N<T;N++)A[N]=~_.g[N];return new a(A,~_.h).add(f)}t.abs=function(){return g(this)?b(this):this},t.add=function(_){for(var T=Math.max(this.g.length,_.g.length),A=[],N=0,I=0;I<=T;I++){var k=N+(this.i(I)&65535)+(_.i(I)&65535),R=(k>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);N=R>>>16,k&=65535,R&=65535,A[I]=R<<16|k}return new a(A,A[A.length-1]&-2147483648?-1:0)};function x(_,T){return _.add(b(T))}t.j=function(_){if(v(this)||v(_))return d;if(g(this))return g(_)?b(this).j(b(_)):b(b(this).j(_));if(g(_))return b(this.j(b(_)));if(0>this.l(m)&&0>_.l(m))return c(this.m()*_.m());for(var T=this.g.length+_.g.length,A=[],N=0;N<2*T;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<_.g.length;I++){var k=this.i(N)>>>16,R=this.i(N)&65535,M=_.i(I)>>>16,L=_.i(I)&65535;A[2*N+2*I]+=R*L,y(A,2*N+2*I),A[2*N+2*I+1]+=k*L,y(A,2*N+2*I+1),A[2*N+2*I+1]+=R*M,y(A,2*N+2*I+1),A[2*N+2*I+2]+=k*M,y(A,2*N+2*I+2)}for(N=0;N<T;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=T;N<2*T;N++)A[N]=0;return new a(A,0)};function y(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function w(_,T){this.g=_,this.h=T}function E(_,T){if(v(T))throw Error("division by zero");if(v(_))return new w(d,d);if(g(_))return T=E(b(_),T),new w(b(T.g),b(T.h));if(g(T))return T=E(_,b(T)),new w(b(T.g),T.h);if(30<_.g.length){if(g(_)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,N=T;0>=N.l(_);)A=S(A),N=S(N);var I=C(A,1),k=C(N,1);for(N=C(N,2),A=C(A,2);!v(N);){var R=k.add(N);0>=R.l(_)&&(I=I.add(A),k=R),N=C(N,1),A=C(A,1)}return T=x(_,I.j(T)),new w(I,T)}for(I=d;0<=_.l(T);){for(A=Math.max(1,Math.floor(_.m()/T.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=c(A),R=k.j(T);g(R)||0<R.l(_);)A-=N,k=c(A),R=k.j(T);v(k)&&(k=f),I=I.add(k),_=x(_,R)}return new w(I,_)}t.A=function(_){return E(this,_).h},t.and=function(_){for(var T=Math.max(this.g.length,_.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)&_.i(N);return new a(A,this.h&_.h)},t.or=function(_){for(var T=Math.max(this.g.length,_.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)|_.i(N);return new a(A,this.h|_.h)},t.xor=function(_){for(var T=Math.max(this.g.length,_.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)^_.i(N);return new a(A,this.h^_.h)};function S(_){for(var T=_.g.length+1,A=[],N=0;N<T;N++)A[N]=_.i(N)<<1|_.i(N-1)>>>31;return new a(A,_.h)}function C(_,T){var A=T>>5;T%=32;for(var N=_.g.length-A,I=[],k=0;k<N;k++)I[k]=0<T?_.i(k+A)>>>T|_.i(k+A+1)<<32-T:_.i(k+A);return new a(I,_.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zF=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,ws=a}).apply(typeof yN<"u"?yN:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WF,rh,qF,py,H1,HF,GF,KF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,P,j){return h==Array.prototype||h==Object.prototype||(h[P]=j.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var P=0;P<h.length;++P){var j=h[P];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=r(this);function i(h,P){if(P)e:{var j=n;h=h.split(".");for(var D=0;D<h.length-1;D++){var q=h[D];if(!(q in j))break e;j=j[q]}h=h[h.length-1],D=j[h],P=P(D),P!=D&&P!=null&&e(j,h,{configurable:!0,writable:!0,value:P})}}function o(h,P){h instanceof String&&(h+="");var j=0,D=!1,q={next:function(){if(!D&&j<h.length){var K=j++;return{value:P(K,h[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(P,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var P=typeof h;return P=P!="object"?P:h?Array.isArray(h)?"array":P:"null",P=="array"||P=="object"&&typeof h.length=="number"}function c(h){var P=typeof h;return P=="object"&&h!=null||P=="function"}function u(h,P,j){return h.call.apply(h.bind,arguments)}function d(h,P,j){if(!h)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,D),h.apply(P,q)}}return function(){return h.apply(P,arguments)}}function f(h,P,j){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function m(h,P){var j=Array.prototype.slice.call(arguments,1);return function(){var D=j.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function v(h,P){function j(){}j.prototype=P.prototype,h.aa=P.prototype,h.prototype=new j,h.prototype.constructor=h,h.Qb=function(D,q,K){for(var ce=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ce[Tt-2]=arguments[Tt];return P.prototype[q].apply(D,ce)}}function g(h){const P=h.length;if(0<P){const j=Array(P);for(let D=0;D<P;D++)j[D]=h[D];return j}return[]}function b(h,P){for(let j=1;j<arguments.length;j++){const D=arguments[j];if(l(D)){const q=h.length||0,K=D.length||0;h.length=q+K;for(let ce=0;ce<K;ce++)h[q+ce]=D[ce]}else h.push(D)}}class x{constructor(P,j){this.i=P,this.j=j,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function y(h){return/^[\s\xa0]*$/.test(h)}function w(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function E(h){return E[" "](h),h}E[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(h,P,j){for(const D in h)P.call(j,h[D],D,h)}function _(h,P){for(const j in h)P.call(void 0,h[j],j,h)}function T(h){const P={};for(const j in h)P[j]=h[j];return P}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,P){let j,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(j in D)h[j]=D[j];for(let K=0;K<A.length;K++)j=A[K],Object.prototype.hasOwnProperty.call(D,j)&&(h[j]=D[j])}}function I(h){var P=1;h=h.split(":");const j=[];for(;0<P&&h.length;)j.push(h.shift()),P--;return h.length&&j.push(h.join(":")),j}function k(h){s.setTimeout(()=>{throw h},0)}function R(){var h=B;let P=null;return h.g&&(P=h.g,h.g=h.g.next,h.g||(h.h=null),P.next=null),P}class M{constructor(){this.h=this.g=null}add(P,j){const D=L.get();D.set(P,j),this.h?this.h.next=D:this.g=D,this.h=D}}var L=new x(()=>new V,h=>h.reset());class V{constructor(){this.next=this.g=this.h=null}set(P,j){this.h=P,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let U,$=!1,B=new M,G=()=>{const h=s.Promise.resolve(void 0);U=()=>{h.then(ee)}};var ee=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(j){k(j)}var P=L;P.j(h),100>P.h&&(P.h++,h.next=P.g,P.g=h)}$=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,P){this.type=h,this.g=this.target=P,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,P=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const j=()=>{};s.addEventListener("test",j,P),s.removeEventListener("test",j,P)}catch{}return h}();function ue(h,P){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var j=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=P,P=h.relatedTarget){if(S){e:{try{E(P.nodeName);var q=!0;break e}catch{}q=!1}q||(P=null)}}else j=="mouseover"?P=h.fromElement:j=="mouseout"&&(P=h.toElement);this.relatedTarget=P,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ue.aa.h.call(this)}}v(ue,ie);var Se={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ne(h,P,j,D,q){this.listener=h,this.proxy=null,this.src=P,this.type=j,this.capture=!!D,this.ha=q,this.key=++Te,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,P,j,D,q){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var ce=Be(h,P,D,q);return-1<ce?(P=h[ce],j||(P.fa=!1)):(P=new ne(P,this.src,K,!!D,q),P.fa=j,h.push(P)),P};function Q(h,P){var j=P.type;if(j in h.g){var D=h.g[j],q=Array.prototype.indexOf.call(D,P,void 0),K;(K=0<=q)&&Array.prototype.splice.call(D,q,1),K&&(de(P),h.g[j].length==0&&(delete h.g[j],h.h--))}}function Be(h,P,j,D){for(var q=0;q<h.length;++q){var K=h[q];if(!K.da&&K.listener==P&&K.capture==!!j&&K.ha==D)return q}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(h,P,j,D,q){if(Array.isArray(P)){for(var K=0;K<P.length;K++)ft(h,P[K],j,D,q);return null}return j=me(j),h&&h[fe]?h.K(P,j,c(D)?!!D.capture:!!D,q):kt(h,P,j,!1,D,q)}function kt(h,P,j,D,q,K){if(!P)throw Error("Invalid event type");var ce=c(q)?!!q.capture:!!q,Tt=H(h);if(Tt||(h[Oe]=Tt=new le(h)),j=Tt.add(P,j,D,ce,K),j.proxy)return j;if(D=gn(),j.proxy=D,D.src=h,D.listener=j,h.addEventListener)Ce||(q=ce),q===void 0&&(q=!1),h.addEventListener(P.toString(),D,q);else if(h.attachEvent)h.attachEvent(On(P.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return j}function gn(){function h(j){return P.call(h.src,h.listener,j)}const P=F;return h}function Mr(h,P,j,D,q){if(Array.isArray(P))for(var K=0;K<P.length;K++)Mr(h,P[K],j,D,q);else D=c(D)?!!D.capture:!!D,j=me(j),h&&h[fe]?(h=h.i,P=String(P).toString(),P in h.g&&(K=h.g[P],j=Be(K,j,D,q),-1<j&&(de(K[j]),Array.prototype.splice.call(K,j,1),K.length==0&&(delete h.g[P],h.h--)))):h&&(h=H(h))&&(P=h.g[P.toString()],h=-1,P&&(h=Be(P,j,D,q)),(j=-1<h?P[h]:null)&&Ro(j))}function Ro(h){if(typeof h!="number"&&h&&!h.da){var P=h.src;if(P&&P[fe])Q(P.i,h);else{var j=h.type,D=h.proxy;P.removeEventListener?P.removeEventListener(j,D,h.capture):P.detachEvent?P.detachEvent(On(j),D):P.addListener&&P.removeListener&&P.removeListener(D),(j=H(P))?(Q(j,h),j.h==0&&(j.src=null,P[Oe]=null)):de(h)}}}function On(h){return h in dt?dt[h]:dt[h]="on"+h}function F(h,P){if(h.da)h=!0;else{P=new ue(P,this);var j=h.listener,D=h.ha||h.src;h.fa&&Ro(h),h=j.call(D,P)}return h}function H(h){return h=h[Oe],h instanceof le?h:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(h){return typeof h=="function"?h:(h[Y]||(h[Y]=function(P){return h.handleEvent(P)}),h[Y])}function oe(){J.call(this),this.i=new le(this),this.M=this,this.F=null}v(oe,J),oe.prototype[fe]=!0,oe.prototype.removeEventListener=function(h,P,j,D){Mr(this,h,P,j,D)};function re(h,P){var j,D=h.F;if(D)for(j=[];D;D=D.F)j.push(D);if(h=h.M,D=P.type||P,typeof P=="string")P=new ie(P,h);else if(P instanceof ie)P.target=P.target||h;else{var q=P;P=new ie(D,h),N(P,q)}if(q=!0,j)for(var K=j.length-1;0<=K;K--){var ce=P.g=j[K];q=ve(ce,D,!0,P)&&q}if(ce=P.g=h,q=ve(ce,D,!0,P)&&q,q=ve(ce,D,!1,P)&&q,j)for(K=0;K<j.length;K++)ce=P.g=j[K],q=ve(ce,D,!1,P)&&q}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var h=this.i,P;for(P in h.g){for(var j=h.g[P],D=0;D<j.length;D++)de(j[D]);delete h.g[P],h.h--}}this.F=null},oe.prototype.K=function(h,P,j,D){return this.i.add(String(h),P,!1,j,D)},oe.prototype.L=function(h,P,j,D){return this.i.add(String(h),P,!0,j,D)};function ve(h,P,j,D){if(P=h.i.g[String(P)],!P)return!0;P=P.concat();for(var q=!0,K=0;K<P.length;++K){var ce=P[K];if(ce&&!ce.da&&ce.capture==j){var Tt=ce.listener,Pr=ce.ha||ce.src;ce.fa&&Q(h.i,ce),q=Tt.call(Pr,D)!==!1&&q}}return q&&!D.defaultPrevented}function et(h,P,j){if(typeof h=="function")j&&(h=f(h,j));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:s.setTimeout(h,P||0)}function Bt(h){h.g=et(()=>{h.g=null,h.i&&(h.i=!1,Bt(h))},h.l);const P=h.h;h.h=null,h.m.apply(null,P)}class br extends J{constructor(P,j){super(),this.m=P,this.l=j,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(h){J.call(this),this.h=h,this.g={}}v(ol,J);var _c=[];function Ec(h){C(h.g,function(P,j){this.g.hasOwnProperty(j)&&Ro(P)},h),h.g={}}ol.prototype.N=function(){ol.aa.N.call(this),Ec(this)},ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ff=s.JSON.stringify,Lm=s.JSON.parse,Sw=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function Sc(){}Sc.prototype.h=null;function dI(h){return h.h||(h.h=h.i())}function fI(){}var hf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tw(){ie.call(this,"d")}v(Tw,ie);function Aw(){ie.call(this,"c")}v(Aw,ie);var al={},hI=null;function Vm(){return hI=hI||new oe}al.La="serverreachability";function pI(h){ie.call(this,al.La,h)}v(pI,ie);function pf(h){const P=Vm();re(P,new pI(P))}al.STAT_EVENT="statevent";function mI(h,P){ie.call(this,al.STAT_EVENT,h),this.stat=P}v(mI,ie);function en(h){const P=Vm();re(P,new mI(P,h))}al.Ma="timingevent";function gI(h,P){ie.call(this,al.Ma,h),this.size=P}v(gI,ie);function mf(h,P){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},P)}function gf(){this.g=!0}gf.prototype.xa=function(){this.g=!1};function CW(h,P,j,D,q,K){h.info(function(){if(h.g)if(K)for(var ce="",Tt=K.split("&"),Pr=0;Pr<Tt.length;Pr++){var lt=Tt[Pr].split("=");if(1<lt.length){var $r=lt[0];lt=lt[1];var Lr=$r.split("_");ce=2<=Lr.length&&Lr[1]=="type"?ce+($r+"="+lt+"&"):ce+($r+"=redacted&")}}else ce=null;else ce=K;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+P+`
`+j+`
`+ce})}function IW(h,P,j,D,q,K,ce){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+P+`
`+j+`
`+K+" "+ce})}function Tc(h,P,j,D){h.info(function(){return"XMLHTTP TEXT ("+P+"): "+kW(h,j)+(D?" "+D:"")})}function OW(h,P){h.info(function(){return"TIMEOUT: "+P})}gf.prototype.info=function(){};function kW(h,P){if(!h.g)return P;if(!P)return null;try{var j=JSON.parse(P);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var D=j[h];if(!(2>D.length)){var q=D[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return ff(j)}catch{return P}}var Fm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pw;function Um(){}v(Um,Sc),Um.prototype.g=function(){return new XMLHttpRequest},Um.prototype.i=function(){return{}},Pw=new Um;function ka(h,P,j,D){this.j=h,this.i=P,this.l=j,this.R=D||1,this.U=new ol(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vI}function vI(){this.i=null,this.g="",this.h=!1}var bI={},Cw={};function Iw(h,P,j){h.L=1,h.v=qm(jo(P)),h.m=j,h.P=!0,wI(h,null)}function wI(h,P){h.F=Date.now(),Bm(h),h.A=jo(h.v);var j=h.A,D=h.R;Array.isArray(D)||(D=[String(D)]),jI(j.i,"t",D),h.C=0,j=h.j.J,h.h=new vI,h.g=ZI(h.j,j?P:null,!h.m),0<h.O&&(h.M=new br(f(h.Y,h,h.g),h.O)),P=h.U,j=h.g,D=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(_c[0]=q.toString()),q=_c);for(var K=0;K<q.length;K++){var ce=ft(j,q[K],D||P.handleEvent,!1,P.h||P);if(!ce)break;P.g[ce.key]=ce}P=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,P)):(h.u="GET",h.g.ea(h.A,h.u,null,P)),pf(),CW(h.i,h.u,h.A,h.l,h.R,h.m)}ka.prototype.ca=function(h){h=h.target;const P=this.M;P&&Do(h)==3?P.j():this.Y(h)},ka.prototype.Y=function(h){try{if(h==this.g)e:{const Lr=Do(this.g);var P=this.g.Ba();const Cc=this.g.Z();if(!(3>Lr)&&(Lr!=3||this.g&&(this.h.h||this.g.oa()||UI(this.g)))){this.J||Lr!=4||P==7||(P==8||0>=Cc?pf(3):pf(2)),Ow(this);var j=this.g.Z();this.X=j;t:if(xI(this)){var D=UI(this.g);h="";var q=D.length,K=Do(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sl(this),yf(this);var ce="";break t}this.h.i=new s.TextDecoder}for(P=0;P<q;P++)this.h.h=!0,h+=this.h.i.decode(D[P],{stream:!(K&&P==q-1)});D.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=j==200,IW(this.i,this.u,this.A,this.l,this.R,Lr,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,Pr=this.g;if((Tt=Pr.g?Pr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Tt)){var lt=Tt;break t}}lt=null}if(j=lt)Tc(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kw(this,j);else{this.o=!1,this.s=3,en(12),sl(this),yf(this);break e}}if(this.P){j=!0;let bi;for(;!this.J&&this.C<ce.length;)if(bi=NW(this,ce),bi==Cw){Lr==4&&(this.s=4,en(14),j=!1),Tc(this.i,this.l,null,"[Incomplete Response]");break}else if(bi==bI){this.s=4,en(15),Tc(this.i,this.l,ce,"[Invalid Chunk]"),j=!1;break}else Tc(this.i,this.l,bi,null),kw(this,bi);if(xI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lr!=4||ce.length!=0||this.h.h||(this.s=1,en(16),j=!1),this.o=this.o&&j,!j)Tc(this.i,this.l,ce,"[Invalid Chunked Response]"),sl(this),yf(this);else if(0<ce.length&&!this.W){this.W=!0;var $r=this.j;$r.g==this&&$r.ba&&!$r.M&&($r.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),$w($r),$r.M=!0,en(11))}}else Tc(this.i,this.l,ce,null),kw(this,ce);Lr==4&&sl(this),this.o&&!this.J&&(Lr==4?KI(this.j,this):(this.o=!1,Bm(this)))}else QW(this.g),j==400&&0<ce.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),sl(this),yf(this)}}}catch{}finally{}};function xI(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function NW(h,P){var j=h.C,D=P.indexOf(`
`,j);return D==-1?Cw:(j=Number(P.substring(j,D)),isNaN(j)?bI:(D+=1,D+j>P.length?Cw:(P=P.slice(D,D+j),h.C=D+j,P)))}ka.prototype.cancel=function(){this.J=!0,sl(this)};function Bm(h){h.S=Date.now()+h.I,_I(h,h.I)}function _I(h,P){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mf(f(h.ba,h),P)}function Ow(h){h.B&&(s.clearTimeout(h.B),h.B=null)}ka.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(OW(this.i,this.A),this.L!=2&&(pf(),en(17)),sl(this),this.s=2,yf(this)):_I(this,this.S-h)};function yf(h){h.j.G==0||h.J||KI(h.j,h)}function sl(h){Ow(h);var P=h.M;P&&typeof P.ma=="function"&&P.ma(),h.M=null,Ec(h.U),h.g&&(P=h.g,h.g=null,P.abort(),P.ma())}function kw(h,P){try{var j=h.j;if(j.G!=0&&(j.g==h||Nw(j.h,h))){if(!h.K&&Nw(j.h,h)&&j.G==3){try{var D=j.Da.g.parse(P)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<h.F)Xm(j),Qm(j);else break e;Mw(j),en(18)}}else j.za=q[1],0<j.za-j.T&&37500>q[2]&&j.F&&j.v==0&&!j.C&&(j.C=mf(f(j.Za,j),6e3));if(1>=TI(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else cl(j,11)}else if((h.K||j.g==h)&&Xm(j),!y(P))for(q=j.Da.g.parse(P),P=0;P<q.length;P++){let lt=q[P];if(j.T=lt[0],lt=lt[1],j.G==2)if(lt[0]=="c"){j.K=lt[1],j.ia=lt[2];const $r=lt[3];$r!=null&&(j.la=$r,j.j.info("VER="+j.la));const Lr=lt[4];Lr!=null&&(j.Aa=Lr,j.j.info("SVER="+j.Aa));const Cc=lt[5];Cc!=null&&typeof Cc=="number"&&0<Cc&&(D=1.5*Cc,j.L=D,j.j.info("backChannelRequestTimeoutMs_="+D)),D=j;const bi=h.g;if(bi){const Jm=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jm){var K=D.h;K.g||Jm.indexOf("spdy")==-1&&Jm.indexOf("quic")==-1&&Jm.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Rw(K,K.h),K.h=null))}if(D.D){const Lw=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Lw&&(D.ya=Lw,Nt(D.I,D.D,Lw))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-h.F,j.j.info("Handshake RTT: "+j.R+"ms")),D=j;var ce=h;if(D.qa=XI(D,D.J?D.ia:null,D.W),ce.K){AI(D.h,ce);var Tt=ce,Pr=D.L;Pr&&(Tt.I=Pr),Tt.B&&(Ow(Tt),Bm(Tt)),D.g=ce}else HI(D);0<j.i.length&&Ym(j)}else lt[0]!="stop"&&lt[0]!="close"||cl(j,7);else j.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?cl(j,7):Dw(j):lt[0]!="noop"&&j.l&&j.l.ta(lt),j.v=0)}}pf(4)}catch{}}var RW=class{constructor(h,P){this.g=h,this.map=P}};function EI(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SI(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function TI(h){return h.h?1:h.g?h.g.size:0}function Nw(h,P){return h.h?h.h==P:h.g?h.g.has(P):!1}function Rw(h,P){h.g?h.g.add(P):h.h=P}function AI(h,P){h.h&&h.h==P?h.h=null:h.g&&h.g.has(P)&&h.g.delete(P)}EI.prototype.cancel=function(){if(this.i=PI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function PI(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let P=h.i;for(const j of h.g.values())P=P.concat(j.D);return P}return g(h.i)}function jW(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var P=[],j=h.length,D=0;D<j;D++)P.push(h[D]);return P}P=[],j=0;for(D in h)P[j++]=h[D];return P}function DW(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var P=[];h=h.length;for(var j=0;j<h;j++)P.push(j);return P}P=[],j=0;for(const D in h)P[j++]=D;return P}}}function CI(h,P){if(h.forEach&&typeof h.forEach=="function")h.forEach(P,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,P,void 0);else for(var j=DW(h),D=jW(h),q=D.length,K=0;K<q;K++)P.call(void 0,D[K],j&&j[K],h)}var II=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MW(h,P){if(h){h=h.split("&");for(var j=0;j<h.length;j++){var D=h[j].indexOf("="),q=null;if(0<=D){var K=h[j].substring(0,D);q=h[j].substring(D+1)}else K=h[j];P(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ll(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ll){this.h=h.h,zm(this,h.j),this.o=h.o,this.g=h.g,Wm(this,h.s),this.l=h.l;var P=h.i,j=new wf;j.i=P.i,P.g&&(j.g=new Map(P.g),j.h=P.h),OI(this,j),this.m=h.m}else h&&(P=String(h).match(II))?(this.h=!1,zm(this,P[1]||"",!0),this.o=vf(P[2]||""),this.g=vf(P[3]||"",!0),Wm(this,P[4]),this.l=vf(P[5]||"",!0),OI(this,P[6]||"",!0),this.m=vf(P[7]||"")):(this.h=!1,this.i=new wf(null,this.h))}ll.prototype.toString=function(){var h=[],P=this.j;P&&h.push(bf(P,kI,!0),":");var j=this.g;return(j||P=="file")&&(h.push("//"),(P=this.o)&&h.push(bf(P,kI,!0),"@"),h.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&h.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&h.push("/"),h.push(bf(j,j.charAt(0)=="/"?VW:LW,!0))),(j=this.i.toString())&&h.push("?",j),(j=this.m)&&h.push("#",bf(j,UW)),h.join("")};function jo(h){return new ll(h)}function zm(h,P,j){h.j=j?vf(P,!0):P,h.j&&(h.j=h.j.replace(/:$/,""))}function Wm(h,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);h.s=P}else h.s=null}function OI(h,P,j){P instanceof wf?(h.i=P,BW(h.i,h.h)):(j||(P=bf(P,FW)),h.i=new wf(P,h.h))}function Nt(h,P,j){h.i.set(P,j)}function qm(h){return Nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vf(h,P){return h?P?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bf(h,P,j){return typeof h=="string"?(h=encodeURI(h).replace(P,$W),j&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $W(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kI=/[#\/\?@]/g,LW=/[#\?:]/g,VW=/[#\?]/g,FW=/[#\?@]/g,UW=/#/g;function wf(h,P){this.h=this.g=null,this.i=h||null,this.j=!!P}function Na(h){h.g||(h.g=new Map,h.h=0,h.i&&MW(h.i,function(P,j){h.add(decodeURIComponent(P.replace(/\+/g," ")),j)}))}t=wf.prototype,t.add=function(h,P){Na(this),this.i=null,h=Ac(this,h);var j=this.g.get(h);return j||this.g.set(h,j=[]),j.push(P),this.h+=1,this};function NI(h,P){Na(h),P=Ac(h,P),h.g.has(P)&&(h.i=null,h.h-=h.g.get(P).length,h.g.delete(P))}function RI(h,P){return Na(h),P=Ac(h,P),h.g.has(P)}t.forEach=function(h,P){Na(this),this.g.forEach(function(j,D){j.forEach(function(q){h.call(P,q,D,this)},this)},this)},t.na=function(){Na(this);const h=Array.from(this.g.values()),P=Array.from(this.g.keys()),j=[];for(let D=0;D<P.length;D++){const q=h[D];for(let K=0;K<q.length;K++)j.push(P[D])}return j},t.V=function(h){Na(this);let P=[];if(typeof h=="string")RI(this,h)&&(P=P.concat(this.g.get(Ac(this,h))));else{h=Array.from(this.g.values());for(let j=0;j<h.length;j++)P=P.concat(h[j])}return P},t.set=function(h,P){return Na(this),this.i=null,h=Ac(this,h),RI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[P]),this.h+=1,this},t.get=function(h,P){return h?(h=this.V(h),0<h.length?String(h[0]):P):P};function jI(h,P,j){NI(h,P),0<j.length&&(h.i=null,h.g.set(Ac(h,P),g(j)),h.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],P=Array.from(this.g.keys());for(var j=0;j<P.length;j++){var D=P[j];const K=encodeURIComponent(String(D)),ce=this.V(D);for(D=0;D<ce.length;D++){var q=K;ce[D]!==""&&(q+="="+encodeURIComponent(String(ce[D]))),h.push(q)}}return this.i=h.join("&")};function Ac(h,P){return P=String(P),h.j&&(P=P.toLowerCase()),P}function BW(h,P){P&&!h.j&&(Na(h),h.i=null,h.g.forEach(function(j,D){var q=D.toLowerCase();D!=q&&(NI(this,D),jI(this,q,j))},h)),h.j=P}function zW(h,P){const j=new gf;if(s.Image){const D=new Image;D.onload=m(Ra,j,"TestLoadImage: loaded",!0,P,D),D.onerror=m(Ra,j,"TestLoadImage: error",!1,P,D),D.onabort=m(Ra,j,"TestLoadImage: abort",!1,P,D),D.ontimeout=m(Ra,j,"TestLoadImage: timeout",!1,P,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else P(!1)}function WW(h,P){const j=new gf,D=new AbortController,q=setTimeout(()=>{D.abort(),Ra(j,"TestPingServer: timeout",!1,P)},1e4);fetch(h,{signal:D.signal}).then(K=>{clearTimeout(q),K.ok?Ra(j,"TestPingServer: ok",!0,P):Ra(j,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(q),Ra(j,"TestPingServer: error",!1,P)})}function Ra(h,P,j,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(j)}catch{}}function qW(){this.g=new Sw}function HW(h,P,j){const D=j||"";try{CI(h,function(q,K){let ce=q;c(q)&&(ce=ff(q)),P.push(D+K+"="+encodeURIComponent(ce))})}catch(q){throw P.push(D+"type="+encodeURIComponent("_badmap")),q}}function Hm(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Hm,Sc),Hm.prototype.g=function(){return new Gm(this.l,this.j)},Hm.prototype.i=function(h){return function(){return h}}({});function Gm(h,P){oe.call(this),this.D=h,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Gm,oe),t=Gm.prototype,t.open=function(h,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=P,this.readyState=1,_f(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(P.body=h),(this.D||s).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xf(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_f(this)),this.g&&(this.readyState=3,_f(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function DI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var P=h.value?h.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!h.done}))&&(this.response=this.responseText+=P)}h.done?xf(this):_f(this),this.readyState==3&&DI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,xf(this))},t.Qa=function(h){this.g&&(this.response=h,xf(this))},t.ga=function(){this.g&&xf(this)};function xf(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_f(h)}t.setRequestHeader=function(h,P){this.u.append(h,P)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],P=this.h.entries();for(var j=P.next();!j.done;)j=j.value,h.push(j[0]+": "+j[1]),j=P.next();return h.join(`\r
`)};function _f(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function MI(h){let P="";return C(h,function(j,D){P+=D,P+=":",P+=j,P+=`\r
`}),P}function jw(h,P,j){e:{for(D in j){var D=!1;break e}D=!0}D||(j=MI(j),typeof h=="string"?j!=null&&encodeURIComponent(String(j)):Nt(h,P,j))}function Qt(h){oe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Qt,oe);var GW=/^https?$/i,KW=["POST","PUT"];t=Qt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,P,j,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);P=P?P.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pw.g(),this.v=this.o?dI(this.o):dI(Pw),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(P,String(h),!0),this.B=!1}catch(K){$I(this,K);return}if(h=j||"",j=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)j.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const K of D.keys())j.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(j.keys()).find(K=>K.toLowerCase()=="content-type"),q=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(KW,P,void 0))||D||q||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ce]of j)this.g.setRequestHeader(K,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FI(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){$I(this,K)}};function $I(h,P){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=P,h.m=5,LI(h),Km(h)}function LI(h){h.A||(h.A=!0,re(h,"complete"),re(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,re(this,"complete"),re(this,"abort"),Km(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Km(this,!0)),Qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VI(this):this.bb())},t.bb=function(){VI(this)};function VI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Do(h)!=4||h.Z()!=2)){if(h.u&&Do(h)==4)et(h.Ea,0,h);else if(re(h,"readystatechange"),Do(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var j;if(!(j=P)){var D;if(D=ce===0){var q=String(h.D).match(II)[1]||null;!q&&s.self&&s.self.location&&(q=s.self.location.protocol.slice(0,-1)),D=!GW.test(q?q.toLowerCase():"")}j=D}if(j)re(h,"complete"),re(h,"success");else{h.m=6;try{var K=2<Do(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",LI(h)}}finally{Km(h)}}}}function Km(h,P){if(h.g){FI(h);const j=h.g,D=h.v[0]?()=>{}:null;h.g=null,h.v=null,P||re(h,"ready");try{j.onreadystatechange=D}catch{}}}function FI(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Do(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var P=this.g.responseText;return h&&P.indexOf(h)==0&&(P=P.substring(h.length)),Lm(P)}};function UI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function QW(h){const P={};h=(h.g&&2<=Do(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(y(h[D]))continue;var j=I(h[D]);const q=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const K=P[q]||[];P[q]=K,K.push(j)}_(P,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ef(h,P,j){return j&&j.internalChannelParams&&j.internalChannelParams[h]||P}function BI(h){this.Aa=0,this.i=[],this.j=new gf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ef("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ef("baseRetryDelayMs",5e3,h),this.cb=Ef("retryDelaySeedMs",1e4,h),this.Wa=Ef("forwardChannelMaxRetries",2,h),this.wa=Ef("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new EI(h&&h.concurrentRequestLimit),this.Da=new qW,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BI.prototype,t.la=8,t.G=1,t.connect=function(h,P,j,D){en(0),this.W=h,this.H=P||{},j&&D!==void 0&&(this.H.OSID=j,this.H.OAID=D),this.F=this.X,this.I=XI(this,null,this.W),Ym(this)};function Dw(h){if(zI(h),h.G==3){var P=h.U++,j=jo(h.I);if(Nt(j,"SID",h.K),Nt(j,"RID",P),Nt(j,"TYPE","terminate"),Sf(h,j),P=new ka(h,h.j,P),P.L=2,P.v=qm(jo(j)),j=!1,s.navigator&&s.navigator.sendBeacon)try{j=s.navigator.sendBeacon(P.v.toString(),"")}catch{}!j&&s.Image&&(new Image().src=P.v,j=!0),j||(P.g=ZI(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Bm(P)}YI(h)}function Qm(h){h.g&&($w(h),h.g.cancel(),h.g=null)}function zI(h){Qm(h),h.u&&(s.clearTimeout(h.u),h.u=null),Xm(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function Ym(h){if(!SI(h.h)&&!h.s){h.s=!0;var P=h.Ga;U||G(),$||(U(),$=!0),B.add(P,h),h.B=0}}function YW(h,P){return TI(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=P.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mf(f(h.Ga,h,P),QI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new ka(this,this.j,h);let K=this.o;if(this.S&&(K?(K=T(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var P=0,j=0;j<this.i.length;j++){t:{var D=this.i[j];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(P+=D,4096<P){P=j;break e}if(P===4096||j===this.i.length-1){P=j+1;break e}}P=1e3}else P=1e3;P=qI(this,q,P),j=jo(this.I),Nt(j,"RID",h),Nt(j,"CVER",22),this.D&&Nt(j,"X-HTTP-Session-Id",this.D),Sf(this,j),K&&(this.O?P="headers="+encodeURIComponent(String(MI(K)))+"&"+P:this.m&&jw(j,this.m,K)),Rw(this.h,q),this.Ua&&Nt(j,"TYPE","init"),this.P?(Nt(j,"$req",P),Nt(j,"SID","null"),q.T=!0,Iw(q,j,null)):Iw(q,j,P),this.G=2}}else this.G==3&&(h?WI(this,h):this.i.length==0||SI(this.h)||WI(this))};function WI(h,P){var j;P?j=P.l:j=h.U++;const D=jo(h.I);Nt(D,"SID",h.K),Nt(D,"RID",j),Nt(D,"AID",h.T),Sf(h,D),h.m&&h.o&&jw(D,h.m,h.o),j=new ka(h,h.j,j,h.B+1),h.m===null&&(j.H=h.o),P&&(h.i=P.D.concat(h.i)),P=qI(h,j,1e3),j.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rw(h.h,j),Iw(j,D,P)}function Sf(h,P){h.H&&C(h.H,function(j,D){Nt(P,D,j)}),h.l&&CI({},function(j,D){Nt(P,D,j)})}function qI(h,P,j){j=Math.min(h.i.length,j);var D=h.l?f(h.l.Na,h.l,h):null;e:{var q=h.i;let K=-1;for(;;){const ce=["count="+j];K==-1?0<j?(K=q[0].g,ce.push("ofs="+K)):K=0:ce.push("ofs="+K);let Tt=!0;for(let Pr=0;Pr<j;Pr++){let lt=q[Pr].g;const $r=q[Pr].map;if(lt-=K,0>lt)K=Math.max(0,q[Pr].g-100),Tt=!1;else try{HW($r,ce,"req"+lt+"_")}catch{D&&D($r)}}if(Tt){D=ce.join("&");break e}}}return h=h.i.splice(0,j),P.D=h,D}function HI(h){if(!h.g&&!h.u){h.Y=1;var P=h.Fa;U||G(),$||(U(),$=!0),B.add(P,h),h.v=0}}function Mw(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mf(f(h.Fa,h),QI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,GI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mf(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),Qm(this),GI(this))};function $w(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function GI(h){h.g=new ka(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var P=jo(h.qa);Nt(P,"RID","rpc"),Nt(P,"SID",h.K),Nt(P,"AID",h.T),Nt(P,"CI",h.F?"0":"1"),!h.F&&h.ja&&Nt(P,"TO",h.ja),Nt(P,"TYPE","xmlhttp"),Sf(h,P),h.m&&h.o&&jw(P,h.m,h.o),h.L&&(h.g.I=h.L);var j=h.g;h=h.ia,j.L=1,j.v=qm(jo(P)),j.m=null,j.P=!0,wI(j,h)}t.Za=function(){this.C!=null&&(this.C=null,Qm(this),Mw(this),en(19))};function Xm(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function KI(h,P){var j=null;if(h.g==P){Xm(h),$w(h),h.g=null;var D=2}else if(Nw(h.h,P))j=P.D,AI(h.h,P),D=1;else return;if(h.G!=0){if(P.o)if(D==1){j=P.m?P.m.length:0,P=Date.now()-P.F;var q=h.B;D=Vm(),re(D,new gI(D,j)),Ym(h)}else HI(h);else if(q=P.s,q==3||q==0&&0<P.X||!(D==1&&YW(h,P)||D==2&&Mw(h)))switch(j&&0<j.length&&(P=h.h,P.i=P.i.concat(j)),q){case 1:cl(h,5);break;case 4:cl(h,10);break;case 3:cl(h,6);break;default:cl(h,2)}}}function QI(h,P){let j=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(j*=2),j*P}function cl(h,P){if(h.j.info("Error code "+P),P==2){var j=f(h.fb,h),D=h.Xa;const q=!D;D=new ll(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||zm(D,"https"),qm(D),q?zW(D.toString(),j):WW(D.toString(),j)}else en(2);h.G=0,h.l&&h.l.sa(P),YI(h),zI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function YI(h){if(h.G=0,h.ka=[],h.l){const P=PI(h.h);(P.length!=0||h.i.length!=0)&&(b(h.ka,P),b(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function XI(h,P,j){var D=j instanceof ll?jo(j):new ll(j);if(D.g!="")P&&(D.g=P+"."+D.g),Wm(D,D.s);else{var q=s.location;D=q.protocol,P=P?P+"."+q.hostname:q.hostname,q=+q.port;var K=new ll(null);D&&zm(K,D),P&&(K.g=P),q&&Wm(K,q),j&&(K.l=j),D=K}return j=h.D,P=h.ya,j&&P&&Nt(D,j,P),Nt(D,"VER",h.la),Sf(h,D),D}function ZI(h,P,j){if(P&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=h.Ca&&!h.pa?new Qt(new Hm({eb:j})):new Qt(h.pa),P.Ha(h.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JI(){}t=JI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zm(){}Zm.prototype.g=function(h,P){return new kn(h,P)};function kn(h,P){oe.call(this),this.g=new BI(P),this.l=h,this.h=P&&P.messageUrlParams||null,h=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(h?h["X-WebChannel-Content-Type"]=P.messageContentType:h={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(h?h["X-WebChannel-Client-Profile"]=P.va:h={"X-WebChannel-Client-Profile":P.va}),this.g.S=h,(h=P&&P.Sb)&&!y(h)&&(this.g.m=h),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!y(P)&&(this.g.D=P,h=this.h,h!==null&&P in h&&(h=this.h,P in h&&delete h[P])),this.j=new Pc(this)}v(kn,oe),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Dw(this.g)},kn.prototype.o=function(h){var P=this.g;if(typeof h=="string"){var j={};j.__data__=h,h=j}else this.u&&(j={},j.__data__=ff(h),h=j);P.i.push(new RW(P.Ya++,h)),P.G==3&&Ym(P)},kn.prototype.N=function(){this.g.l=null,delete this.j,Dw(this.g),delete this.g,kn.aa.N.call(this)};function eO(h){Tw.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var P=h.__sm__;if(P){e:{for(const j in P){h=j;break e}h=void 0}(this.i=h)&&(h=this.i,P=P!==null&&h in P?P[h]:void 0),this.data=P}else this.data=h}v(eO,Tw);function tO(){Aw.call(this),this.status=1}v(tO,Aw);function Pc(h){this.g=h}v(Pc,JI),Pc.prototype.ua=function(){re(this.g,"a")},Pc.prototype.ta=function(h){re(this.g,new eO(h))},Pc.prototype.sa=function(h){re(this.g,new tO)},Pc.prototype.ra=function(){re(this.g,"b")},Zm.prototype.createWebChannel=Zm.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,KF=function(){return new Zm},GF=function(){return Vm()},HF=al,H1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fm.NO_ERROR=0,Fm.TIMEOUT=8,Fm.HTTP_ERROR=6,py=Fm,yI.COMPLETE="complete",qF=yI,fI.EventType=hf,hf.OPEN="a",hf.CLOSE="b",hf.ERROR="c",hf.MESSAGE="d",oe.prototype.listen=oe.prototype.K,rh=fI,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,WF=Qt}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});const vN="@firebase/firestore",bN="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new mA("@firebase/firestore");function Vc(){return Zl.logLevel}function ye(t,...e){if(Zl.logLevel<=Ye.DEBUG){const r=e.map(CA);Zl.debug(`Firestore (${Bd}): ${t}`,...r)}}function ga(t,...e){if(Zl.logLevel<=Ye.ERROR){const r=e.map(CA);Zl.error(`Firestore (${Bd}): ${t}`,...r)}}function Jl(t,...e){if(Zl.logLevel<=Ye.WARN){const r=e.map(CA);Zl.warn(`Firestore (${Bd}): ${t}`,...r)}}function CA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,QF(t,n,r)}function QF(t,e,r){let n=`FIRESTORE (${Bd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ga(n),new Error(n)}function vt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||QF(e,i,n)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Io{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qr.UNAUTHENTICATED))}shutdown(){}}class PJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class CJ{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){vt(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let o=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ia,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ia)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(vt(typeof n.accessToken=="string",31837,{l:n}),new YF(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new qr(e)}}class IJ{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OJ{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new IJ(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){vt(this.o===void 0,3512);const n=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(vt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new wN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=NJ(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Xe(t,e){return t<e?-1:t>e?1:0}function G1(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),o=e.charAt(n);if(i!==o)return Cx(i)===Cx(o)?Xe(i,o):Cx(i)?1:-1}return Xe(t.length,e.length)}const RJ=55296,jJ=57343;function Cx(t){const e=t.charCodeAt(0);return e>=RJ&&e<=jJ}function td(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="__name__";class Ji{constructor(e,r,n){r===void 0?r=0:r>e.length&&je(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&je(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=Ji.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Xe(e.length,r.length)}static compareSegments(e,r){const n=Ji.isNumericId(e),i=Ji.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Ji.extractNumericId(e).compare(Ji.extractNumericId(r)):G1(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class It extends Ji{construct(e,r,n){return new It(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new It(r)}static emptyPath(){return new It([])}}const DJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Ji{construct(e,r,n){return new Er(e,r,n)}static isValidIdentifier(e){return DJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xN}static keyField(){return new Er([xN])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(n+=s,i++):(o(),i++)}if(o(),a)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(r)}static emptyPath(){return new Er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(It.fromString(e))}static fromName(e){return new Ie(It.fromString(e).popFirst(5))}static empty(){return new Ie(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return It.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t,e,r){if(!r)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JF(t,e,r,n){if(e===!0&&n===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function _N(t){if(!Ie.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EN(t){if(Ie.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sb(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){const r={typeString:t};return e&&(r.value=e),r}function pm(t,e){if(!e3(t))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){r=`Expected '${n}' field to equal '${o.value}'`;break}}if(r)throw new pe(Z.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=-62135596800,TN=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*TN);return new Ne(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<SN)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TN}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pm(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:ur("string",Ne._jsonSchemaVersion),seconds:ur("number"),nanoseconds:ur("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ne(0,0))}static max(){return new $e(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=-1;function MJ(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(n===1e9?new Ne(r+1,0):new Ne(r,n));return new ks(i,Ie.empty(),e)}function $J(t){return new ks(t.readTime,t.key,np)}class ks{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ks($e.min(),Ie.empty(),np)}static max(){return new ks($e.max(),Ie.empty(),np)}}function LJ(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ie.comparator(t.documentKey,e.documentKey),r!==0?r:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==VJ)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new te((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof te?r:te.resolve(r)}catch(r){return te.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):te.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):te.reject(r)}static resolve(e){return new te((r,n)=>{r(e)})}static reject(e){return new te((r,n)=>{n(e)})}static waitFor(e){return new te((r,n)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&r()},l=>n(l))}),a=!0,o===i&&r()})}static or(e){let r=te.resolve(!1);for(const n of e)r=r.next(i=>i?te.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new te((n,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;r(e[c]).next(u=>{a[c]=u,++s,s===o&&n(a)},u=>i(u))}})}static doWhile(e,r){return new te((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function UJ(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=-1;function cb(t){return t==null}function nv(t){return t===0&&1/t==-1/0}function BJ(t){return typeof t=="number"&&Number.isInteger(t)&&!nv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="";function zJ(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=AN(e)),e=WJ(t.get(r),e);return AN(e)}function WJ(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case t3:r+="";break;default:r+=o}}return r}function AN(t){return t+t3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Qs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function r3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,r){this.comparator=e,this.root=r||Or.EMPTY}insert(e,r){return new Ht(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sg(this.root,e,this.comparator,!0)}}class Sg{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??Or.RED,this.left=i??Or.EMPTY,this.right=o??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new Or(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Or.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new Or(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new CN(this.data.getIterator())}getIteratorFrom(e){return new CN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class CN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Un([])}unionWith(e){let r=new yr(Er.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Un(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new n3("Invalid base64 string: "+o):o}}(e);return new Tr(r)}static fromUint8Array(e){const r=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Tr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const qJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(vt(!!t,39018),typeof t=="string"){let e=0;const r=qJ.exec(t);if(vt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="server_timestamp",o3="__type__",a3="__previous_value__",s3="__local_write_time__";function OA(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[o3])==null?void 0:n.stringValue)===i3}function ub(t){const e=t.mapValue.fields[a3];return OA(e)?ub(e):e}function ip(t){const e=Ns(t.mapValue.fields[s3].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,r,n,i,o,a,s,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const iv="(default)";class rd{constructor(e,r){this.projectId=e,this.database=r||iv}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database===iv}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="__type__",c3="__max__",Tg={mapValue:{fields:{__type__:{stringValue:c3}}}},u3="__vector__",ov="value";function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OA(t)?4:KJ(t)?9007199254740991:GJ(t)?10:11:je(28295,{value:t})}function Ao(t,e){if(t===e)return!0;const r=js(t);if(r!==js(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ip(t).isEqual(ip(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ns(i.timestampValue),s=Ns(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tr(i.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tr(i.integerValue)===tr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=tr(i.doubleValue),s=tr(o.doubleValue);return a===s?nv(a)===nv(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return td(t.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(PN(a)!==PN(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Ao(a[l],s[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function op(t,e){return(t.values||[]).find(r=>Ao(r,e))!==void 0}function nd(t,e){if(t===e)return 0;const r=js(t),n=js(e);if(r!==n)return Xe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=tr(o.integerValue||o.doubleValue),l=tr(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return IN(t.timestampValue,e.timestampValue);case 4:return IN(ip(t),ip(e));case 5:return G1(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Rs(o),l=Rs(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Xe(s[c],l[c]);if(u!==0)return u}return Xe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Xe(tr(o.latitude),tr(a.latitude));return s!==0?s:Xe(tr(o.longitude),tr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ON(t.arrayValue,e.arrayValue);case 10:return function(o,a){var f,m,v,g;const s=o.fields||{},l=a.fields||{},c=(f=s[ov])==null?void 0:f.arrayValue,u=(m=l[ov])==null?void 0:m.arrayValue,d=Xe(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return d!==0?d:ON(c,u)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Tg.mapValue&&a===Tg.mapValue)return 0;if(o===Tg.mapValue)return 1;if(a===Tg.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=G1(l[d],u[d]);if(f!==0)return f;const m=nd(s[l[d]],c[u[d]]);if(m!==0)return m}return Xe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw je(23264,{he:r})}}function IN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const r=Ns(t),n=Ns(e),i=Xe(r.seconds,n.seconds);return i!==0?i:Xe(r.nanos,n.nanos)}function ON(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=nd(r[i],n[i]);if(o)return o}return Xe(r.length,n.length)}function id(t){return K1(t)}function K1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ns(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Rs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ie.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=K1(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of n)o?o=!1:i+=",",i+=`${a}:${K1(r.fields[a])}`;return i+"}"}(t.mapValue):je(61005,{value:t})}function my(t){switch(js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ub(t);return e?16+my(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+my(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Qs(n.fields,(o,a)=>{i+=o.length+my(a)}),i}(t.mapValue);default:throw je(13486,{value:t})}}function kN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q1(t){return!!t&&"integerValue"in t}function kA(t){return!!t&&"arrayValue"in t}function NN(t){return!!t&&"nullValue"in t}function RN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gy(t){return!!t&&"mapValue"in t}function GJ(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[l3])==null?void 0:n.stringValue)===u3}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=wh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=wh(t.arrayValue.values[r]);return e}return{...t}}function KJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!gy(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(r)}setAll(e){let r=Er.emptyPath(),n={},i=[];e.forEach((a,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}a?n[s.lastSegment()]=wh(a):i.push(s.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());gy(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Qs(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new xn(wh(this.value))}}function d3(t){const e=[];return Qs(t.fields,(r,n)=>{const i=new Er([r]);if(gy(n)){const o=d3(n.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,r,n,i,o,a,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Gr(e,0,$e.min(),$e.min(),$e.min(),xn.empty(),0)}static newFoundDocument(e,r,n,i){return new Gr(e,1,r,$e.min(),n,i,0)}static newNoDocument(e,r){return new Gr(e,2,r,$e.min(),$e.min(),xn.empty(),0)}static newUnknownDocument(e,r){return new Gr(e,3,r,$e.min(),$e.min(),xn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,r){this.position=e,this.inclusive=r}}function jN(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?n=Ie.comparator(Ie.fromName(a.referenceValue),r.key):n=nd(a,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function DN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ao(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,r="asc"){this.field=e,this.dir=r}}function QJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{}class cr extends f3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new XJ(e,r,n):r==="array-contains"?new eee(e,n):r==="in"?new tee(e,n):r==="not-in"?new ree(e,n):r==="array-contains-any"?new nee(e,n):new cr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new ZJ(e,n):new JJ(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(nd(r,this.value)):r!==null&&js(this.value)===js(r)&&this.matchesComparison(nd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends f3{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Wi(e,r)}matches(e){return h3(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h3(t){return t.op==="and"}function p3(t){return YJ(t)&&h3(t)}function YJ(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function Y1(t){if(t instanceof cr)return t.field.canonicalString()+t.op.toString()+id(t.value);if(p3(t))return t.filters.map(e=>Y1(e)).join(",");{const e=t.filters.map(r=>Y1(r)).join(",");return`${t.op}(${e})`}}function m3(t,e){return t instanceof cr?function(n,i){return i instanceof cr&&n.op===i.op&&n.field.isEqual(i.field)&&Ao(n.value,i.value)}(t,e):t instanceof Wi?function(n,i){return i instanceof Wi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,a,s)=>o&&m3(a,i.filters[s]),!0):!1}(t,e):void je(19439)}function g3(t){return t instanceof cr?function(r){return`${r.field.canonicalString()} ${r.op} ${id(r.value)}`}(t):t instanceof Wi?function(r){return r.op.toString()+" {"+r.getFilters().map(g3).join(" ,")+"}"}(t):"Filter"}class XJ extends cr{constructor(e,r,n){super(e,r,n),this.key=Ie.fromName(n.referenceValue)}matches(e){const r=Ie.comparator(e.key,this.key);return this.matchesComparison(r)}}class ZJ extends cr{constructor(e,r){super(e,"in",r),this.keys=y3("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class JJ extends cr{constructor(e,r){super(e,"not-in",r),this.keys=y3("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function y3(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Ie.fromName(n.referenceValue))}class eee extends cr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kA(r)&&op(r.arrayValue,this.value)}}class tee extends cr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&op(this.value.arrayValue,r)}}class ree extends cr{constructor(e,r){super(e,"not-in",r)}matches(e){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!op(this.value.arrayValue,r)}}class nee extends cr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kA(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>op(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(e,r=null,n=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function MN(t,e=null,r=[],n=[],i=null,o=null,a=null){return new iee(t,e,r,n,i,o,a)}function NA(t){const e=Ue(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Y1(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),cb(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>id(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>id(n)).join(",")),e.Te=r}return e.Te}function RA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!QJ(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!m3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DN(t.startAt,e.startAt)&&DN(t.endAt,e.endAt)}function X1(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,r=null,n=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oee(t,e,r,n,i,o,a,s){return new qd(t,e,r,n,i,o,a,s)}function jA(t){return new qd(t)}function $N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v3(t){return t.collectionGroup!==null}function xh(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new yr(Er.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ap(o,n))}),r.has(Er.keyField().canonicalString())||e.Ie.push(new ap(Er.keyField(),n))}return e.Ie}function vo(t){const e=Ue(t);return e.Ee||(e.Ee=aee(e,xh(t))),e.Ee}function aee(t,e){if(t.limitType==="F")return MN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ap(i.field,o)});const r=t.endAt?new av(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new av(t.startAt.position,t.startAt.inclusive):null;return MN(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Z1(t,e){const r=t.filters.concat([e]);return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function J1(t,e,r){return new qd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function db(t,e){return RA(vo(t),vo(e))&&t.limitType===e.limitType}function b3(t){return`${NA(vo(t))}|lt:${t.limitType}`}function Fc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>g3(i)).join(", ")}]`),cb(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>id(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>id(i)).join(",")),`Target(${n})`}(vo(t))}; limitType=${t.limitType})`}function fb(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ie.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of xh(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,s,l){const c=jN(a,s,l);return a.inclusive?c<=0:c<0}(n.startAt,xh(n),i)||n.endAt&&!function(a,s,l){const c=jN(a,s,l);return a.inclusive?c>=0:c>0}(n.endAt,xh(n),i))}(t,e)}function see(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w3(t){return(e,r)=>{let n=!1;for(const i of xh(t)){const o=lee(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function lee(t,e,r){const n=t.field.isKeyField()?Ie.comparator(e.key,r.key):function(o,a,s){const l=a.data.field(o),c=s.data.field(o);return l!==null&&c!==null?nd(l,c):je(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return r3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=new Ht(Ie.comparator);function ya(){return cee}const x3=new Ht(Ie.comparator);function nh(...t){let e=x3;for(const r of t)e=e.insert(r.key,r);return e}function _3(t){let e=x3;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function _l(){return _h()}function E3(){return _h()}function _h(){return new mc(t=>t.toString(),(t,e)=>t.isEqual(e))}const uee=new Ht(Ie.comparator),dee=new yr(Ie.comparator);function Ze(...t){let e=dee;for(const r of t)e=e.add(r);return e}const fee=new yr(Xe);function hee(){return fee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(e)?"-0":e}}function S3(t){return{integerValue:""+t}}function pee(t,e){return BJ(e)?S3(e):DA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._=void 0}}function mee(t,e,r){return t instanceof sp?function(i,o){const a={fields:{[o3]:{stringValue:i3},[s3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OA(o)&&(o=ub(o)),o&&(a.fields[a3]=o),{mapValue:a}}(r,e):t instanceof lp?A3(t,e):t instanceof cp?P3(t,e):function(i,o){const a=T3(i,o),s=LN(a)+LN(i.Ae);return Q1(a)&&Q1(i.Ae)?S3(s):DA(i.serializer,s)}(t,e)}function gee(t,e,r){return t instanceof lp?A3(t,e):t instanceof cp?P3(t,e):r}function T3(t,e){return t instanceof sv?function(n){return Q1(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class sp extends hb{}class lp extends hb{constructor(e){super(),this.elements=e}}function A3(t,e){const r=C3(e);for(const n of t.elements)r.some(i=>Ao(i,n))||r.push(n);return{arrayValue:{values:r}}}class cp extends hb{constructor(e){super(),this.elements=e}}function P3(t,e){let r=C3(e);for(const n of t.elements)r=r.filter(i=>!Ao(i,n));return{arrayValue:{values:r}}}class sv extends hb{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function LN(t){return tr(t.integerValue||t.doubleValue)}function C3(t){return kA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,r){this.field=e,this.transform=r}}function vee(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof lp&&i instanceof lp||n instanceof cp&&i instanceof cp?td(n.elements,i.elements,Ao):n instanceof sv&&i instanceof sv?Ao(n.Ae,i.Ae):n instanceof sp&&i instanceof sp}(t.transform,e.transform)}class bee{constructor(e,r){this.version=e,this.transformResults=r}}class fn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pb{}function I3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mb(t.key,fn.none()):new mm(t.key,t.data,fn.none());{const r=t.data,n=xn.empty();let i=new yr(Er.comparator);for(let o of e.fields)if(!i.has(o)){let a=r.field(o);a===null&&o.length>1&&(o=o.popLast(),a=r.field(o)),a===null?n.delete(o):n.set(o,a),i=i.add(o)}return new Ys(t.key,n,new Un(i.toArray()),fn.none())}}function wee(t,e,r){t instanceof mm?function(i,o,a){const s=i.value.clone(),l=FN(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Ys?function(i,o,a){if(!yy(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=FN(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(O3(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Eh(t,e,r,n){return t instanceof mm?function(o,a,s,l){if(!yy(o.precondition,a))return s;const c=o.value.clone(),u=UN(o.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ys?function(o,a,s,l){if(!yy(o.precondition,a))return s;const c=UN(o.fieldTransforms,l,a),u=a.data;return u.setAll(O3(o)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(o,a,s){return yy(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,r)}function xee(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=T3(n.transform,i||null);o!=null&&(r===null&&(r=xn.empty()),r.set(n.field,o))}return r||null}function VN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&td(n,i,(o,a)=>vee(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mm extends pb{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends pb{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function O3(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function FN(t,e,r){const n=new Map;vt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);n.set(o.field,gee(a,s,r[i]))}return n}function UN(t,e,r){const n=new Map;for(const i of t){const o=i.transform,a=r.data.field(i.field);n.set(i.field,mee(o,a,e))}return n}class mb extends pb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _ee extends pb{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wee(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Eh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Eh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=E3();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=r.has(i.key)?null:s;const l=I3(a,s);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument($e.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ze())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(r,n)=>VN(r,n))&&td(this.baseMutations,e.baseMutations,(r,n)=>VN(r,n))}}class MA{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){vt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return uee}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new MA(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let See=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,it;function Aee(t){switch(t){case Z.OK:return je(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function k3(t){if(t===void 0)return ga("GRPC error has no .code"),Z.UNKNOWN;switch(t){case or.OK:return Z.OK;case or.CANCELLED:return Z.CANCELLED;case or.UNKNOWN:return Z.UNKNOWN;case or.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case or.INTERNAL:return Z.INTERNAL;case or.UNAVAILABLE:return Z.UNAVAILABLE;case or.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case or.NOT_FOUND:return Z.NOT_FOUND;case or.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case or.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case or.ABORTED:return Z.ABORTED;case or.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case or.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case or.DATA_LOSS:return Z.DATA_LOSS;default:return je(39323,{code:t})}}(it=or||(or={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee=new ws([4294967295,4294967295],0);function BN(t){const e=Pee().encode(t),r=new zF;return r.update(e),new Uint8Array(r.digest())}function zN(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ws([r,n],0),new ws([i,o],0)]}class $A{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ih(`Invalid padding: ${r}`);if(n<0)throw new ih(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ih(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ws.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(ws.fromNumber(n)));return i.compare(Cee)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=BN(e),[n,i]=zN(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new $A(o,i,r);return n.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const r=BN(e),[n,i]=zN(r);for(let o=0;o<this.hashCount;o++){const a=this.ye(n,i,o);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,gm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new gb($e.min(),i,new Ht(Xe),ya(),Ze())}}class gm{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new gm(n,r,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class N3{constructor(e,r){this.targetId=e,this.Ce=r}}class R3{constructor(e,r,n=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class WN{constructor(){this.ve=0,this.Fe=qN(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),r=Ze(),n=Ze();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:je(38017,{changeType:o})}}),new gm(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=qN()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iee{constructor(e){this.Ge=e,this.ze=new Map,this.je=ya(),this.Je=Ag(),this.He=Ag(),this.Ye=new Ht(Xe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const o=i.target;if(X1(o))if(n===0){const a=new Ie(o.path);this.et(r,a,Gr.newNoDocument(a,$e.min()))}else vt(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let a,s;try{a=Rs(n).toUint8Array()}catch(l){if(l instanceof n3)return Jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new $A(a,i,o)}catch(l){return Jl(l instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(r,o,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&X1(s.target)){const l=new Ie(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Gr.newNoDocument(l,e))}o.Be&&(r.set(a,o.ke()),o.qe())}});let n=Ze();this.He.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new gb(e,r,this.Ye,this.je,n);return this.je=ya(),this.Je=Ag(),this.He=Ag(),this.Ye=new Ht(Xe),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new WN,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new yr(Xe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new yr(Xe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ye("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WN),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Ag(){return new Ht(Ie.comparator)}function qN(){return new Ht(Ie.comparator)}const Oee={asc:"ASCENDING",desc:"DESCENDING"},kee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nee={and:"AND",or:"OR"};class Ree{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function eE(t,e){return t.useProto3Json||cb(e)?e:{value:e}}function lv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jee(t,e){return lv(t,e.toTimestamp())}function bo(t){return vt(!!t,49232),$e.fromTimestamp(function(r){const n=Ns(r);return new Ne(n.seconds,n.nanos)}(t))}function LA(t,e){return tE(t,e).canonicalString()}function tE(t,e){const r=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function D3(t){const e=It.fromString(t);return vt(F3(e),10190,{key:e.toString()}),e}function rE(t,e){return LA(t.databaseId,e.path)}function Ix(t,e){const r=D3(e);if(r.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ie($3(r))}function M3(t,e){return LA(t.databaseId,e)}function Dee(t){const e=D3(t);return e.length===4?It.emptyPath():$3(e)}function nE(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $3(t){return vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HN(t,e,r){return{name:rE(t,e),fields:r.value.mapValue.fields}}function Mee(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(vt(u===void 0||typeof u=="string",58123),Tr.fromBase64String(u||"")):(vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Tr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(c){const u=c.code===void 0?Z.UNKNOWN:k3(c.code);return new pe(u,c.message||"")}(a);r=new R3(n,i,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ix(t,n.document.name),o=bo(n.document.updateTime),a=n.document.createTime?bo(n.document.createTime):$e.min(),s=new xn({mapValue:{fields:n.document.fields}}),l=Gr.newFoundDocument(i,o,a,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new vy(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ix(t,n.document),o=n.readTime?bo(n.readTime):$e.min(),a=Gr.newNoDocument(i,o),s=n.removedTargetIds||[];r=new vy([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ix(t,n.document),o=n.removedTargetIds||[];r=new vy([],o,i,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,a=new Tee(i,o),s=n.targetId;r=new N3(s,a)}}return r}function $ee(t,e){let r;if(e instanceof mm)r={update:HN(t,e.key,e.value)};else if(e instanceof mb)r={delete:rE(t,e.key)};else if(e instanceof Ys)r={update:HN(t,e.key,e.data),updateMask:Hee(e.fieldMask)};else{if(!(e instanceof _ee))return je(16599,{Vt:e.type});r={verify:rE(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,a){const s=a.transform;if(s instanceof sp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof lp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof cp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof sv)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw je(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jee(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je(27497)}(t,e.precondition)),r}function Lee(t,e){return t&&t.length>0?(vt(e!==void 0,14353),t.map(r=>function(i,o){let a=i.updateTime?bo(i.updateTime):bo(o);return a.isEqual($e.min())&&(a=bo(o)),new bee(a,i.transformResults||[])}(r,e))):[]}function Vee(t,e){return{documents:[M3(t,e.path)]}}function Fee(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=M3(t,i);const o=function(c){if(c.length!==0)return V3(Wi.create(c,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const a=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Uc(f.field),direction:zee(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const s=eE(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function Uee(t){let e=Dee(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){vt(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];r.where&&(o=function(d){const f=L3(d);return f instanceof Wi&&p3(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(v){return new ap(Bc(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let s=null;r.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,cb(f)?null:f}(r.limit));let l=null;r.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new av(m,f)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new av(m,f)}(r.endAt)),oee(e,i,a,o,s,"F",l,c)}function Bee(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function L3(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bc(r.unaryFilter.field);return cr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bc(r.unaryFilter.field);return cr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bc(r.unaryFilter.field);return cr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bc(r.unaryFilter.field);return cr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(r){return cr.create(Bc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Wi.create(r.compositeFilter.filters.map(n=>L3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(r.compositeFilter.op))}(t):je(30097,{filter:t})}function zee(t){return Oee[t]}function Wee(t){return kee[t]}function qee(t){return Nee[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function Bc(t){return Er.fromServerFormat(t.fieldPath)}function V3(t){return t instanceof cr?function(r){if(r.op==="=="){if(RN(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NAN"}};if(NN(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(RN(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NAN"}};if(NN(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(r.field),op:Wee(r.op),value:r.value}}}(t):t instanceof Wi?function(r){const n=r.getFilters().map(i=>V3(i));return n.length===1?n[0]:{compositeFilter:{op:qee(r.op),filters:n}}}(t):je(54877,{filter:t})}function Hee(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function F3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,r,n,i,o=$e.min(),a=$e.min(),s=Tr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e){this.yt=e}}function Kee(t){const e=Uee({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(){this.Cn=new Yee}addToCollectionParentIndex(e,r){return this.Cn.add(r),te.resolve()}getCollectionParents(e,r){return te.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return te.resolve()}deleteFieldIndex(e,r){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,r){return te.resolve()}getDocumentsMatchingTarget(e,r){return te.resolve(null)}getIndexType(e,r){return te.resolve(0)}getFieldIndexes(e,r){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,r){return te.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,r){return te.resolve(ks.min())}updateCollectionGroup(e,r,n){return te.resolve()}updateIndexEntries(e,r){return te.resolve()}}class Yee{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new yr(It.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new yr(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U3=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(U3,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new od(0)}static cr(){return new od(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="LruGarbageCollector",Xee=1048576;function QN([t,e],[r,n]){const i=Xe(t,r);return i===0?Xe(e,n):i}class Zee{constructor(e){this.Ir=e,this.buffer=new yr(QN),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();QN(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Jee{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(KN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Wd(r)?ye(KN,"Ignoring IndexedDB error during garbage collection: ",r):await zd(r)}await this.Vr(3e5)})}}class ete{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return te.resolve(lb.ce);const n=new Zee(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(GN)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GN):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,o,a,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(e,n,r))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(c=Date.now(),Vc()<=Ye.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function tte(t,e){return new ete(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(){this.changes=new mc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?te.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Eh(n.mutation,i,Un.empty(),Ne.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ze()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ze()){const i=_l();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let a=nh();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=_l();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ze()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{r.set(a,s)})})}computeViews(e,r,n,i){let o=ya();const a=_h(),s=function(){return _h()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ys)?o=o.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Eh(u.mutation,c,u.mutation.getFieldMask(),Ne.now())):a.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>a.set(c,u)),r.forEach((c,u)=>s.set(c,new nte(u,a.get(c)??null))),s))}recalculateAndSaveOverlays(e,r){const n=_h();let i=new Ht((a,s)=>a-s),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const s of a)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Un.empty();u=s.applyToLocalView(c,u),n.set(l,u);const d=(i.get(s.batchId)||Ze()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=E3();u.forEach(f=>{if(!o.has(f)){const m=I3(r.get(f),n.get(f));m!==null&&d.set(f,m),o=o.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return te.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):v3(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):te.resolve(_l());let s=np,l=o;return a.next(c=>te.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ze())).next(u=>({batchId:s,changes:_3(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ie(r)).next(n=>{let i=nh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let a=nh();return this.indexManager.getCollectionParents(e,o).next(s=>te.forEach(s,l=>{const c=function(d,f){return new qd(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(a=>{o.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Gr.newInvalidDocument(u)))});let s=nh();return a.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Eh(u.mutation,c,Un.empty(),Ne.now()),fb(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return te.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:bo(i.createTime)}}(r)),te.resolve()}getNamedQuery(e,r){return te.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Kee(i.bundledQuery),readTime:bo(i.readTime)}}(r)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(){this.overlays=new Ht(Ie.comparator),this.qr=new Map}getOverlay(e,r){return te.resolve(this.overlays.get(r))}getOverlays(e,r){const n=_l();return te.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.St(e,r,o)}),te.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(n)),te.resolve()}getOverlaysForCollection(e,r,n){const i=_l(),o=r.length+1,a=new Ie(r.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Ht((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=o.get(c.largestBatchId);u===null&&(u=_l(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=_l(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return te.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new See(r,n));let o=this.qr.get(r);o===void 0&&(o=Ze(),this.qr.set(r,o)),this.qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.Qr=new yr(wr.$r),this.Ur=new yr(wr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new wr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new wr(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Ie(new It([])),n=new wr(r,e),i=new wr(r,e+1),o=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),o.push(a.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ie(new It([])),n=new wr(r,e),i=new wr(r,e+1);let o=Ze();return this.Ur.forEachInRange([n,i],a=>{o=o.add(a.key)}),o}containsKey(e){const r=new wr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class wr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ie.comparator(e.key,r.key)||Xe(e.Yr,r.Yr)}static Kr(e,r){return Xe(e.Yr,r.Yr)||Ie.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new yr(wr.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Eee(o,r,n,i);this.mutationQueue.push(a);for(const s of i)this.Zr=this.Zr.add(new wr(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return te.resolve(a)}lookupMutationBatch(e,r){return te.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?IA:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new wr(r,0),i=new wr(r,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],a=>{const s=this.Xr(a.Yr);o.push(s)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(Xe);return r.forEach(i=>{const o=new wr(i,0),a=new wr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,a],s=>{n=n.add(s.Yr)})}),te.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;Ie.isDocumentKey(o)||(o=o.child(""));const a=new wr(new Ie(o),0);let s=new yr(Xe);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Yr)),!0)},a),te.resolve(this.ti(s))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){vt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return te.forEach(r.mutations,i=>{const o=new wr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new wr(r,0),i=this.Zr.firstAfterOrEqual(n);return te.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e){this.ri=e,this.docs=function(){return new Ht(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return te.resolve(n?n.document.mutableCopy():Gr.newInvalidDocument(r))}getEntries(e,r){let n=ya();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Gr.newInvalidDocument(i))}),te.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=ya();const a=r.path,s=new Ie(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||LJ($J(u),n)<=0||(i.has(u.key)||fb(r,u))&&(o=o.insert(u.key,u.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,r,n,i){je(9500)}ii(e,r){return te.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ute(this)}getSize(e){return te.resolve(this.size)}}class ute extends rte{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),te.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.persistence=e,this.si=new mc(r=>NA(r),RA),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new VA,this.targetCount=0,this.ai=od.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),te.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new od(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,te.resolve()}updateTargetData(e,r){return this.Pr(r),te.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return te.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),te.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),te.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return te.resolve(n)}containsKey(e,r){return te.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,r){this.ui={},this.overlays={},this.ci=new lb(0),this.li=!1,this.li=!0,this.hi=new ste,this.referenceDelegate=e(this),this.Pi=new dte(this),this.indexManager=new Qee,this.remoteDocumentCache=function(i){return new cte(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Gee(r),this.Ii=new ote(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ate,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new lte(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ye("MemoryPersistence","Starting transaction:",e);const i=new fte(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,r){return te.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class fte extends FJ{constructor(e){super(),this.currentSequenceNumber=e}}class FA{constructor(e){this.persistence=e,this.Ri=new VA,this.Vi=null}static mi(e){return new FA(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),te.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),te.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,n=>{const i=Ie.fromPath(n);return this.gi(e,i).next(o=>{o||r.removeEntry(i,$e.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return te.or([()=>te.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class cv{constructor(e,r){this.persistence=e,this.pi=new mc(n=>zJ(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=tte(this,r)}static mi(e,r){return new cv(e,r)}Ei(){}di(e){return te.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return te.forEach(this.pi,(n,i)=>this.br(e,n,i).next(o=>o?te.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(s=>{s||(n++,o.removeEntry(a,$e.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=my(e.data.value)),r}br(e,r,n){return te.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return te.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ze(),i=Ze();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new UA(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zQ()?8:UJ(Jr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ys(e,r).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ws(e,r,i,n).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new hte;return this.Ss(e,r,a).next(s=>{if(o.result=s,this.Vs)return this.bs(e,r,a,s.size)})}).next(()=>o.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Vc()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Fc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Vc()<=Ye.DEBUG&&ye("QueryEngine","Query:",Fc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Vc()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Fc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vo(r))):te.resolve())}ys(e,r){if($N(r))return te.resolve(null);let n=vo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=J1(r,null,"F"),n=vo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const a=Ze(...o);return this.ps.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,s);return this.Cs(r,c,a,l.readTime)?this.ys(e,J1(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return $N(r)||i.isEqual($e.min())?te.resolve(null):this.ps.getDocuments(e,n).next(o=>{const a=this.Ds(r,o);return this.Cs(r,a,n,i)?te.resolve(null):(Vc()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(r)),this.vs(e,a,r,MJ(i,np)).next(s=>s))})}Ds(e,r){let n=new yr(w3(e));return r.forEach((i,o)=>{fb(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,r,n){return Vc()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Fc(r)),this.ps.getDocumentsMatchingQuery(e,r,ks.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="LocalStore",mte=3e8;class gte{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Ht(Xe),this.xs=new mc(o=>NA(o),RA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ite(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function yte(t,e,r,n){return new gte(t,e,r,n)}async function z3(t,e){const r=Ue(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const a=[],s=[];let l=Ze();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:s}))})})}function vte(t,e){const r=Ue(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Ns.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,f=d.keys();let m=te.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(l,v)).next(g=>{const b=c.docVersions.get(v);vt(b!==null,48541),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Ze();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function W3(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function bte(t,e){const r=Ue(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;s.push(r.Pi.removeMatchingKeys(o,u.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(o,u.addedDocuments,d)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Tr.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,n)),i=i.insert(d,m),function(g,b,x){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=mte?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,u)&&s.push(r.Pi.updateTargetData(o,m))});let l=ya(),c=Ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(o,u))}),s.push(wte(o,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual($e.min())){const u=r.Pi.getLastRemoteSnapshotVersion(o).next(d=>r.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(u)}return te.waitFor(s).next(()=>a.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(r.Ms=i,o))}function wte(t,e,r){let n=Ze(),i=Ze();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let a=ya();return r.forEach((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual($e.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ye(BA,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function xte(t,e){const r=Ue(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=IA),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function _te(t,e){const r=Ue(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(o=>o?(i=o,te.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new ss(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function iE(t,e,r){const n=Ue(t),i=n.Ms.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Wd(a))throw a;ye(BA,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function YN(t,e,r){const n=Ue(t);let i=$e.min(),o=Ze();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=Ue(l),f=d.xs.get(u);return f!==void 0?te.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,u)}(n,a,vo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:$e.min(),r?o:Ze())).next(s=>(Ete(n,see(e),s),{documents:s,Qs:o})))}function Ete(t,e,r){let n=t.Os.get(e)||$e.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Os.set(e,n)}class XN{constructor(){this.activeTargetIds=hee()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ste{constructor(){this.Mo=new XN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XN,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="ConnectivityMonitor";class JN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(ZN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(ZN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg=null;function oE(){return Pg===null?Pg=function(){return 268435456+Math.round(2147483648*Math.random())}():Pg++,"0x"+Pg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="RestConnection",Ate={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pte{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===iv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,o){const a=oE(),s=this.zo(e,r.toUriEncodedString());ye(Ox,`Sending RPC '${e}' ${a}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:c}=new URL(s),u=Hs(c);return this.Jo(e,s,l,n,u).then(d=>(ye(Ox,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Jl(Ox,`RPC '${e}' ${a} failed with error: `,d,"url: ",s,"request:",n),d})}Ho(e,r,n,i,o,a){return this.Go(e,r,n,i,o)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}zo(e,r){const n=Ate[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class Ite extends Pte{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const a=oE();return new Promise((s,l)=>{const c=new WF;c.setWithCredentials(!0),c.listenOnce(qF.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case py.NO_ERROR:const d=c.getResponseJson();ye(Ur,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case py.TIMEOUT:ye(Ur,`RPC '${e}' ${a} timed out`),l(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case py.HTTP_ERROR:const f=c.getStatus();if(ye(Ur,`RPC '${e}' ${a} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(y)>=0?y:Z.UNKNOWN}(v.status);l(new pe(g,v.message))}else l(new pe(Z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ye(Ur,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);ye(Ur,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(e,r,n){const i=oE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KF(),s=GF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=o.join("");ye(Ur,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=a.createWebChannel(u,l);this.I_(d);let f=!1,m=!1;const v=new Cte({Yo:b=>{m?ye(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(ye(Ur,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ye(Ur,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),g=(b,x,y)=>{b.listen(x,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,rh.EventType.OPEN,()=>{m||(ye(Ur,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(d,rh.EventType.CLOSE,()=>{m||(m=!0,ye(Ur,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(d))}),g(d,rh.EventType.ERROR,b=>{m||(m=!0,Jl(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),v.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),g(d,rh.EventType.MESSAGE,b=>{var x;if(!m){const y=b.data[0];vt(!!y,16349);const w=y,E=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(E){ye(Ur,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let C=function(A){const N=or[A];if(N!==void 0)return k3(N)}(S),_=E.message;C===void 0&&(C=Z.INTERNAL,_="Unknown error status: "+S+" with message "+E.message),m=!0,v.a_(new pe(C,_)),d.close()}else ye(Ur,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),g(s,HF.STAT_EVENT,b=>{b.stat===H1.PROXY?ye(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===H1.NOPROXY&&ye(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function kx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){return new Ree(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,r,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="PersistentStream";class H3{constructor(e,r,n,i,o,a,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new q3(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Z.RESOURCE_EXHAUSTED?(ga(r.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new pe(Z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(eR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ye(eR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ote extends H3{constructor(e,r,n,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Mee(this.serializer,e),n=function(o){if(!("targetChange"in o))return $e.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?$e.min():a.readTime?bo(a.readTime):$e.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=nE(this.serializer),r.addTarget=function(o,a){let s;const l=a.target;if(s=X1(l)?{documents:Vee(o,l)}:{query:Fee(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=j3(o,a.resumeToken);const c=eE(o,a.expectedCount);c!==null&&(s.expectedCount=c)}else if(a.snapshotVersion.compareTo($e.min())>0){s.readTime=lv(o,a.snapshotVersion.toTimestamp());const c=eE(o,a.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=Bee(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=nE(this.serializer),r.removeTarget=e,this.q_(r)}}class kte extends H3{constructor(e,r,n,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Lee(e.writeResults,e.commitTime),n=bo(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=nE(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$ee(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{}class Rte extends Nte{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Go(e,tE(r,n),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}Ho(e,r,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Ho(e,tE(r,n),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jte{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(r),this.aa=!1):ye("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RemoteStore";class Dte{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{gc(this)&&(ye(ec,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.Ea.add(4),await ym(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vb(c)}(this))})}),this.Ra=new jte(n,i)}}async function vb(t){if(gc(t))for(const e of t.da)await e(!0)}async function ym(t){for(const e of t.da)await e(!1)}function G3(t,e){const r=Ue(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),HA(r)?qA(r):Hd(r).O_()&&WA(r,e))}function zA(t,e){const r=Ue(t),n=Hd(r);r.Ia.delete(e),n.O_()&&K3(r,e),r.Ia.size===0&&(n.O_()?n.L_():gc(r)&&r.Ra.set("Unknown"))}function WA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hd(t).Y_(e)}function K3(t,e){t.Va.Ue(e),Hd(t).Z_(e)}function qA(t){t.Va=new Iee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Hd(t).start(),t.Ra.ua()}function HA(t){return gc(t)&&!Hd(t).x_()&&t.Ia.size>0}function gc(t){return Ue(t).Ea.size===0}function Q3(t){t.Va=void 0}async function Mte(t){t.Ra.set("Online")}async function $te(t){t.Ia.forEach((e,r)=>{WA(t,e)})}async function Lte(t,e){Q3(t),HA(t)?(t.Ra.ha(e),qA(t)):t.Ra.set("Unknown")}async function Vte(t,e,r){if(t.Ra.set("Online"),e instanceof R3&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.Va.removeTarget(s))}(t,e)}catch(n){ye(ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await uv(t,n)}else if(e instanceof vy?t.Va.Ze(e):e instanceof N3?t.Va.st(e):t.Va.tt(e),!r.isEqual($e.min()))try{const n=await W3(t.localStore);r.compareTo(n)>=0&&await function(o,a){const s=o.Va.Tt(a);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.Ia.get(c);u&&o.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,c)=>{const u=o.Ia.get(l);if(!u)return;o.Ia.set(l,u.withResumeToken(Tr.EMPTY_BYTE_STRING,u.snapshotVersion)),K3(o,l);const d=new ss(u.target,l,c,u.sequenceNumber);WA(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ye(ec,"Failed to raise snapshot:",n),await uv(t,n)}}async function uv(t,e,r){if(!Wd(e))throw e;t.Ea.add(1),await ym(t),t.Ra.set("Offline"),r||(r=()=>W3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(ec,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await vb(t)})}function Y3(t,e){return e().catch(r=>uv(t,r,e))}async function bb(t){const e=Ue(t),r=Ds(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:IA;for(;Fte(e);)try{const i=await xte(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Ute(e,i)}catch(i){await uv(e,i)}X3(e)&&Z3(e)}function Fte(t){return gc(t)&&t.Ta.length<10}function Ute(t,e){t.Ta.push(e);const r=Ds(t);r.O_()&&r.X_&&r.ea(e.mutations)}function X3(t){return gc(t)&&!Ds(t).x_()&&t.Ta.length>0}function Z3(t){Ds(t).start()}async function Bte(t){Ds(t).ra()}async function zte(t){const e=Ds(t);for(const r of t.Ta)e.ea(r.mutations)}async function Wte(t,e,r){const n=t.Ta.shift(),i=MA.from(n,e,r);await Y3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bb(t)}async function qte(t,e){e&&Ds(t).X_&&await async function(n,i){if(function(a){return Aee(a)&&a!==Z.ABORTED}(i.code)){const o=n.Ta.shift();Ds(n).B_(),await Y3(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await bb(n)}}(t,e),X3(t)&&Z3(t)}async function tR(t,e){const r=Ue(t);r.asyncQueue.verifyOperationInProgress(),ye(ec,"RemoteStore received new credentials");const n=gc(r);r.Ea.add(3),await ym(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await vb(r)}async function Hte(t,e){const r=Ue(t);e?(r.Ea.delete(2),await vb(r)):e||(r.Ea.add(2),await ym(r),r.Ra.set("Unknown"))}function Hd(t){return t.ma||(t.ma=function(r,n,i){const o=Ue(r);return o.sa(),new Ote(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Mte.bind(null,t),t_:$te.bind(null,t),r_:Lte.bind(null,t),H_:Vte.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),HA(t)?qA(t):t.Ra.set("Unknown")):(await t.ma.stop(),Q3(t))})),t.ma}function Ds(t){return t.fa||(t.fa=function(r,n,i){const o=Ue(r);return o.sa(),new kte(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bte.bind(null,t),r_:qte.bind(null,t),ta:zte.bind(null,t),na:Wte.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bb(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(ec,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const a=Date.now()+n,s=new GA(e,r,a,i,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KA(t,e){if(ga("AsyncQueue",`${e}: ${t}`),Wd(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{static emptySet(e){return new bu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ie.comparator(r.key,n.key):(r,n)=>Ie.comparator(r.key,n.key),this.keyedMap=nh(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new bu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.ga=new Ht(Ie.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ad{constructor(e,r,n,i,o,a,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,o){const a=[];return r.forEach(s=>{a.push({type:0,doc:s})}),new ad(e,r,bu.emptySet(r),a,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&db(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Kte{constructor(){this.queries=nR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ue(r),o=i.queries;i.queries=nR(),o.forEach((a,s)=>{for(const l of s.Sa)l.onError(n)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function nR(){return new mc(t=>b3(t),db)}async function J3(t,e){const r=Ue(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new Gte,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await r.onListen(i,!0);break;case 1:o.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const s=KA(a,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,o),o.Sa.push(e),e.va(r.onlineState),o.wa&&e.Fa(o.wa)&&QA(r)}async function e5(t,e){const r=Ue(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const a=o.Sa.indexOf(e);a>=0&&(o.Sa.splice(a,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qte(t,e){const r=Ue(t);let n=!1;for(const i of e){const o=i.query,a=r.queries.get(o);if(a){for(const s of a.Sa)s.Fa(i)&&(n=!0);a.wa=i}}n&&QA(r)}function Yte(t,e,r){const n=Ue(t),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(r);n.queries.delete(e)}function QA(t){t.Ca.forEach(e=>{e.next()})}var aE,iR;(iR=aE||(aE={})).Ma="default",iR.Cache="cache";class t5{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ad(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.key=e}}class n5{constructor(e){this.key=e}}class Xte{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=w3(e),this.tu=new bu(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new rR,i=r?r.tu:this.tu;let o=r?r.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),m=fb(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?v!==g&&(n.track({type:3,doc:m}),b=!0):this.su(f,m)||(n.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(s=!0)):!f&&m?(n.track({type:0,doc:m}),b=!0):f&&!m&&(n.track({type:1,doc:f}),b=!0,(l||c)&&(s=!0)),b&&(m?(a=a.add(m),o=g?o.add(u):o.delete(u)):(a=a.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:s,mutatedKeys:o}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,d)=>function(m,v){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:b})}};return g(m)-g(v)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new ad(this.query,e.tu,o,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new n5(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new r5(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ze();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ad.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const YA="SyncEngine";class Zte{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Jte{constructor(e){this.key=e,this.hu=!1}}class ere{constructor(e,r,n,i,o,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mc(s=>b3(s),db),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Ie.comparator),this.Au=new Map,this.Ru=new VA,this.Vu={},this.mu=new Map,this.fu=od.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tre(t,e,r=!0){const n=c5(t);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await i5(n,e,r,!0),i}async function rre(t,e){const r=c5(t);await i5(r,e,!0,!1)}async function i5(t,e,r,n){const i=await _te(t.localStore,vo(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,r);let s;return n&&(s=await nre(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&G3(t.remoteStore,i),s}async function nre(t,e,r,n,i){t.pu=(d,f,m)=>async function(g,b,x,y){let w=b.view.ru(x);w.Cs&&(w=await YN(g.localStore,b.query,!1).then(({documents:_})=>b.view.ru(_,w)));const E=y&&y.targetChanges.get(b.targetId),S=y&&y.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(w,g.isPrimaryClient,E,S);return aR(g,b.targetId,C.au),C.snapshot}(t,d,f,m);const o=await YN(t.localStore,e,!0),a=new Xte(e,o.Qs),s=a.ru(o.documents),l=gm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(s,t.isPrimaryClient,l);aR(t,r,c.au);const u=new Zte(e,r,a);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function ire(t,e,r){const n=Ue(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter(a=>!db(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await iE(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&zA(n.remoteStore,i.targetId),sE(n,i.targetId)}).catch(zd)):(sE(n,i.targetId),await iE(n.localStore,i.targetId,!0))}async function ore(t,e){const r=Ue(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),zA(r.remoteStore,n.targetId))}async function are(t,e,r){const n=hre(t);try{const i=await function(a,s){const l=Ue(a),c=Ne.now(),u=s.reduce((m,v)=>m.add(v.key),Ze());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ya(),g=Ze();return l.Ns.getEntries(m,u).next(b=>{v=b,v.forEach((x,y)=>{y.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(b=>{d=b;const x=[];for(const y of s){const w=xee(y,d.get(y.key).overlayedDocument);w!=null&&x.push(new Ys(y.key,w,d3(w.value.mapValue),fn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,s)}).next(b=>{f=b;const x=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:f.batchId,changes:_3(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ht(Xe)),c=c.insert(s,l),a.Vu[a.currentUser.toKey()]=c}(n,i.batchId,r),await vm(n,i.changes),await bb(n.remoteStore)}catch(i){const o=KA(i,"Failed to persist write");r.reject(o)}}async function o5(t,e){const r=Ue(t);try{const n=await bte(r.localStore,e);e.targetChanges.forEach((i,o)=>{const a=r.Au.get(o);a&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?vt(a.hu,14607):i.removedDocuments.size>0&&(vt(a.hu,42227),a.hu=!1))}),await vm(r,n,e)}catch(n){await zd(n)}}function oR(t,e,r){const n=Ue(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Ue(a);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Sa)f.va(s)&&(c=!0)}),c&&QA(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function sre(t,e,r){const n=Ue(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),o=i&&i.key;if(o){let a=new Ht(Ie.comparator);a=a.insert(o,Gr.newNoDocument(o,$e.min()));const s=Ze().add(o),l=new gb($e.min(),new Map,new Ht(Xe),a,s);await o5(n,l),n.du=n.du.remove(o),n.Au.delete(e),XA(n)}else await iE(n.localStore,e,!1).then(()=>sE(n,e,r)).catch(zd)}async function lre(t,e){const r=Ue(t),n=e.batch.batchId;try{const i=await vte(r.localStore,e);s5(r,n,null),a5(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await vm(r,i)}catch(i){await zd(i)}}async function cre(t,e,r){const n=Ue(t);try{const i=await function(a,s){const l=Ue(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(vt(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);s5(n,e,r),a5(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await vm(n,i)}catch(i){await zd(i)}}function a5(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function s5(t,e,r){const n=Ue(t);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function sE(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||l5(t,n)})}function l5(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(zA(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),XA(t))}function aR(t,e,r){for(const n of r)n instanceof r5?(t.Ru.addReference(n.key,e),ure(t,n)):n instanceof n5?(ye(YA,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||l5(t,n.key)):je(19791,{wu:n})}function ure(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ye(YA,"New document in limbo: "+r),t.Eu.add(n),XA(t))}function XA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ie(It.fromString(e)),n=t.fu.next();t.Au.set(n,new Jte(r)),t.du=t.du.insert(r,n),G3(t.remoteStore,new ss(vo(jA(r.path)),n,"TargetPurposeLimboResolution",lb.ce))}}async function vm(t,e,r){const n=Ue(t),i=[],o=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((s,l)=>{a.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=UA.As(l.targetId,c);o.push(d)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,c){const u=Ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>te.forEach(c,f=>te.forEach(f.Es,m=>u.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>te.forEach(f.ds,m=>u.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Wd(d))throw d;ye(BA,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=u.Ms.get(f),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);u.Ms=u.Ms.insert(f,g)}}}(n.localStore,o))}async function dre(t,e){const r=Ue(t);if(!r.currentUser.isEqual(e)){ye(YA,"User change. New user:",e.toKey());const n=await z3(r.localStore,e);r.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new pe(Z.CANCELLED,a))})}),o.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await vm(r,n.Ls)}}function fre(t,e){const r=Ue(t),n=r.Au.get(e);if(n&&n.hu)return Ze().add(n.key);{let i=Ze();const o=r.Iu.get(e);if(!o)return i;for(const a of o){const s=r.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function c5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sre.bind(null,e),e.Pu.H_=Qte.bind(null,e.eventManager),e.Pu.yu=Yte.bind(null,e.eventManager),e}function hre(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cre.bind(null,e),e}class dv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return yte(this.persistence,new pte,e.initialUser,this.serializer)}Cu(e){return new B3(FA.mi,this.serializer)}Du(e){return new Ste}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dv.provider={build:()=>new dv};class pre extends dv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){vt(this.persistence.referenceDelegate instanceof cv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Jee(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new B3(n=>cv.mi(n,r),this.serializer)}}class lE{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>oR(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=dre.bind(null,this.syncEngine),await Hte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kte}()}createDatastore(e){const r=yb(e.databaseInfo.databaseId),n=function(o){return new Ite(o)}(e.databaseInfo);return function(o,a,s,l){return new Rte(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,a,s){return new Dte(n,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,r=>oR(this.syncEngine,r,0),function(){return JN.v()?new JN:new Tte}())}createSyncEngine(e,r){return function(i,o,a,s,l,c,u){const d=new ere(i,o,a,s,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=Ue(i);ye(ec,"RemoteStore shutting down."),o.Ea.add(5),await ym(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}lE.provider={build:()=>new lE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class mre{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async a=>{ye(Ms,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ye(Ms,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=KA(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nx(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Ms,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await z3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sR(t,e){t.asyncQueue.verifyOperationInProgress();const r=await gre(t);ye(Ms,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>tR(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>tR(e.remoteStore,i)),t._onlineComponents=e}async function gre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Ms,"Using user provided OfflineComponentProvider");try{await Nx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Jl("Error using user provided cache. Falling back to memory cache: "+r),await Nx(t,new dv)}}else ye(Ms,"Using default OfflineComponentProvider"),await Nx(t,new pre(void 0));return t._offlineComponents}async function d5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Ms,"Using user provided OnlineComponentProvider"),await sR(t,t._uninitializedComponentsProvider._online)):(ye(Ms,"Using default OnlineComponentProvider"),await sR(t,new lE))),t._onlineComponents}function yre(t){return d5(t).then(e=>e.syncEngine)}async function f5(t){const e=await d5(t),r=e.eventManager;return r.onListen=tre.bind(null,e.syncEngine),r.onUnlisten=ire.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=rre.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ore.bind(null,e.syncEngine),r}function vre(t,e,r={}){const n=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,c){const u=new u5({next:f=>{u.Nu(),a.enqueueAndForget(()=>e5(o,d));const m=f.docs.has(s);!m&&f.fromCache?c.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new t5(jA(s.path),u,{includeMetadataChanges:!0,qa:!0});return J3(o,d)}(await f5(t),t.asyncQueue,e,r,n)),n.promise}function bre(t,e,r={}){const n=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,c){const u=new u5({next:f=>{u.Nu(),a.enqueueAndForget(()=>e5(o,d)),f.fromCache&&l.source==="server"?c.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new t5(s,u,{includeMetadataChanges:!0,qa:!0});return J3(o,d)}(await f5(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="firestore.googleapis.com",cR=!0;class uR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p5,this.ssl=cR}else this.host=e.host,this.ssl=e.ssl??cR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xee)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h5(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wb{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XF;switch(n.type){case"firstParty":return new OJ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=lR.get(r);n&&(ye("ComponentProvider","Removing Datastore"),lR.delete(r),n.terminate())}(this),Promise.resolve()}}function m5(t,e,r,n={}){var c;t=Kn(t,wb);const i=Hs(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(hA(`https://${s}`),pA("Firestore",!0)),o.host!==p5&&o.host!==s&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:n};if(!Gl(l,a)&&(t._setSettings(l),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=qr.MOCK_USER;else{u=nF(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qr(f)}t._authCredentials=new PJ(new YF(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class er{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}toJSON(){return{type:er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(pm(r,er._jsonSchema))return new er(e,n||null,new Ie(It.fromString(r.referencePath)))}}er._jsonSchemaVersion="firestore/documentReference/1.0",er._jsonSchema={type:ur("string",er._jsonSchemaVersion),referencePath:ur("string")};class oa extends Xs{constructor(e,r,n){super(e,r,jA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Ie(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function cn(t,e,...r){if(t=Pt(t),ZF("collection","path",e),t instanceof wb){const n=It.fromString(e,...r);return EN(n),new oa(t,null,n)}{if(!(t instanceof er||t instanceof oa))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return EN(n),new oa(t.firestore,null,n)}}function Yr(t,e,...r){if(t=Pt(t),arguments.length===1&&(e=ab.newId()),ZF("doc","path",e),t instanceof wb){const n=It.fromString(e,...r);return _N(n),new er(t,null,new Ie(n))}{if(!(t instanceof er||t instanceof oa))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return _N(n),new er(t.firestore,t instanceof oa?t.converter:null,new Ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="AsyncQueue";class fR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new q3(this,"async_queue_retry"),this._c=()=>{const n=kx();n&&ye(dR,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=kx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=kx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ia;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wd(e))throw e;ye(dR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",hR(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=GA.createAndSchedule(this,e,r,n,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&je(47125,{Pc:hR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function hR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Aa extends wb{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new fR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fR(e),this._firestoreClient=void 0,await e}}}function g5(t,e){const r=typeof t=="object"?t:yA(),n=typeof t=="string"?t:iv,i=rb(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=eF("firestore");o&&m5(i,...o)}return i}function bm(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wre(t),t._firestoreClient}function wre(t){var n,i,o;const e=t._freezeSettings(),r=function(s,l,c,u){return new HJ(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,h5(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mre(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Tr.fromBase64String(e))}catch(r){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ln(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pm(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:ur("string",Ln._jsonSchemaVersion),bytes:ur("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(pm(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:ur("string",Ui._jsonSchemaVersion),latitude:ur("number"),longitude:ur("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pm(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Bi(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:ur("string",Bi._jsonSchemaVersion),vectorValues:ur("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=/^__.*__$/;class _re{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,r,this.fieldTransforms):new mm(e,this.data,r,this.fieldTransforms)}}class y5{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ys(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function v5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:t})}}class ZA{constructor(e,r,n,i,o,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ZA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v5(this.Ac)&&xre.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ere{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||yb(e)}Cc(e,r,n,i=!1){return new ZA({Ac:e,methodName:r,Dc:n,path:Er.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xm(t){const e=t._freezeSettings(),r=yb(t._databaseId);return new Ere(t._databaseId,!!e.ignoreUndefinedProperties,r)}function JA(t,e,r,n,i,o={}){const a=t.Cc(o.merge||o.mergeFields?2:0,e,r,i);tP("Data must be an object, but it was:",a,n);const s=x5(n,a);let l,c;if(o.merge)l=new Un(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=cE(e,d,r);if(!a.contains(f))throw new pe(Z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);E5(u,f)||u.push(f)}l=new Un(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new _re(new xn(s),l,c)}class xb extends wm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xb}}class eP extends wm{_toFieldTransform(e){return new yee(e.path,new sp)}isEqual(e){return e instanceof eP}}function b5(t,e,r,n){const i=t.Cc(1,e,r);tP("Data must be an object, but it was:",i,n);const o=[],a=xn.empty();Qs(n,(l,c)=>{const u=rP(e,l,r);c=Pt(c);const d=i.yc(u);if(c instanceof xb)o.push(u);else{const f=_m(c,d);f!=null&&(o.push(u),a.set(u,f))}});const s=new Un(o);return new y5(a,s,i.fieldTransforms)}function w5(t,e,r,n,i,o){const a=t.Cc(1,e,r),s=[cE(e,n,r)],l=[i];if(o.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)s.push(cE(e,o[f])),l.push(o[f+1]);const c=[],u=xn.empty();for(let f=s.length-1;f>=0;--f)if(!E5(c,s[f])){const m=s[f];let v=l[f];v=Pt(v);const g=a.yc(m);if(v instanceof xb)c.push(m);else{const b=_m(v,g);b!=null&&(c.push(m),u.set(m,b))}}const d=new Un(c);return new y5(u,d,a.fieldTransforms)}function Sre(t,e,r,n=!1){return _m(r,t.Cc(n?4:3,e))}function _m(t,e){if(_5(t=Pt(t)))return tP("Unsupported field value:",e,t),x5(t,e);if(t instanceof wm)return function(n,i){if(!v5(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const o=[];let a=0;for(const s of n){let l=_m(s,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pee(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ne.fromDate(n);return{timestampValue:lv(i.serializer,o)}}if(n instanceof Ne){const o=new Ne(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lv(i.serializer,o)}}if(n instanceof Ui)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ln)return{bytesValue:j3(i.serializer,n._byteString)};if(n instanceof er){const o=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(o))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:LA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Bi)return function(a,s){return{mapValue:{fields:{[l3]:{stringValue:u3},[ov]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw s.Sc("VectorValues must only contain numeric values.");return DA(s.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${sb(n)}`)}(t,e)}function x5(t,e){const r={};return r3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(n,i)=>{const o=_m(i,e.mc(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function _5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Ui||t instanceof Ln||t instanceof er||t instanceof wm||t instanceof Bi)}function tP(t,e,r){if(!_5(r)||!e3(r)){const n=sb(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function cE(t,e,r){if((e=Pt(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return rP(t,e);throw fv("Field path arguments must be of type string or ",t,!1,void 0,r)}const Tre=new RegExp("[~\\*/\\[\\]]");function rP(t,e,r){if(e.search(Tre)>=0)throw fv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Gd(...e.split("."))._internalPath}catch{throw fv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fv(t,e,r,n,i){const o=n&&!n.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new pe(Z.INVALID_ARGUMENT,s+t+l)}function E5(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Are(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(_b("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Are extends S5{data(){return super.data()}}function _b(t,e){return typeof e=="string"?rP(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nP{}class iP extends nP{}function Bn(t,e,...r){let n=[];e instanceof nP&&n.push(e),n=n.concat(r),function(o){const a=o.filter(l=>l instanceof Eb).length,s=o.filter(l=>l instanceof Em).length;if(a>1||a>0&&s>0)throw new pe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Em extends iP{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Em(e,r,n)}_apply(e){const r=this._parse(e);return A5(e._query,r),new Xs(e.firestore,e.converter,Z1(e._query,r))}_parse(e){const r=xm(e.firestore);return function(o,a,s,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){mR(d,u);const v=[];for(const g of d)v.push(pR(l,o,g));f={arrayValue:{values:v}}}else f=pR(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||mR(d,u),f=Sre(s,a,d,u==="in"||u==="not-in");return cr.create(c,u,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function xs(t,e,r){const n=e,i=_b("where",t);return Em._create(i,n,r)}class Eb extends nP{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Eb(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Wi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)A5(a,l),a=Z1(a,l)}(e._query,r),new Xs(e.firestore,e.converter,Z1(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sb extends iP{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Sb(e,r)}_apply(e){const r=function(i,o,a){if(i.startAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ap(o,a)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new qd(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function T5(t,e="asc"){const r=e,n=_b("orderBy",t);return Sb._create(n,r)}function pR(t,e,r){if(typeof(r=Pt(r))=="string"){if(r==="")throw new pe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v3(e)&&r.indexOf("/")!==-1)throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(It.fromString(r));if(!Ie.isDocumentKey(n))throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return kN(t,new Ie(n))}if(r instanceof er)return kN(t,r._key);throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sb(r)}.`)}function mR(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A5(t,e){const r=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class P5{convertValue(e,r="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Qs(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var n,i,o;const r=(o=(i=(n=e.fields)==null?void 0:n[ov].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>tr(a.doubleValue));return new Bi(r)}convertGeoPoint(e){return new Ui(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ub(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ip(e));default:return null}}convertTimestamp(e){const r=Ns(e);return new Ne(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=It.fromString(e);vt(F3(n),9688,{name:e});const i=new rd(n.get(1),n.get(3)),o=new Ie(n.popFirst(5));return i.isEqual(r)||ga(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class nu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends S5{constructor(e,r,n,i,o,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(_b("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=_s._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:ur("string",_s._jsonSchemaVersion),bundleSource:ur("string","DocumentSnapshot"),bundleName:ur("string"),bundle:ur("string")};class Sh extends _s{data(e={}){return super.data(e)}}class $l{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new nu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Sh(this._firestore,this._userDataWriter,n.key,n,new nu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Sh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new nu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Sh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new nu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),u=a.indexOf(s.doc.key)),{type:Cre(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ab.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(r.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){t=Kn(t,er);const e=Kn(t.firestore,Aa);return vre(bm(e),t._key).then(r=>Ire(e,t,r))}$l._jsonSchemaVersion="firestore/querySnapshot/1.0",$l._jsonSchema={type:ur("string",$l._jsonSchemaVersion),bundleSource:ur("string","QuerySnapshot"),bundleName:ur("string"),bundle:ur("string")};class C5 extends P5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,r)}}function zn(t){t=Kn(t,Xs);const e=Kn(t.firestore,Aa),r=bm(e),n=new C5(e);return Pre(t._query),bre(r,t._query).then(i=>new $l(e,n,t,i))}function up(t,e,r){t=Kn(t,er);const n=Kn(t.firestore,Aa),i=oP(t.converter,e,r);return Kd(n,[JA(xm(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,fn.none())])}function Es(t,e,r,...n){t=Kn(t,er);const i=Kn(t.firestore,Aa),o=xm(i);let a;return a=typeof(e=Pt(e))=="string"||e instanceof Gd?w5(o,"updateDoc",t._key,e,r,n):b5(o,"updateDoc",t._key,e),Kd(i,[a.toMutation(t._key,fn.exists(!0))])}function Tb(t){return Kd(Kn(t.firestore,Aa),[new mb(t._key,fn.none())])}function aP(t,e){const r=Kn(t.firestore,Aa),n=Yr(t),i=oP(t.converter,e);return Kd(r,[JA(xm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,fn.exists(!1))]).then(()=>n)}function Kd(t,e){return function(n,i){const o=new ia;return n.asyncQueue.enqueueAndForget(async()=>are(await yre(n),i,o)),o.promise}(bm(t),e)}function Ire(t,e,r){const n=r.docs.get(e._key),i=new C5(t);return new _s(t,i,e._key,n,new nu(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=xm(e)}set(e,r,n){this._verifyNotCommitted();const i=Rx(e,this._firestore),o=oP(i.converter,r,n),a=JA(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,fn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const o=Rx(e,this._firestore);let a;return a=typeof(r=Pt(r))=="string"||r instanceof Gd?w5(this._dataReader,"WriteBatch.update",o._key,r,n,i):b5(this._dataReader,"WriteBatch.update",o._key,r),this._mutations.push(a.toMutation(o._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Rx(e,this._firestore);return this._mutations=this._mutations.concat(new mb(r._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rx(t,e){if((t=Pt(t)).firestore!==e)throw new pe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function sP(){return new eP("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){return bm(t=Kn(t,Aa)),new I5(t,e=>Kd(t,e))}(function(e,r=!0){(function(i){Bd=i})(hc),Kl(new Os("firestore",(n,{instanceIdentifier:i,options:o})=>{const a=n.getProvider("app").getImmediate(),s=new Aa(new CJ(n.getProvider("auth-internal")),new kJ(a,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(c.options.projectId,u)}(a,i),a);return o={useFetchStreams:r,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),go(vN,bN,e),go(vN,bN,"esm2020")})();const Ore=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:P5,Bytes:Ln,CollectionReference:oa,DocumentReference:er,DocumentSnapshot:_s,FieldPath:Gd,FieldValue:wm,Firestore:Aa,FirestoreError:pe,GeoPoint:Ui,Query:Xs,QueryCompositeFilterConstraint:Eb,QueryConstraint:iP,QueryDocumentSnapshot:Sh,QueryFieldFilterConstraint:Em,QueryOrderByConstraint:Sb,QuerySnapshot:$l,SnapshotMetadata:nu,Timestamp:Ne,VectorValue:Bi,WriteBatch:I5,_AutoId:ab,_ByteString:Tr,_DatabaseId:rd,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:XF,_FieldPath:Er,_cast:Kn,_logWarn:Jl,_validateIsNotUsedTogether:JF,addDoc:aP,collection:cn,connectFirestoreEmulator:m5,deleteDoc:Tb,doc:Yr,ensureFirestoreConfigured:bm,executeWrite:Kd,getDoc:Zo,getDocs:zn,getFirestore:g5,orderBy:T5,query:Bn,serverTimestamp:sP,setDoc:up,updateDoc:Es,where:xs,writeBatch:O5},Symbol.toStringTag,{value:"Module"}));var kre="firebase",Nre="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(kre,Nre,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="firebasestorage.googleapis.com",N5="storageBucket",Rre=2*60*1e3,jre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Io{constructor(e,r,n=0){super(jx(e),`Firebase Storage: ${r} (${jx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function jx(t){return"storage/"+t}function lP(){const t="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,t)}function Dre(t){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Mre(t){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $re(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,t)}function Lre(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vre(t){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Fre(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ure(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function Bre(t){return new Kt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function zre(t){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Wre(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+N5+"' property when initializing the app?")}function qre(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hre(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Gre(t){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hv(t){return new Kt(Gt.INVALID_ARGUMENT,t)}function R5(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function j5(t){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Th(t,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Df(t){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=En.makeFromUrl(e,r)}catch{return new En(e,"")}if(n.path==="")return n;throw zre(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},g=r===k5?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",x=new RegExp(`^https?://${g}/${i}/${b}`,"i"),w=[{regex:s,indices:l,postModify:o},{regex:m,indices:v,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const S=w[E],C=S.regex.exec(e);if(C){const _=C[S.indices.bucket];let T=C[S.indices.path];T||(T=""),n=new En(_,T),S.postModify(n);break}}if(n==null)throw Bre(e);return n}}class Kre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t,e,r){let n=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(m,l())},b)}function f(){o&&clearTimeout(o)}function m(b,...x){if(c){f();return}if(b){f(),u.call(null,b,...x);return}if(l()||a){f(),u.call(null,b,...x);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,d(w)}let v=!1;function g(b){v||(v=!0,f(),!c&&(i!==null?(b||(s=2),clearTimeout(i),d(0)):b||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,g(!0)},r),g}function Yre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xre(t){return t!==void 0}function Zre(t){return typeof t=="object"&&!Array.isArray(t)}function cP(t){return typeof t=="string"||t instanceof String}function gR(t){return uP()&&t instanceof Blob}function uP(){return typeof Blob<"u"}function yR(t,e,r,n){if(n<e)throw hv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw hv(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function D5(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Ll;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ll||(Ll={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(e,r,n,i,o,a,s,l,c,u,d,f=!0,m=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,g)=>{this.resolve_=v,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Cg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Ll.NO_ERROR,l=o.getStatus();if(!s||Jre(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Ll.ABORT;n(!1,new Cg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Cg(c,o))})},r=(n,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Xre(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=lP();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?R5():Ure();a(l)}else{const l=Fre();a(l)}};this.canceled_?r(!1,new Cg(!1,null,!0)):this.backoffId_=Qre(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cg{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function tne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ine(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function one(t,e,r,n,i,o,a=!0,s=!1){const l=D5(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return nne(u,e),tne(u,r),rne(u,o),ine(u,n),new ene(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sne(...t){const e=ane();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(uP())return new Blob(t);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lne(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(t){if(typeof atob>"u")throw Gre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dx{constructor(e,r){this.data=e,this.contentType=r||null}}function M5(t,e){switch(t){case Mi.RAW:return new Dx($5(e));case Mi.BASE64:case Mi.BASE64URL:return new Dx(L5(t,e));case Mi.DATA_URL:return new Dx(dne(e),fne(e))}throw lP()}function $5(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const o=n,a=t.charCodeAt(++r);n=65536|(o&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function une(t){let e;try{e=decodeURIComponent(t)}catch{throw Th(Mi.DATA_URL,"Malformed data URL.")}return $5(e)}function L5(t,e){switch(t){case Mi.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Th(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mi.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Th(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=cne(e)}catch(i){throw i.message.includes("polyfill")?i:Th(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class V5{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Th(Mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=hne(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function dne(t){const e=new V5(t);return e.base64?L5(Mi.BASE64,e.rest):une(e.rest)}function fne(t){return new V5(t).contentType}function hne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,r){let n=0,i="";gR(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(gR(this.data_)){const n=this.data_,i=lne(n,e,r);return i===null?null:new Go(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Go(n,!0)}}static getBlob(...e){if(uP()){const r=e.map(n=>n instanceof Go?n.data_:n);return new Go(sne.apply(null,r))}else{const r=e.map(a=>cP(a)?M5(Mi.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let o=0;return r.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Go(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){let e;try{e=JSON.parse(t)}catch{return null}return Zre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mne(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function U5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gne(t,e){return e}class tn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||gne}}let Ig=null;function yne(t){return!cP(t)||t.length<2?t:U5(t)}function B5(){if(Ig)return Ig;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(o,a){return yne(a)}const r=new tn("name");r.xform=e,t.push(r);function n(o,a){return a!==void 0?Number(a):a}const i=new tn("size");return i.xform=n,t.push(i),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),Ig=t,Ig}function vne(t,e){function r(){const n=t.bucket,i=t.fullPath,o=new En(n,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function bne(t,e,r){const n={};n.type="file";const i=r.length;for(let o=0;o<i;o++){const a=r[o];n[a.local]=a.xform(n,e[a.server])}return vne(n,t),n}function z5(t,e,r){const n=F5(e);return n===null?null:bne(t,n,r)}function wne(t,e,r,n){const i=F5(e);if(i===null||!cP(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+a(u)+"/o/"+a(d),m=dP(f,r,n),v=D5({alt:"media",token:c});return m+v})[0]}function xne(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class W5{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){if(!t)throw lP()}function _ne(t,e){function r(n,i){const o=z5(t,i,e);return q5(o!==null),o}return r}function Ene(t,e){function r(n,i){const o=z5(t,i,e);return q5(o!==null),wne(o,i,t.host,t._protocol)}return r}function H5(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Lre():i=$re():r.getStatus()===402?i=Mre(t.bucket):r.getStatus()===403?i=Vre(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Sne(t){const e=H5(t);function r(n,i){let o=e(n,i);return n.getStatus()===404&&(o=Dre(t.path)),o.serverResponse=i.serverResponse,o}return r}function Tne(t,e,r){const n=e.fullServerUrl(),i=dP(n,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new W5(i,o,Ene(t,r),a);return s.errorHandler=Sne(e),s}function Ane(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Pne(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Ane(null,e)),n}function Cne(t,e,r,n,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const c=Pne(e,n,i),u=xne(c,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Go.getBlob(d,n,f);if(m===null)throw qre();const v={name:c.fullPath},g=dP(o,t.host,t._protocol),b="POST",x=t.maxUploadRetryTime,y=new W5(g,b,_ne(t,r),x);return y.urlParams=v,y.headers=a,y.body=m.uploadData(),y.errorHandler=H5(e),y}class Ine{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ll.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ll.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ll.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,o){if(this.sent_)throw Df("cannot .send() more than once");if(Hs(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Df("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Df("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Df("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Df("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class One extends Ine{initXhr(){this.xhr_.responseType="text"}}function G5(){return new One}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,r){this._service=e,r instanceof En?this._location=r:this._location=En.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new tc(e,r)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U5(this._location.path)}get storage(){return this._service}get parent(){const e=pne(this._location.path);if(e===null)return null;const r=new En(this._location.bucket,e);return new tc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw j5(e)}}function kne(t,e,r){t._throwIfRoot("uploadBytes");const n=Cne(t.storage,t._location,B5(),new Go(e,!0),r);return t.storage.makeRequestWithTokens(n,G5).then(i=>({metadata:i,ref:t}))}function Nne(t){t._throwIfRoot("getDownloadURL");const e=Tne(t.storage,t._location,B5());return t.storage.makeRequestWithTokens(e,G5).then(r=>{if(r===null)throw Hre();return r})}function Rne(t,e){const r=mne(t._location.path,e),n=new En(t._location.bucket,r);return new tc(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jne(t){return/^[A-Za-z]+:\/\//.test(t)}function Dne(t,e){return new tc(t,e)}function K5(t,e){if(t instanceof fP){const r=t;if(r._bucket==null)throw Wre();const n=new tc(r,r._bucket);return e!=null?K5(n,e):n}else return e!==void 0?Rne(t,e):t}function Mne(t,e){if(e&&jne(e)){if(t instanceof fP)return Dne(t,e);throw hv("To use ref(service, url), the first argument must be a Storage instance.")}else return K5(t,e)}function vR(t,e){const r=e==null?void 0:e[N5];return r==null?null:En.makeFromBucketSpec(r,t)}function $ne(t,e,r,n={}){t.host=`${e}:${r}`;const i=Hs(e);i&&(hA(`https://${t.host}/b`),pA("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=n;o&&(t._overrideAuthToken=typeof o=="string"?o:nF(o,t.app.options.projectId))}class fP{constructor(e,r,n,i,o,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=k5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rre,this._maxUploadRetryTime=jre,this._requests=new Set,i!=null?this._bucket=En.makeFromBucketSpec(i,this._host):this._bucket=vR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=vR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tc(this,e)}_makeRequest(e,r,n,i,o=!0){if(this._deleted)return new Kre(R5());{const a=one(e,this._appId,n,i,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const bR="@firebase/storage",wR="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="storage";function Lne(t,e,r){return t=Pt(t),kne(t,e,r)}function Vne(t){return t=Pt(t),Nne(t)}function Fne(t,e){return t=Pt(t),Mne(t,e)}function Y5(t=yA(),e){t=Pt(t);const n=rb(t,Q5).getImmediate({identifier:e}),i=eF("storage");return i&&X5(n,...i),n}function X5(t,e,r,n={}){$ne(t,e,r,n)}function Une(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fP(r,n,i,e,hc)}function Bne(){Kl(new Os(Q5,Une,"PUBLIC").setMultipleInstances(!0)),go(bR,wR,""),go(bR,wR,"esm2020")}Bne();const zne=Object.freeze(Object.defineProperty({__proto__:null,StorageError:Kt,get StorageErrorCode(){return Gt},StringFormat:Mi,_FbsBlob:Go,_Location:En,_dataFromString:M5,_invalidArgument:hv,_invalidRootOperation:j5,connectStorageEmulator:X5,getDownloadURL:Vne,getStorage:Y5,ref:Fne,uploadBytes:Lne},Symbol.toStringTag,{value:"Module"}));console.log(" Firebase Environment Variables:",{VITE_FIREBASE_API_KEY:" Definida",VITE_FIREBASE_AUTH_DOMAIN:" Ausente",VITE_FIREBASE_PROJECT_ID:" Definida",VITE_FIREBASE_STORAGE_BUCKET:" Ausente",VITE_FIREBASE_MESSAGING_SENDER_ID:" Ausente",VITE_FIREBASE_APP_ID:" Definida"});const Bo={apiKey:"AIzaSyB0jOcON4chsTw-_f5Z8TXdK8ryuzoQsZ0",authDomain:"dorlog-fibro-diario.firebaseapp.com",projectId:"dorlog-fibro-diario",storageBucket:"dorlog-fibro-diario.firebasestorage.app",messagingSenderId:"123456789",appId:"1:1005551706966:web:f75e761d5a57767fc1ecf7"};console.log(" Configurao Firebase Final:",{apiKey:Bo.apiKey?`${Bo.apiKey.substring(0,10)}...`:"undefined",authDomain:Bo.authDomain,projectId:Bo.projectId,storageBucket:Bo.storageBucket,messagingSenderId:Bo.messagingSenderId,appId:Bo.appId?`${Bo.appId.substring(0,20)}...`:"undefined"});const hP=aF(Bo),zc=TJ(hP),gt=g5(hP),Wne=Y5(hP),Ab=new Ho;Ab.addScope("email");Ab.addScope("profile");const qne=Object.freeze(Object.defineProperty({__proto__:null,auth:zc,db:gt,googleProvider:Ab,storage:Wne},Symbol.toStringTag,{value:"Module"}));class Z5{static shouldResetReminders(e){const r=new Date().toISOString().split("T")[0];return!e||e!==r}static async resetAllReminders(e){try{console.log(" Iniciando reset dirio dos lembretes para usurio:",e);const r=cn(gt,"medicamentos"),n=Bn(r,xs("usuarioId","==",e)),i=await zn(n);if(i.empty){console.log(" Nenhum medicamento encontrado para reset");return}const o=O5(gt),a=new Date().toISOString().split("T")[0];let s=0;i.forEach(l=>{var u;const c=l.data();if(this.shouldResetReminders(c.lastReset)){const d=((u=c.lembrete)==null?void 0:u.map(m=>({...m,status:!1})))||[],f=Yr(gt,"medicamentos",l.id);o.update(f,{lembrete:d,lastReset:a}),s++}}),s>0?(await o.commit(),console.log(` Reset concludo: ${s} medicamentos atualizados`)):console.log(" Nenhum medicamento precisava ser resetado")}catch(r){throw console.error(" Erro ao resetar lembretes:",r),r}}static async checkAndResetIfNeeded(e){try{const r=cn(gt,"medicamentos"),n=Bn(r,xs("usuarioId","==",e)),i=await zn(n);if(i.empty)return!1;let o=!1;return i.forEach(a=>{const s=a.data();this.shouldResetReminders(s.lastReset)&&(o=!0)}),o?(await this.resetAllReminders(e),!0):!1}catch(r){return console.error(" Erro ao verificar necessidade de reset:",r),!1}}static getCurrentTime(){return new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})}static isReminderTime(e,r=30){const n=new Date,[i,o]=e.split(":").map(Number),a=new Date;return a.setHours(i,o,0,0),Math.abs(n.getTime()-a.getTime())/(1e3*60)<=r}}const J5=O.createContext(null);function Hne({children:t}){const[e,r]=O.useState(null),[n,i]=O.useState(null),[o,a]=O.useState(!0),{toast:s}=Ki(),l=async(y,w,E=!1)=>{var _;if(!(y!=null&&y.uid))return console.log(" createUserDocument: firebaseUser.uid no encontrado"),null;console.log(" Configurao Firebase:",{projectId:" Configurado",apiKey:" Configurado",hasValidConfig:"dorlog-fibro-diario"!=="demo-project"});try{if(console.log(" Obtendo token de autenticao..."),!await y.getIdToken(!0))return console.log(" Token de autenticao no obtido"),null;console.log(" Token obtido com sucesso"),console.log(' Tentando acessar coleo "usuarios"...');const A=Yr(gt,"usuarios",y.uid),N=await Zo(A);console.log(" Resultado da consulta:",N.exists()?"Documento existe":"Documento no existe");let I;if(N.exists()){console.log(" Usurio existente encontrado no Firestore");const k=N.data(),R=k.email?await c(k.email):!1;return I={...k,isSubscriptionActive:R},await Es(A,{isSubscriptionActive:R,updatedAt:new Date}),console.log(" Status de assinatura atualizado:",R),I}else{const{displayName:k,email:R}=y,M=((_=y.providerData[0])==null?void 0:_.providerId)==="google.com"?"google":"email",L=R?await c(R):!1;if(I={id:y.uid,name:k||(w==null?void 0:w.name)||"",email:R||"",provider:M,createdAt:new Date,updatedAt:new Date,isSubscriptionActive:L},console.log(" Criando novo documento no Firestore:",{uid:y.uid,email:I.email,name:I.name,provider:I.provider,isSubscriptionActive:L}),await up(A,I),console.log(" Documento criado, verificando..."),(await Zo(A)).exists())return console.log(" Usurio salvo e verificado no Firestore!"),I;if(console.log(" Verificao falhou - documento no foi criado"),E)throw new Error("Falha ao verificar usurio salvo");return null}}catch(T){if(console.error(" Erro ao interagir com Firestore:",{message:T.message,code:T.code}),T.code==="permission-denied"&&(console.error(" ERRO DE PERMISSO FIRESTORE:"),console.error("- Configure as regras no Firebase Console"),console.error("- V para Firestore Database > Rules"),console.error('- Permita acesso  coleo "usuarios" para usurios autenticados'),console.error("- Verifique FIRESTORE_SETUP.md para instrues detalhadas")),E)throw new Error(`Falha crtica no Firestore: ${T.message}`);return null}},c=async y=>{try{console.log(" Verificando status de assinatura para:",y);const w="dorlog-fibro-diario",S=w&&"AIzaSyB0jOcON4chsTw-_f5Z8TXdK8ryuzoQsZ0"&&w!=="demo-project",C=Yr(gt,"assinaturas",y),_=await Zo(C);if(!_.exists())return console.log(" Nenhuma assinatura encontrada para:",y),!1;const A=_.data().data,N=new Date;let I;A&&typeof A=="object"&&"toDate"in A?I=A.toDate():A instanceof Date?I=A:I=new Date(A);const k=I<N;return console.log(" Status da assinatura:",{email:y,subscriptionDate:I.toISOString(),currentDate:N.toISOString(),isActive:k}),k}catch(w){return console.error(" Erro ao verificar assinatura:",{email:y,message:w.message,code:w.code}),!1}},u=async()=>{try{console.log(" Testando conexo direta com Firestore...");const y="dorlog-fibro-diario",w="AIzaSyB0jOcON4chsTw-_f5Z8TXdK8ryuzoQsZ0",E=Yr(gt,"test","connection");return await up(E,{timestamp:new Date,test:!0}),console.log(" Documento de teste criado"),(await Zo(E)).exists()?(console.log(" Verificao bem-sucedida - Firestore funcional"),await Tb(E),console.log(" Documento de teste removido"),!0):(console.log(" Verificao falhou"),!1)}catch(y){return console.error(" Erro no teste de conexo Firestore:",y),!1}},d=async(y,w)=>{try{const E=await sZ(zc,y,w);await E.user.getIdToken();const S=await l(E.user);if(S)r(S),s({title:"Login realizado com sucesso!",description:"Bem-vindo de volta ao DorLog."});else{const C={id:E.user.uid,name:E.user.displayName||"",email:E.user.email||"",provider:"email"};r(C),s({title:"Login realizado com sucesso!",description:"Bem-vindo de volta ao DorLog."})}}catch(E){let S="Erro no login. Tente novamente.";throw E.code==="auth/user-not-found"?S="E-mail no cadastrado. Crie uma conta primeiro.":E.code==="auth/wrong-password"?S="Senha incorreta. Verifique e tente novamente.":E.code==="auth/invalid-email"?S="Formato de e-mail invlido.":E.code==="auth/too-many-requests"?S="Muitas tentativas. Aguarde antes de tentar novamente.":E.code==="auth/user-disabled"&&(S="Esta conta foi desabilitada."),s({title:"Erro no login",description:S,variant:"destructive"}),E}},f=async(y,w,E)=>{let S=null;try{console.log(" Iniciando processo de registro...");const C=await aZ(zc,y,w);S=C.user,await sN(C.user,{displayName:E}),console.log(" Iniciando processo de registro no Firestore...");const _=await l(C.user,{name:E},!1);if(_)r(_),s({title:"Conta criada com sucesso!",description:"Usurio registrado no sistema."});else{const T={id:C.user.uid,name:E,email:C.user.email||"",provider:"email"};r(T),s({title:"Conta criada com sucesso!",description:"Registro concludo. Configure o Firestore para funcionalidade completa."})}}catch(C){console.error(" Erro no registro:",C);let _="Erro ao criar conta. Tente novamente.";throw C.code==="auth/email-already-in-use"?_="Este e-mail j est cadastrado. Faa login ou use outro e-mail.":C.code==="auth/weak-password"?_="A senha deve ter pelo menos 6 caracteres.":C.code==="auth/invalid-email"?_="E-mail invlido.":C.code==="auth/operation-not-allowed"&&(_="Mtodo de registro no permitido."),s({title:"Erro no cadastro",description:_,variant:"destructive"}),C}},m=async()=>{try{console.log(" Iniciando login com Google...");const y=await jZ(zc,Ab);await y.user.getIdToken(),await new Promise(E=>setTimeout(E,500));const w=await l(y.user,void 0,!1);if(w)r(w),s({title:"Login realizado com sucesso!",description:"Bem-vindo ao DorLog."});else{const E={id:y.user.uid,name:y.user.displayName||"",email:y.user.email||"",provider:"google"};r(E),s({title:"Login realizado com sucesso!",description:"Bem-vindo ao DorLog."})}}catch(y){let w="Erro no login com Google. Tente novamente.";throw y.code==="auth/popup-closed-by-user"?w="Login cancelado. Tente novamente.":y.code==="auth/popup-blocked"?w="Popup bloqueado pelo navegador. Permita popups para este site.":y.code==="auth/account-exists-with-different-credential"?w="Esta conta j existe com outro mtodo de login.":y.code==="auth/operation-not-allowed"&&(w="Login com Google no est configurado."),s({title:" Erro no login",description:w,variant:"destructive"}),y}},v=async()=>{try{await pZ(zc),r(null),i(null),s({title:"Logout realizado",description:"At logo!"})}catch(y){throw console.error("Logout error:",y),s({title:"Erro no logout",description:"Erro ao sair. Tente novamente.",variant:"destructive"}),y}},g=async y=>{if(!(!n||!e))try{await sN(n,{displayName:y});const w=Yr(gt,"usuarios",n.uid);await Es(w,{name:y,updatedAt:new Date}),r({...e,name:y}),s({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})}catch(w){throw console.error("Update profile error:",w),s({title:"Erro ao atualizar perfil",description:"Erro ao atualizar informaes. Tente novamente.",variant:"destructive"}),w}},b=async(y,w)=>{if(n)try{const E=pc.credential(n.email,y);await oZ(n,E),await cZ(n,w),s({title:"Senha atualizada",description:"Sua senha foi alterada com sucesso."})}catch(E){console.error("Update password error:",E);let S="Erro ao alterar senha. Tente novamente.";throw E.code==="auth/wrong-password"?S="Senha atual incorreta.":E.code==="auth/weak-password"&&(S="A nova senha deve ter pelo menos 6 caracteres."),s({title:"Erro ao alterar senha",description:S,variant:"destructive"}),E}};O.useEffect(()=>hZ(zc,async w=>{var E;if(i(w),w){const S={id:w.uid,name:w.displayName||"",email:w.email||"",provider:((E=w.providerData[0])==null?void 0:E.providerId)==="google.com"?"google":"email"};r(S),a(!1);{const C=setTimeout(async()=>{try{const _=await l(w);_&&r(_);try{await Z5.checkAndResetIfNeeded(w.uid)}catch(T){console.error("Erro ao verificar reset de lembretes:",T)}}catch{}},2e3);return()=>clearTimeout(C)}}else r(null),a(!1)}),[]);const x={currentUser:e,firebaseUser:n,loading:o,login:d,register:f,loginWithGoogle:m,logout:v,updateUserProfile:g,updateUserPassword:b,testFirestoreConnection:u,checkSubscriptionStatus:c};return p.jsx(J5.Provider,{value:x,children:t})}const mn=()=>{const t=O.useContext(J5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},pP=Z0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=O.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},o)=>{const a=n?cG:"button";return p.jsx(a,{className:Me(pP({variant:e,size:r,className:t})),ref:o,...i})});Pe.displayName="Button";function Gne({title:t,onMenuClick:e}){const{currentUser:r,logout:n}=mn(),i=async()=>{try{await n(),window.location.href="/login"}catch(o){console.error("Erro ao fazer logout:",o)}};return p.jsx("header",{className:"bg-gradient-to-r from-background via-background/95 to-background backdrop-blur-xl border-b border-border/60 sticky top-0 z-30 shadow-lg",children:p.jsxs("div",{className:"max-w-lg mx-auto px-5 py-4 flex items-center justify-between",children:[p.jsx(Pe,{variant:"ghost",size:"icon",onClick:e,className:"text-muted-foreground hover:text-foreground hover:bg-accent/80 rounded-xl transition-colors duration-200","data-testid":"button-menu",children:p.jsx(sK,{className:"h-5 w-5"})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 w-10 h-10 rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(cy,{className:"h-5 w-5 text-primary-foreground"})}),p.jsxs("div",{className:"flex flex-col space-y-0.5",children:[p.jsx("span",{className:"text-base font-bold text-primary leading-none tracking-tight",children:"DorLog"}),p.jsx("span",{className:"text-xs text-muted-foreground/80 font-medium leading-none",children:t})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Pe,{onClick:i,variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",title:"Sair",children:p.jsx(_V,{className:"h-4 w-4"})}),(r==null?void 0:r.isSubscriptionActive)!==void 0&&(r.isSubscriptionActive?p.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-50 via-green-50 to-emerald-50 border border-emerald-200/60 rounded-xl px-3 py-1.5 shadow-sm",children:[p.jsx(w1,{className:"h-3.5 w-3.5 text-emerald-600 mr-1.5"}),p.jsx("span",{className:"text-xs font-bold text-emerald-700 tracking-wide",children:"Premium"})]}):p.jsx(Pe,{onClick:()=>window.open("https://checkout.stripe.com/pay/cs_test_premium_dorlog","_blank"),variant:"outline",size:"sm",className:"group relative h-9 px-3 bg-gradient-to-r from-orange-50 via-amber-50 to-yellow-50 hover:from-orange-100 hover:via-amber-100 hover:to-yellow-100 border border-orange-200/60 hover:border-orange-300 text-orange-800 hover:text-orange-900 rounded-xl transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),p.jsx("span",{className:"text-xs font-semibold tracking-tight",children:"Gratuito"})]}),p.jsx("div",{className:"w-px h-4 bg-orange-300"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(w1,{className:"h-3.5 w-3.5 text-amber-600 group-hover:text-amber-700 transition-colors"}),p.jsx("span",{className:"text-xs font-bold tracking-wide",children:"Upgrade"})]})]})}))]})]})})}const Kne=[{path:"/home",icon:oK,label:"Incio",testId:"tab-home"},{path:"/doctors",icon:AV,label:"Mdicos",testId:"tab-doctors"},{path:"/medications",icon:J0,label:"Medicamentos",testId:"tab-medications"},{path:"/reports",icon:aA,label:"Relatrios",testId:"tab-reports"}];function Qne({onNavigate:t}){const[e]=Cn();return p.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-20",children:p.jsx("div",{className:"max-w-lg mx-auto px-4",children:p.jsx("div",{className:"flex",children:Kne.map(({path:r,icon:n,label:i,testId:o})=>p.jsxs("button",{onClick:()=>t(r),className:Me("flex-1 py-3 flex flex-col items-center space-y-1 transition-colors",e===r?"text-primary":"text-muted-foreground hover:text-foreground"),"data-testid":o,children:[p.jsx(n,{className:"h-5 w-5"}),p.jsx("span",{className:"text-xs font-medium",children:i})]},r))})})})}function Yne({isOpen:t,onClose:e,onNavigate:r}){const{currentUser:n,firebaseUser:i,logout:o}=mn(),a=async()=>{try{await o(),e()}catch(l){console.error("Logout error:",l)}},s=l=>{r(l),e()};return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:Me("fixed inset-0 bg-black/50 drawer-overlay z-40 transition-opacity",t?"opacity-100":"opacity-0 pointer-events-none"),onClick:e,"data-testid":"drawer-overlay"}),p.jsxs("div",{className:Me("fixed left-0 top-0 h-full w-80 bg-card shadow-xl z-50 transform transition-transform duration-300",t?"translate-x-0":"-translate-x-full"),"data-testid":"drawer-navigation",children:[p.jsxs("div",{className:"bg-gradient-to-br from-primary via-primary to-primary/90 px-5 py-5",children:[p.jsx("div",{className:"flex justify-end mb-4",children:p.jsx(Pe,{variant:"ghost",size:"icon",onClick:e,className:"text-white hover:bg-white/20 rounded-full transition-all duration-200 hover:scale-105","data-testid":"button-close-drawer",children:p.jsx(eb,{className:"h-5 w-5"})})}),p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsxs("div",{className:"relative w-12 h-12 mb-3",children:[i!=null&&i.photoURL?p.jsx("img",{src:i.photoURL,alt:"Foto do perfil",className:"w-12 h-12 rounded-full object-cover shadow-lg border-2 border-white/30",onError:l=>{var c;l.currentTarget.style.display="none",(c=l.currentTarget.nextElementSibling)==null||c.classList.remove("hidden")}}):null,p.jsx("div",{className:`bg-white/20 backdrop-blur-sm w-12 h-12 rounded-full flex items-center justify-center shadow-lg ${i!=null&&i.photoURL?"hidden":""}`,children:p.jsx(_1,{className:"h-6 w-6 text-white"})})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("h3",{className:"text-white font-semibold text-base leading-tight","data-testid":"text-user-name",children:(n==null?void 0:n.name)||"Usurio"}),p.jsx("p",{className:"text-primary-foreground/70 text-xs font-medium","data-testid":"text-user-email",children:(n==null?void 0:n.email)||"email@exemplo.com"}),(n==null?void 0:n.isSubscriptionActive)!==void 0&&p.jsx("div",{className:"pt-2 flex flex-col items-center",children:n.isSubscriptionActive?p.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold bg-emerald-100/90 text-emerald-800 border-2 border-emerald-300/50 shadow-sm",children:[p.jsx("svg",{className:"w-2.5 h-2.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Premium"]}):p.jsx(Pe,{onClick:()=>window.open("https://checkout.stripe.com/pay/cs_test_premium_dorlog","_blank"),variant:"outline",size:"sm",className:"group relative mt-2 bg-gradient-to-r from-orange-50 via-amber-50 to-yellow-50 hover:from-orange-100 hover:via-amber-100 hover:to-yellow-100 border border-orange-200/60 hover:border-orange-300 text-orange-800 hover:text-orange-900 rounded-xl transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),p.jsx("span",{className:"text-xs font-semibold tracking-tight",children:"Gratuito"})]}),p.jsx("div",{className:"w-px h-4 bg-orange-300"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(w1,{className:"h-3.5 w-3.5 text-amber-600 group-hover:text-amber-700 transition-colors"}),p.jsx("span",{className:"text-xs font-bold tracking-wide",children:"Upgrade"})]})]})})})]})]})]}),p.jsxs("div",{className:"py-4",children:[p.jsxs("button",{onClick:()=>s("/profile"),className:"flex items-center w-full px-6 py-3 text-foreground hover:bg-accent transition-colors","data-testid":"link-profile",children:[p.jsx(_1,{className:"h-5 w-5 mr-4 text-muted-foreground"}),"Meu Perfil"]}),p.jsxs("button",{onClick:()=>s("/reports"),className:"flex items-center w-full px-6 py-3 text-foreground hover:bg-accent transition-colors","data-testid":"link-reports",children:[p.jsx(aA,{className:"h-5 w-5 mr-4 text-muted-foreground"}),"Relatrios"]}),p.jsxs("button",{onClick:()=>s("/settings"),className:"flex items-center w-full px-6 py-3 text-foreground hover:bg-accent transition-colors","data-testid":"link-settings",children:[p.jsx(cK,{className:"h-5 w-5 mr-4 text-muted-foreground"}),"Configuraes"]}),p.jsx("div",{className:"border-t border-border mt-2 pt-2",children:p.jsxs("button",{onClick:a,className:"flex items-center w-full px-6 py-3 text-destructive hover:bg-destructive/10 transition-colors","data-testid":"button-logout",children:[p.jsx(_V,{className:"h-5 w-5 mr-4"}),"Sair"]})})]})]})]})}const Xne={"/home":"Incio","/doctors":"Mdicos","/medications":"Medicamentos","/reports":"Relatrios","/profile":"Meu Perfil","/settings":"Configuraes"};function $o({children:t}){const[e,r]=Cn(),[n,i]=O.useState(!1),o=()=>{i(!0)},a=()=>{i(!1)},s=c=>{r(c)},l=Xne[e]||"DorLog";return p.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[p.jsx(Gne,{title:l,onMenuClick:o}),p.jsx("main",{className:"flex-1 pb-20",children:t}),p.jsx(Qne,{onNavigate:s}),p.jsx(Yne,{isOpen:n,onClose:a,onNavigate:s})]})}function Lo({children:t}){const{currentUser:e,loading:r}=mn();return r?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?p.jsx(p.Fragment,{children:t}):p.jsx(tG,{to:"/login",replace:!0})}const ht=O.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));ht.displayName="Input";var Zne="Label",e6=O.forwardRef((t,e)=>p.jsx(Ge.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));e6.displayName=Zne;var t6=e6;const Jne=Z0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=O.forwardRef(({className:t,...e},r)=>p.jsx(t6,{ref:r,className:Me(Jne(),t),...e}));qe.displayName=t6.displayName;const $t=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$t.displayName="Card";const wo=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));wo.displayName="CardHeader";const xo=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));xo.displayName="CardTitle";const eie=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));eie.displayName="CardDescription";const Lt=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("p-6 pt-0",t),...e}));Lt.displayName="CardContent";const tie=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",t),...e}));tie.displayName="CardFooter";function mP(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function gP(t){const[e,r]=O.useState(void 0);return Zr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;r({width:a,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var yP="Checkbox",[rie,RDe]=qs(yP),[nie,iie]=rie(yP),r6=O.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,m]=O.useState(null),v=pt(e,E=>m(E)),g=O.useRef(!1),b=f?u||!!f.closest("form"):!0,[x=!1,y]=ed({prop:i,defaultProp:o,onChange:c}),w=O.useRef(x);return O.useEffect(()=>{const E=f==null?void 0:f.form;if(E){const S=()=>y(w.current);return E.addEventListener("reset",S),()=>E.removeEventListener("reset",S)}},[f,y]),p.jsxs(nie,{scope:r,state:x,disabled:s,children:[p.jsx(Ge.button,{type:"button",role:"checkbox","aria-checked":Ss(x)?"mixed":x,"aria-required":a,"data-state":o6(x),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:v,onKeyDown:Le(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Le(t.onClick,E=>{y(S=>Ss(S)?!0:!S),b&&(g.current=E.isPropagationStopped(),g.current||E.stopPropagation())})}),b&&p.jsx(oie,{control:f,bubbles:!g.current,name:n,value:l,checked:x,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Ss(o)?!1:o})]})});r6.displayName=yP;var n6="CheckboxIndicator",i6=O.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,o=iie(n6,r);return p.jsx(Fd,{present:n||Ss(o.state)||o.state===!0,children:p.jsx(Ge.span,{"data-state":o6(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});i6.displayName=n6;var oie=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...o}=t,a=O.useRef(null),s=mP(r),l=gP(e);O.useEffect(()=>{const u=a.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==r&&m){const v=new Event("click",{bubbles:n});u.indeterminate=Ss(r),m.call(u,Ss(r)?!1:r),u.dispatchEvent(v)}},[s,r,n]);const c=O.useRef(Ss(r)?!1:r);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...o,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ss(t){return t==="indeterminate"}function o6(t){return Ss(t)?"indeterminate":t?"checked":"unchecked"}var a6=r6,aie=i6;const vP=O.forwardRef(({className:t,...e},r)=>p.jsx(a6,{ref:r,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:p.jsx(aie,{className:Me("flex items-center justify-center text-current"),children:p.jsx(bV,{className:"h-4 w-4"})})}));vP.displayName=a6.displayName;function s6(){return!window.location.hostname.includes("replit")&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")}function sie(){return s6()?"/dorlog":""}function bP(t){return e=>{console.log(" Router Navigation:",{requestedPath:e,isGitHubPages:s6(),basePath:sie()}),t(e)}}function lie(){const[,t]=Cn(),e=bP(t),{login:r,loginWithGoogle:n,loading:i}=mn(),{toast:o}=Ki(),[a,s]=O.useState({email:"",password:"",rememberMe:!1}),[l,c]=O.useState(!1),u=async m=>{if(m.preventDefault(),!a.email.trim()){o({title:"E-mail obrigatrio",description:"Por favor, digite seu e-mail.",variant:"destructive"});return}if(!a.password){o({title:"Senha obrigatria",description:"Por favor, digite sua senha.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email.trim())){o({title:"E-mail invlido",description:"Por favor, digite um e-mail vlido.",variant:"destructive"});return}c(!0);try{await r(a.email,a.password),e("/home")}catch{}finally{c(!1)}},d=async()=>{try{await n(),e("/home")}catch{}},f=(m,v)=>{s(g=>({...g,[m]:v}))};return i?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsx("div",{className:"min-h-screen flex flex-col bg-background",children:p.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 max-w-md mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-primary w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4",children:p.jsx(xV,{className:"h-8 w-8 text-primary-foreground"})}),p.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Bem-vindo ao DorLog"}),p.jsx("p",{className:"text-muted-foreground",children:"Gerencie sua sade de forma inteligente"})]}),p.jsx($t,{children:p.jsxs(Lt,{className:"pt-6",children:[p.jsxs("form",{onSubmit:u,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"E-mail"}),p.jsx(ht,{id:"email",type:"email",value:a.email,onChange:m=>f("email",m.target.value),className:"w-full rounded-xl",placeholder:"seu@email.com","data-testid":"input-email"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Senha"}),p.jsx(ht,{id:"password",type:"password",value:a.password,onChange:m=>f("password",m.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-password"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(vP,{id:"remember",checked:a.rememberMe,onCheckedChange:m=>f("rememberMe",m),"data-testid":"checkbox-remember"}),p.jsx(qe,{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Lembrar-me"})]}),p.jsx(Pe,{type:"button",variant:"link",className:"text-sm text-primary hover:text-primary/80 p-0","data-testid":"button-forgot-password",children:"Esqueci a senha"})]}),p.jsx(Pe,{type:"submit",disabled:l,className:"w-full bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors","data-testid":"button-login",children:l?"Entrando...":"Entrar"})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"ou"})})]}),p.jsxs(Pe,{type:"button",variant:"outline",onClick:d,className:"mt-4 w-full border-border text-foreground rounded-xl font-medium hover:bg-accent transition-colors flex items-center justify-center","data-testid":"button-google-signin",children:[p.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-muted-foreground",children:["No tem uma conta?"," ",p.jsx(Pe,{type:"button",variant:"link",onClick:()=>e("/register"),className:"text-primary font-medium hover:text-primary/80 p-0","data-testid":"link-register",children:"Cadastre-se"})]})})]})})]})})}function Dr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function cie(t,e){const r=Dr(t);return isNaN(e)?qi(t,NaN):(r.setDate(r.getDate()+e),r)}function uE(t,e){const r=Dr(t);if(isNaN(e))return qi(t,NaN);if(!e)return r;const n=r.getDate(),i=qi(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const o=i.getDate();return n>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const l6=6048e5,uie=864e5,die=6e4,fie=36e5;let hie={};function Pb(){return hie}function dp(t,e){var s,l,c,u;const r=Pb(),n=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Dr(t),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function pv(t){return dp(t,{weekStartsOn:1})}function c6(t){const e=Dr(t),r=e.getFullYear(),n=qi(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=pv(n),o=qi(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=pv(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function mv(t){const e=Dr(t);return e.setHours(0,0,0,0),e}function xR(t){const e=Dr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function pie(t,e){const r=mv(t),n=mv(e),i=+r-xR(r),o=+n-xR(n);return Math.round((i-o)/uie)}function mie(t){const e=c6(t),r=qi(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),pv(r)}function gie(t){return qi(t,Date.now())}function yie(t,e){const r=mv(t),n=mv(e);return+r==+n}function vie(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bie(t){if(!vie(t)&&typeof t!="number")return!1;const e=Dr(t);return!isNaN(Number(e))}function u6(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function d6(t,e){return+Dr(t)-+Dr(e)}function wie(t,e,r){const n=d6(t,e)/fie;return u6(r==null?void 0:r.roundingMethod)(n)}function xie(t,e,r){const n=d6(t,e)/die;return u6(r==null?void 0:r.roundingMethod)(n)}function Mx(t){const e=Dr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function $x(t){const e=Dr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function _ie(t){const e=Dr(t),r=qi(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Eie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sie=(t,e,r)=>{let n;const i=Eie[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Tie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Aie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cie={date:wu({formats:Tie,defaultWidth:"full"}),time:wu({formats:Aie,defaultWidth:"full"}),dateTime:wu({formats:Pie,defaultWidth:"full"})},Iie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oie=(t,e,r,n)=>Iie[t];function ao(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const kie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Die={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$ie=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Lie={ordinalNumber:$ie,era:ao({values:kie,defaultWidth:"wide"}),quarter:ao({values:Nie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ao({values:Rie,defaultWidth:"wide"}),day:ao({values:jie,defaultWidth:"wide"}),dayPeriod:ao({values:Die,defaultWidth:"wide",formattingValues:Mie,defaultFormattingWidth:"wide"})};function so(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Fie(s,d=>d.test(a)):Vie(s,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function Vie(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Fie(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function f6(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const Uie=/^(\d+)(th|st|nd|rd)?/i,Bie=/\d+/i,zie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wie={any:[/^b/i,/^(a|c)/i]},qie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hie={any:[/1/i,/2/i,/3/i,/4/i]},Gie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jie={ordinalNumber:f6({matchPattern:Uie,parsePattern:Bie,valueCallback:t=>parseInt(t,10)}),era:so({matchPatterns:zie,defaultMatchWidth:"wide",parsePatterns:Wie,defaultParseWidth:"any"}),quarter:so({matchPatterns:qie,defaultMatchWidth:"wide",parsePatterns:Hie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:so({matchPatterns:Gie,defaultMatchWidth:"wide",parsePatterns:Kie,defaultParseWidth:"any"}),day:so({matchPatterns:Qie,defaultMatchWidth:"wide",parsePatterns:Yie,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:Xie,defaultMatchWidth:"any",parsePatterns:Zie,defaultParseWidth:"any"})},eoe={code:"en-US",formatDistance:Sie,formatLong:Cie,formatRelative:Oie,localize:Lie,match:Jie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function toe(t){const e=Dr(t);return pie(e,_ie(e))+1}function roe(t){const e=Dr(t),r=+pv(e)-+mie(e);return Math.round(r/l6)+1}function h6(t,e){var u,d,f,m;const r=Dr(t),n=r.getFullYear(),i=Pb(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=qi(t,0);a.setFullYear(n+1,0,o),a.setHours(0,0,0,0);const s=dp(a,e),l=qi(t,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=dp(l,e);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function noe(t,e){var s,l,c,u;const r=Pb(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=h6(t,e),o=qi(t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),dp(o,e)}function ioe(t,e){const r=Dr(t),n=+dp(r,e)-+noe(r,e);return Math.round(n/l6)+1}function bt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const La={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return bt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):bt(r+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return bt(i,e.length)}},Oc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_R={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return La.y(t,e)},Y:function(t,e,r,n){const i=h6(t,n),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return bt(a,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):bt(o,e.length)},R:function(t,e){const r=c6(t);return bt(r,e.length)},u:function(t,e){const r=t.getFullYear();return bt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return bt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return bt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return La.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return bt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=ioe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,r){const n=roe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):bt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):La.d(t,e)},D:function(t,e,r){const n=toe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):bt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return bt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return bt(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Oc.noon:n===0?i=Oc.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Oc.evening:n>=12?i=Oc.afternoon:n>=4?i=Oc.morning:i=Oc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return La.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):La.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):bt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):La.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):La.s(t,e)},S:function(t,e){return La.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return SR(n);case"XXXX":case"XX":return pl(n);case"XXXXX":case"XXX":default:return pl(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return SR(n);case"xxxx":case"xx":return pl(n);case"xxxxx":case"xxx":default:return pl(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ER(n,":");case"OOOO":default:return"GMT"+pl(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ER(n,":");case"zzzz":default:return"GMT"+pl(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return bt(n,e.length)},T:function(t,e,r){const n=t.getTime();return bt(n,e.length)}};function ER(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+bt(o,2)}function SR(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):pl(t,e)}function pl(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=bt(Math.trunc(n/60),2),o=bt(n%60,2);return r+i+e+o}const TR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},p6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ooe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return TR(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",TR(n,e)).replace("{{time}}",p6(i,e))},aoe={p:p6,P:ooe},soe=/^D+$/,loe=/^Y+$/,coe=["D","DD","YY","YYYY"];function uoe(t){return soe.test(t)}function doe(t){return loe.test(t)}function foe(t,e,r){const n=hoe(t,e,r);if(console.warn(n),coe.includes(t))throw new RangeError(n)}function hoe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const poe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,moe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,goe=/^'([^]*?)'?$/,yoe=/''/g,voe=/[a-zA-Z]/;function zo(t,e,r){var u,d,f,m,v,g,b,x;const n=Pb(),i=(r==null?void 0:r.locale)??n.locale??eoe,o=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,s=Dr(t);if(!bie(s))throw new RangeError("Invalid time value");let l=e.match(moe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const E=aoe[w];return E(y,i.formatLong)}return y}).join("").match(poe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:boe(y)};if(_R[w])return{isToken:!0,value:y};if(w.match(voe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&doe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&uoe(w))&&foe(w,e,String(t));const E=_R[w[0]];return E(s,w,i.localize,c)}).join("")}function boe(t){const e=t.match(goe);return e?e[1].replace(yoe,"'"):t}function woe(t,e){return cie(t,-e)}function xoe(t){return yie(t,woe(gie(t),1))}function _oe(t,e){return uE(t,-e)}const Eoe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Soe=(t,e,r)=>{let n;const i=Eoe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},Toe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Aoe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Poe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Coe={date:wu({formats:Toe,defaultWidth:"full"}),time:wu({formats:Aoe,defaultWidth:"full"}),dateTime:wu({formats:Poe,defaultWidth:"full"})},Ioe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Ooe=(t,e,r,n)=>{const i=Ioe[t];return typeof i=="function"?i(e):i},koe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Noe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Roe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},joe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Doe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Moe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},$oe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},Loe={ordinalNumber:$oe,era:ao({values:koe,defaultWidth:"wide"}),quarter:ao({values:Noe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ao({values:Roe,defaultWidth:"wide"}),day:ao({values:joe,defaultWidth:"wide"}),dayPeriod:ao({values:Doe,defaultWidth:"wide",formattingValues:Moe,defaultFormattingWidth:"wide"})},Voe=/^(\d+)[o]?/i,Foe=/\d+/i,Uoe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Boe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},zoe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Woe={any:[/1/i,/2/i,/3/i,/4/i]},qoe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Hoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Goe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Koe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Qoe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Yoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Xoe={ordinalNumber:f6({matchPattern:Voe,parsePattern:Foe,valueCallback:t=>parseInt(t,10)}),era:so({matchPatterns:Uoe,defaultMatchWidth:"wide",parsePatterns:Boe,defaultParseWidth:"any"}),quarter:so({matchPatterns:zoe,defaultMatchWidth:"wide",parsePatterns:Woe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:so({matchPatterns:qoe,defaultMatchWidth:"wide",parsePatterns:Hoe,defaultParseWidth:"any"}),day:so({matchPatterns:Goe,defaultMatchWidth:"wide",parsePatterns:Koe,defaultParseWidth:"any"}),dayPeriod:so({matchPatterns:Qoe,defaultMatchWidth:"any",parsePatterns:Yoe,defaultParseWidth:"any"})},dE={code:"pt-BR",formatDistance:Soe,formatLong:Coe,formatRelative:Ooe,localize:Loe,match:Xoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zoe(){const{currentUser:t,firebaseUser:e}=mn(),[,r]=Cn(),n=s=>{const l=new Date,c=xie(l,s),u=wie(l,s);return c<1?"Agora":c<60?`H ${c} min`:u<24?`H ${u}h`:xoe(s)?"Ontem":zo(s,"dd/MM",{locale:dE})},i=async()=>{if(!(e!=null&&e.email))return console.log(" Usurio no autenticado"),[];const s=[],l=new Date,c=new Date(l);c.setDate(c.getDate()-1);try{const u=[l.toISOString().split("T")[0],c.toISOString().split("T")[0]];for(const d of u){const f=`${e.email}_${d}`,m=Yr(gt,"report_diario",f),v=await Zo(m);if(v.exists()){const g=v.data();g.quizzes&&Array.isArray(g.quizzes)&&g.quizzes.forEach((b,x)=>{if(b.timestamp){const y=b.timestamp.toDate(),E={matinal:{title:"Dirio da Manh",icon:Pk,color:"text-orange-500",bg:"bg-orange-100"},noturno:{title:"Dirio da Noite",icon:Tk,color:"text-indigo-500",bg:"bg-indigo-100"},emergencial:{title:"Registro de Crise",icon:x1,color:"text-red-500",bg:"bg-red-100"}}[b.tipo]||{title:"Quiz",icon:vV,color:"text-blue-500",bg:"bg-blue-100"};s.push({id:`quiz-${d}-${x}`,type:"quiz",title:`${E.title} respondido`,time:n(y),timestamp:y,icon:E.icon,iconColor:E.color,bgColor:E.bg,quizType:b.tipo})}}),g.medicamentos&&Array.isArray(g.medicamentos)&&g.medicamentos.forEach(b=>{b.frequencia&&Array.isArray(b.frequencia)&&b.frequencia.forEach((x,y)=>{if(x.status==="tomado"&&x.timestampTomado){const w=x.timestampTomado.toDate();s.push({id:`med-${d}-${b.medicamentoId}-${y}`,type:"medication",title:`${b.nome} tomado`,time:n(w),timestamp:w,icon:sA,iconColor:"text-green-500",bgColor:"bg-green-100",medicationName:b.nome})}})})}}return s.sort((d,f)=>f.timestamp.getTime()-d.timestamp.getTime()).slice(0,10)}catch(u){return console.error(" Erro ao buscar atividades recentes:",u),[]}},{data:o=[],isLoading:a}=Jf({queryKey:["recent-activities",e==null?void 0:e.email],queryFn:i,enabled:!!(e!=null&&e.email),refetchInterval:3e4});return p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 rounded-2xl p-6 text-primary-foreground mb-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-2","data-testid":"text-welcome",children:["Ol, ",(t==null?void 0:t.name)||"Usurio","!"]}),p.jsx("p",{className:"text-primary-foreground/80",children:"Como est se sentindo hoje?"})]}),p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[p.jsx(cy,{className:"h-5 w-5 text-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Aes Rpidas"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs(Pe,{variant:"outline",className:"group bg-gradient-to-br from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 border-red-200 hover:border-red-300 hover:shadow-xl hover:-translate-y-1 active:translate-y-0 active:scale-95 transition-all duration-300 ease-out h-28 flex-col space-y-3 rounded-2xl p-5 animate-in slide-in-from-bottom-4 fade-in-0 duration-500 delay-[0ms]","data-testid":"button-register-pain",onClick:()=>r("/quiz/emergencial"),children:[p.jsx("div",{className:"bg-gradient-to-br from-red-500 to-red-600 group-hover:from-red-600 group-hover:to-red-700 group-hover:scale-110 group-active:scale-95 w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-300 ease-out",children:p.jsx(x1,{className:"h-7 w-7 text-white group-hover:animate-pulse group-hover:rotate-12 transition-all duration-300 ease-out"})}),p.jsx("p",{className:"text-sm font-semibold text-red-700 group-hover:text-red-800 group-hover:scale-105 transition-all duration-300 ease-out",children:"Registrar Crise"})]}),p.jsxs(Pe,{variant:"outline",className:"group bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border-blue-200 hover:border-blue-300 hover:shadow-xl hover:-translate-y-1 active:translate-y-0 active:scale-95 transition-all duration-300 ease-out h-28 flex-col space-y-3 rounded-2xl p-5 animate-in slide-in-from-bottom-4 fade-in-0 duration-500 delay-[150ms]","data-testid":"button-take-medication",onClick:()=>r("/medications"),children:[p.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 group-hover:from-blue-600 group-hover:to-blue-700 group-hover:scale-110 group-active:scale-95 w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-300 ease-out",children:p.jsx(J0,{className:"h-7 w-7 text-white group-hover:animate-bounce group-hover:-rotate-12 transition-all duration-300 ease-out"})}),p.jsx("p",{className:"text-sm font-semibold text-blue-700 group-hover:text-blue-800 group-hover:scale-105 transition-all duration-300 ease-out",children:"Tomar Remdio"})]}),p.jsxs(Pe,{variant:"outline",className:"group bg-gradient-to-br from-amber-50 to-orange-100 hover:from-amber-100 hover:to-orange-200 border-orange-200 hover:border-orange-300 hover:shadow-xl hover:-translate-y-1 active:translate-y-0 active:scale-95 transition-all duration-300 ease-out h-28 flex-col space-y-3 rounded-2xl p-5 animate-in slide-in-from-bottom-4 fade-in-0 duration-500 delay-[300ms]","data-testid":"button-diary-morning",onClick:()=>r("/quiz/matinal"),children:[p.jsx("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 group-hover:from-amber-500 group-hover:to-orange-600 group-hover:scale-110 group-active:scale-95 w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-300 ease-out",children:p.jsx(Pk,{className:"h-7 w-7 text-white group-hover:animate-spin group-hover:scale-110 transition-all duration-500 ease-out"})}),p.jsx("p",{className:"text-sm font-semibold text-orange-700 group-hover:text-orange-800 group-hover:scale-105 transition-all duration-300 ease-out",children:"Dirio Manh"})]}),p.jsxs(Pe,{variant:"outline",className:"group bg-gradient-to-br from-indigo-50 to-purple-100 hover:from-indigo-100 hover:to-purple-200 border-indigo-200 hover:border-indigo-300 hover:shadow-xl hover:-translate-y-1 active:translate-y-0 active:scale-95 transition-all duration-300 ease-out h-28 flex-col space-y-3 rounded-2xl p-5 animate-in slide-in-from-bottom-4 fade-in-0 duration-500 delay-[450ms]","data-testid":"button-diary-night",onClick:()=>r("/quiz/noturno"),children:[p.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 group-hover:from-indigo-700 group-hover:to-purple-800 group-hover:scale-110 group-active:scale-95 w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-all duration-300 ease-out",children:p.jsx(Tk,{className:"h-7 w-7 text-white group-hover:animate-pulse group-hover:rotate-12 group-hover:scale-110 transition-all duration-500 ease-out"})}),p.jsx("p",{className:"text-sm font-semibold text-indigo-700 group-hover:text-indigo-800 group-hover:scale-105 transition-all duration-300 ease-out",children:"Dirio Noite"})]})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(cy,{className:"h-5 w-5 text-primary"}),p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Atividade Recente"})]}),a?p.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>p.jsx($t,{className:"shadow-sm border border-border",children:p.jsx(Lt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 animate-pulse mr-3"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),p.jsx("div",{className:"h-3 bg-gray-100 rounded animate-pulse w-1/2"})]})]})})},s))}):o.length>0?p.jsxs("div",{className:"space-y-3",children:[o.map(s=>{const l=s.icon;return p.jsx($t,{className:"shadow-sm border border-border hover:shadow-md transition-shadow duration-200",children:p.jsx(Lt,{className:"p-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`${s.bgColor} w-10 h-10 rounded-lg flex items-center justify-center mr-3 transition-transform hover:scale-110`,children:p.jsx(l,{className:`h-5 w-5 ${s.iconColor}`})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-foreground","data-testid":`text-activity-${s.id}`,children:s.title}),p.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-time-${s.id}`,children:s.time})]}),s.type==="quiz"&&p.jsx("div",{className:"text-xs text-muted-foreground bg-gray-100 px-2 py-1 rounded-full",children:"Quiz"}),s.type==="medication"&&p.jsx("div",{className:"text-xs text-muted-foreground bg-green-50 text-green-700 px-2 py-1 rounded-full",children:"Medicamento"})]})})},s.id)}),o.length>0&&p.jsx("div",{className:"text-center pt-4",children:p.jsx(Pe,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground","data-testid":"button-view-reports",onClick:()=>r("/reports"),children:"Ver histrico completo"})})]}):p.jsx($t,{className:"shadow-sm border border-border",children:p.jsx(Lt,{className:"p-6 text-center",children:p.jsxs("div",{className:"text-muted-foreground mb-2",children:[p.jsx(cy,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),p.jsx("p",{className:"text-lg font-medium",children:"Nenhuma atividade recente"}),p.jsx("p",{className:"text-sm",children:"Comece registrando um dirio ou tomando um medicamento"})]})})})]})]})}var Joe=O$[" useId ".trim().toString()]||(()=>{}),eae=0;function xu(t){const[e,r]=O.useState(Joe());return Zr(()=>{r(n=>n??String(eae++))},[t]),e?`radix-${e}`:""}var Lx="focusScope.autoFocusOnMount",Vx="focusScope.autoFocusOnUnmount",AR={bubbles:!1,cancelable:!0},tae="FocusScope",wP=O.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=O.useState(null),c=Gn(i),u=Gn(o),d=O.useRef(null),f=pt(e,g=>l(g)),m=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let g=function(w){if(m.paused||!s)return;const E=w.target;s.contains(E)?d.current=E:Fa(d.current,{select:!0})},b=function(w){if(m.paused||!s)return;const E=w.relatedTarget;E!==null&&(s.contains(E)||Fa(d.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Fa(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const y=new MutationObserver(x);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),y.disconnect()}}},[n,s,m.paused]),O.useEffect(()=>{if(s){CR.add(m);const g=document.activeElement;if(!s.contains(g)){const x=new CustomEvent(Lx,AR);s.addEventListener(Lx,c),s.dispatchEvent(x),x.defaultPrevented||(rae(sae(m6(s)),{select:!0}),document.activeElement===g&&Fa(s))}return()=>{s.removeEventListener(Lx,c),setTimeout(()=>{const x=new CustomEvent(Vx,AR);s.addEventListener(Vx,u),s.dispatchEvent(x),x.defaultPrevented||Fa(g??document.body,{select:!0}),s.removeEventListener(Vx,u),CR.remove(m)},0)}}},[s,c,u,m]);const v=O.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const y=g.currentTarget,[w,E]=nae(y);w&&E?!g.shiftKey&&x===E?(g.preventDefault(),r&&Fa(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Fa(E,{select:!0})):x===y&&g.preventDefault()}},[r,n,m.paused]);return p.jsx(Ge.div,{tabIndex:-1,...a,ref:f,onKeyDown:v})});wP.displayName=tae;function rae(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Fa(n,{select:e}),document.activeElement!==r)return}function nae(t){const e=m6(t),r=PR(e,t),n=PR(e.reverse(),t);return[r,n]}function m6(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function PR(t,e){for(const r of t)if(!iae(r,{upTo:e}))return r}function iae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oae(t){return t instanceof HTMLInputElement&&"select"in t}function Fa(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&oae(t)&&e&&t.select()}}var CR=aae();function aae(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=IR(t,e),t.unshift(e)},remove(e){var r;t=IR(t,e),(r=t[0])==null||r.resume()}}}function IR(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sae(t){return t.filter(e=>e.tagName!=="A")}var Fx=0;function g6(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??OR()),document.body.insertAdjacentElement("beforeend",t[1]??OR()),Fx++,()=>{Fx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fx--}},[])}function OR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lo=function(){return lo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},lo.apply(this,arguments)};function y6(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function lae(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var by="right-scroll-bar-position",wy="width-before-scroll-bar",cae="with-scroll-bars-hidden",uae="--removed-body-scroll-bar-size";function Ux(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dae(t,e){var r=O.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var fae=typeof window<"u"?O.useLayoutEffect:O.useEffect,kR=new WeakMap;function hae(t,e){var r=dae(null,function(n){return t.forEach(function(i){return Ux(i,n)})});return fae(function(){var n=kR.get(r);if(n){var i=new Set(n),o=new Set(t),a=r.current;i.forEach(function(s){o.has(s)||Ux(s,null)}),o.forEach(function(s){i.has(s)||Ux(s,a)})}kR.set(r,t)},[t]),r}function pae(t){return t}function mae(t,e){e===void 0&&(e=pae);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var a=e(o,n);return r.push(a),function(){r=r.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(s){return o(s)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var s=r;r=[],s.forEach(o),a=r}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),r}}}};return i}function gae(t){t===void 0&&(t={});var e=mae(null);return e.options=lo({async:!0,ssr:!1},t),e}var v6=function(t){var e=t.sideCar,r=y6(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,lo({},r))};v6.isSideCarExport=!0;function yae(t,e){return t.useMedium(e),v6}var b6=gae(),Bx=function(){},Cb=O.forwardRef(function(t,e){var r=O.useRef(null),n=O.useState({onScrollCapture:Bx,onWheelCapture:Bx,onTouchMoveCapture:Bx}),i=n[0],o=n[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,m=t.noIsolation,v=t.inert,g=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,y=t.gapMode,w=y6(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,S=hae([r,e]),C=lo(lo({},w),i);return O.createElement(O.Fragment,null,u&&O.createElement(E,{sideCar:b6,removeScrollBar:c,shards:d,noIsolation:m,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:y}),a?O.cloneElement(O.Children.only(s),lo(lo({},C),{ref:S})):O.createElement(x,lo({},C,{className:l,ref:S}),s))});Cb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cb.classNames={fullWidth:wy,zeroRight:by};var vae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vae();return e&&t.setAttribute("nonce",e),t}function wae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _ae=function(){var t=0,e=null;return{add:function(r){t==0&&(e=bae())&&(wae(e,r),xae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Eae=function(){var t=_ae();return function(e,r){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},w6=function(){var t=Eae(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Sae={left:0,top:0,right:0,gap:0},zx=function(t){return parseInt(t||"",10)||0},Tae=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zx(r),zx(n),zx(i)]},Aae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Sae;var e=Tae(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Pae=w6(),_u="data-scroll-locked",Cae=function(t,e,r,n){var i=t.left,o=t.top,a=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(cae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(by,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(wy,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(by," .").concat(by,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_u,`] {
    `).concat(uae,": ").concat(s,`px;
  }
`)},NR=function(){var t=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(t)?t:0},Iae=function(){O.useEffect(function(){return document.body.setAttribute(_u,(NR()+1).toString()),function(){var t=NR()-1;t<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,t.toString())}},[])},Oae=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Iae();var o=O.useMemo(function(){return Aae(i)},[i]);return O.createElement(Pae,{styles:Cae(o,!e,i,r?"":"!important")})},fE=!1;if(typeof window<"u")try{var Og=Object.defineProperty({},"passive",{get:function(){return fE=!0,!0}});window.addEventListener("test",Og,Og),window.removeEventListener("test",Og,Og)}catch{fE=!1}var kc=fE?{passive:!1}:!1,kae=function(t){return t.tagName==="TEXTAREA"},x6=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!kae(t)&&r[e]==="visible")},Nae=function(t){return x6(t,"overflowY")},Rae=function(t){return x6(t,"overflowX")},RR=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=_6(t,n);if(i){var o=E6(t,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},jae=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Dae=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},_6=function(t,e){return t==="v"?Nae(e):Rae(e)},E6=function(t,e){return t==="v"?jae(e):Dae(e)},Mae=function(t,e){return t==="h"&&e==="rtl"?-1:1},$ae=function(t,e,r,n,i){var o=Mae(t,window.getComputedStyle(e).direction),a=o*n,s=r.target,l=e.contains(s),c=!1,u=a>0,d=0,f=0;do{var m=E6(t,s),v=m[0],g=m[1],b=m[2],x=g-b-o*v;(v||x)&&_6(t,s)&&(d+=x,f+=v),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},kg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jR=function(t){return[t.deltaX,t.deltaY]},DR=function(t){return t&&"current"in t?t.current:t},Lae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fae=0,Nc=[];function Uae(t){var e=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),i=O.useState(Fae++)[0],o=O.useState(w6)[0],a=O.useRef(t);O.useEffect(function(){a.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lae([t.lockRef.current],(t.shards||[]).map(DR),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=O.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=kg(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],E="deltaY"in g?g.deltaY:y[1]-x[1],S,C=g.target,_=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&_==="h"&&C.type==="range")return!1;var T=RR(_,C);if(!T)return!0;if(T?S=_:(S=_==="v"?"h":"v",T=RR(_,C)),!T)return!1;if(!n.current&&"changedTouches"in g&&(w||E)&&(n.current=S),!S)return!0;var A=n.current||S;return $ae(A,b,g,A==="h"?w:E,!0)},[]),l=O.useCallback(function(g){var b=g;if(!(!Nc.length||Nc[Nc.length-1]!==o)){var x="deltaY"in b?jR(b):kg(b),y=e.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&Lae(S.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(DR).filter(Boolean).filter(function(S){return S.contains(b.target)}),E=w.length>0?s(b,w[0]):!a.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),c=O.useCallback(function(g,b,x,y){var w={name:g,delta:b,target:x,should:y,shadowParent:Bae(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),u=O.useCallback(function(g){r.current=kg(g),n.current=void 0},[]),d=O.useCallback(function(g){c(g.type,jR(g),g.target,s(g,t.lockRef.current))},[]),f=O.useCallback(function(g){c(g.type,kg(g),g.target,s(g,t.lockRef.current))},[]);O.useEffect(function(){return Nc.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,kc),document.addEventListener("touchmove",l,kc),document.addEventListener("touchstart",u,kc),function(){Nc=Nc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,kc),document.removeEventListener("touchmove",l,kc),document.removeEventListener("touchstart",u,kc)}},[]);var m=t.removeScrollBar,v=t.inert;return O.createElement(O.Fragment,null,v?O.createElement(o,{styles:Vae(i)}):null,m?O.createElement(Oae,{gapMode:t.gapMode}):null)}function Bae(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zae=yae(b6,Uae);var xP=O.forwardRef(function(t,e){return O.createElement(Cb,lo({},t,{ref:e,sideCar:zae}))});xP.classNames=Cb.classNames;var Wae=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Rc=new WeakMap,Ng=new WeakMap,Rg={},Wx=0,S6=function(t){return t&&(t.host||S6(t.parentNode))},qae=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=S6(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Hae=function(t,e,r,n){var i=qae(e,Array.isArray(t)?t:[t]);Rg[r]||(Rg[r]=new WeakMap);var o=Rg[r],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var m=f.getAttribute(n),v=m!==null&&m!=="false",g=(Rc.get(f)||0)+1,b=(o.get(f)||0)+1;Rc.set(f,g),o.set(f,b),a.push(f),g===1&&v&&Ng.set(f,!0),b===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),s.clear(),Wx++,function(){a.forEach(function(d){var f=Rc.get(d)-1,m=o.get(d)-1;Rc.set(d,f),o.set(d,m),f||(Ng.has(d)||d.removeAttribute(n),Ng.delete(d)),m||d.removeAttribute(r)}),Wx--,Wx||(Rc=new WeakMap,Rc=new WeakMap,Ng=new WeakMap,Rg={})}},T6=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Wae(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Hae(n,i,r,"aria-hidden")):function(){return null}},_P="Dialog",[A6,P6]=qs(_P),[Gae,Qi]=A6(_P),C6=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=O.useRef(null),l=O.useRef(null),[c=!1,u]=ed({prop:n,defaultProp:i,onChange:o});return p.jsx(Gae,{scope:e,triggerRef:s,contentRef:l,contentId:xu(),titleId:xu(),descriptionId:xu(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(d=>!d),[u]),modal:a,children:r})};C6.displayName=_P;var I6="DialogTrigger",O6=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qi(I6,r),o=pt(e,i.triggerRef);return p.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TP(i.open),...n,ref:o,onClick:Le(t.onClick,i.onOpenToggle)})});O6.displayName=I6;var EP="DialogPortal",[Kae,k6]=A6(EP,{forceMount:void 0}),N6=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,o=Qi(EP,e);return p.jsx(Kae,{scope:e,forceMount:r,children:O.Children.map(n,a=>p.jsx(Fd,{present:r||o.open,children:p.jsx(K0,{asChild:!0,container:i,children:a})}))})};N6.displayName=EP;var gv="DialogOverlay",R6=O.forwardRef((t,e)=>{const r=k6(gv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Qi(gv,t.__scopeDialog);return o.modal?p.jsx(Fd,{present:n||o.open,children:p.jsx(Yae,{...i,ref:e})}):null});R6.displayName=gv;var Qae=Ju("DialogOverlay.RemoveScroll"),Yae=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qi(gv,r);return p.jsx(xP,{as:Qae,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Ge.div,{"data-state":TP(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),rc="DialogContent",j6=O.forwardRef((t,e)=>{const r=k6(rc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Qi(rc,t.__scopeDialog);return p.jsx(Fd,{present:n||o.open,children:o.modal?p.jsx(Xae,{...i,ref:e}):p.jsx(Zae,{...i,ref:e})})});j6.displayName=rc;var Xae=O.forwardRef((t,e)=>{const r=Qi(rc,t.__scopeDialog),n=O.useRef(null),i=pt(e,r.contentRef,n);return O.useEffect(()=>{const o=n.current;if(o)return T6(o)},[]),p.jsx(D6,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,o=>o.preventDefault())})}),Zae=O.forwardRef((t,e)=>{const r=Qi(rc,t.__scopeDialog),n=O.useRef(!1),i=O.useRef(!1);return p.jsx(D6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),D6=O.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=Qi(rc,r),l=O.useRef(null),c=pt(e,l);return g6(),p.jsxs(p.Fragment,{children:[p.jsx(wP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:p.jsx(G0,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":TP(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(ese,{titleId:s.titleId}),p.jsx(rse,{contentRef:l,descriptionId:s.descriptionId})]})]})}),SP="DialogTitle",M6=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qi(SP,r);return p.jsx(Ge.h2,{id:i.titleId,...n,ref:e})});M6.displayName=SP;var $6="DialogDescription",L6=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qi($6,r);return p.jsx(Ge.p,{id:i.descriptionId,...n,ref:e})});L6.displayName=$6;var V6="DialogClose",F6=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Qi(V6,r);return p.jsx(Ge.button,{type:"button",...n,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});F6.displayName=V6;function TP(t){return t?"open":"closed"}var U6="DialogTitleWarning",[Jae,B6]=sG(U6,{contentName:rc,titleName:SP,docsSlug:"dialog"}),ese=({titleId:t})=>{const e=B6(U6),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},tse="DialogDescriptionWarning",rse=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B6(tse).contentName}}.`;return O.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},z6=C6,nse=O6,W6=N6,AP=R6,PP=j6,CP=M6,IP=L6,OP=F6;const q6=z6,ise=W6,H6=O.forwardRef(({className:t,...e},r)=>p.jsx(AP,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));H6.displayName=AP.displayName;const kP=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(ise,{children:[p.jsx(H6,{}),p.jsxs(PP,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,p.jsxs(OP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(eb,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kP.displayName=PP.displayName;const NP=({className:t,...e})=>p.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});NP.displayName="DialogHeader";const RP=({className:t,...e})=>p.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});RP.displayName="DialogFooter";const jP=O.forwardRef(({className:t,...e},r)=>p.jsx(CP,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",t),...e}));jP.displayName=CP.displayName;const ose=O.forwardRef(({className:t,...e},r)=>p.jsx(IP,{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));ose.displayName=IP.displayName;var G6="AlertDialog",[ase,jDe]=qs(G6,[P6]),Pa=P6(),K6=t=>{const{__scopeAlertDialog:e,...r}=t,n=Pa(e);return p.jsx(z6,{...n,...r,modal:!0})};K6.displayName=G6;var sse="AlertDialogTrigger",Q6=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Pa(r);return p.jsx(nse,{...i,...n,ref:e})});Q6.displayName=sse;var lse="AlertDialogPortal",Y6=t=>{const{__scopeAlertDialog:e,...r}=t,n=Pa(e);return p.jsx(W6,{...n,...r})};Y6.displayName=lse;var cse="AlertDialogOverlay",X6=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Pa(r);return p.jsx(AP,{...i,...n,ref:e})});X6.displayName=cse;var Eu="AlertDialogContent",[use,dse]=ase(Eu),fse=dG("AlertDialogContent"),Z6=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,o=Pa(r),a=O.useRef(null),s=pt(e,a),l=O.useRef(null);return p.jsx(Jae,{contentName:Eu,titleName:J6,docsSlug:"alert-dialog",children:p.jsx(use,{scope:r,cancelRef:l,children:p.jsxs(PP,{role:"alertdialog",...o,...i,ref:s,onOpenAutoFocus:Le(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(fse,{children:n}),p.jsx(pse,{contentRef:a})]})})})});Z6.displayName=Eu;var J6="AlertDialogTitle",eU=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Pa(r);return p.jsx(CP,{...i,...n,ref:e})});eU.displayName=J6;var tU="AlertDialogDescription",rU=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Pa(r);return p.jsx(IP,{...i,...n,ref:e})});rU.displayName=tU;var hse="AlertDialogAction",nU=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Pa(r);return p.jsx(OP,{...i,...n,ref:e})});nU.displayName=hse;var iU="AlertDialogCancel",oU=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=dse(iU,r),o=Pa(r),a=pt(e,i);return p.jsx(OP,{...o,...n,ref:a})});oU.displayName=iU;var pse=({contentRef:t})=>{const e=`\`${Eu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Eu}\` by passing a \`${tU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Eu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},mse=K6,gse=Q6,yse=Y6,aU=X6,sU=Z6,lU=nU,cU=oU,uU=eU,dU=rU;const fU=mse,hU=gse,vse=yse,pU=O.forwardRef(({className:t,...e},r)=>p.jsx(aU,{className:Me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));pU.displayName=aU.displayName;const DP=O.forwardRef(({className:t,...e},r)=>p.jsxs(vse,{children:[p.jsx(pU,{}),p.jsx(sU,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));DP.displayName=sU.displayName;const MP=({className:t,...e})=>p.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",t),...e});MP.displayName="AlertDialogHeader";const $P=({className:t,...e})=>p.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$P.displayName="AlertDialogFooter";const LP=O.forwardRef(({className:t,...e},r)=>p.jsx(uU,{ref:r,className:Me("text-lg font-semibold",t),...e}));LP.displayName=uU.displayName;const VP=O.forwardRef(({className:t,...e},r)=>p.jsx(dU,{ref:r,className:Me("text-sm text-muted-foreground",t),...e}));VP.displayName=dU.displayName;const FP=O.forwardRef(({className:t,...e},r)=>p.jsx(lU,{ref:r,className:Me(pP(),t),...e}));FP.displayName=lU.displayName;const UP=O.forwardRef(({className:t,...e},r)=>p.jsx(cU,{ref:r,className:Me(pP({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));UP.displayName=cU.displayName;function bse(){const[,t]=Cn(),[e,r]=O.useState([]),[n,i]=O.useState(!0),[o,a]=O.useState(null),[s,l]=O.useState(!1),[c,u]=O.useState(!1),{firebaseUser:d}=mn(),{toast:f}=Ki(),m=()=>{t("/doctors/add")},v=y=>{a(y),l(!0)},g=async y=>{if(y.preventDefault(),!(!o||!d)){u(!0);try{const w=new FormData(y.currentTarget),E={nome:w.get("nome"),especialidade:w.get("especialidade"),crm:w.get("crm"),contato:{telefone:w.get("telefone"),email:w.get("email")}},S=Yr(gt,"medicos",o.id);await Es(S,E),l(!1),a(null),x(),f({title:"Sucesso",description:"Mdico atualizado com sucesso!"})}catch(w){console.error(" Erro ao atualizar mdico:",w),f({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o mdico"})}finally{u(!1)}}},b=async(y,w)=>{if(d)try{const E=Yr(gt,"medicos",y);await Tb(E),x(),f({title:"Sucesso",description:`Mdico ${w} removido com sucesso!`})}catch(E){console.error(" Erro ao deletar mdico:",E),f({variant:"destructive",title:"Erro",description:"No foi possvel remover o mdico"})}},x=async()=>{if(!d){i(!1);return}try{console.log(" Buscando mdicos para usurio:",d.uid);const y=cn(gt,"medicos"),w=Bn(y,xs("usuarioId","==",d.uid)),E=await zn(w),S=[];E.forEach(_=>{var A,N;const T=_.data();S.push({id:_.id,nome:T.nome||"",especialidade:T.especialidade||"",crm:T.crm||"",contato:{telefone:((A=T.contato)==null?void 0:A.telefone)||"",email:((N=T.contato)==null?void 0:N.email)||""},usuarioId:T.usuarioId||""})});const C=S.sort((_,T)=>_.nome.localeCompare(T.nome));r(C),console.log(" Mdicos carregados:",C.length)}catch(y){console.error(" Erro ao buscar mdicos:",y),f({variant:"destructive",title:"Erro",description:"No foi possvel carregar a lista de mdicos"})}finally{i(!1)}};return O.useEffect(()=>{x()},[d]),n?p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meus Mdicos"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Gerencie sua equipe mdica e mantenha as informaes atualizadas"})]}),p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx(mo,{className:"h-8 w-8 animate-spin text-primary"})})]}):p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Meus Mdicos"}),p.jsxs(Pe,{size:"sm",className:"bg-primary text-primary-foreground rounded-xl hover:bg-primary/90","data-testid":"button-add-doctor",onClick:m,children:[p.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Gerencie sua equipe mdica e mantenha as informaes atualizadas"})]}),e.length===0?p.jsx($t,{className:"shadow-sm border border-border",children:p.jsx(Lt,{className:"p-8 text-center",children:p.jsxs("div",{className:"text-muted-foreground",children:[p.jsx(AV,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum mdico cadastrado"}),p.jsx("p",{className:"text-sm mb-6",children:"Adicione seus mdicos para ter acesso rpido s informaes de contato e especialidades"}),p.jsxs(Pe,{className:"bg-primary text-primary-foreground rounded-xl hover:bg-primary/90","data-testid":"button-add-first-doctor",onClick:m,children:[p.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Mdico"]})]})})}):p.jsx("div",{className:"space-y-3",children:e.map(y=>p.jsx($t,{className:"shadow-sm border border-border",children:p.jsx(Lt,{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium text-foreground mb-1",children:y.nome}),p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.especialidade}),p.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["CRM: ",y.crm]}),p.jsxs("div",{className:"space-y-1",children:[y.contato.telefone&&p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(lK,{className:"h-4 w-4 mr-2"}),y.contato.telefone]}),y.contato.email&&p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(EV,{className:"h-4 w-4 mr-2"}),y.contato.email]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>v(y),"data-testid":`button-edit-doctor-${y.id}`,children:p.jsx(SV,{className:"h-4 w-4"})}),p.jsxs(fU,{children:[p.jsx(hU,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-doctor-${y.id}`,children:p.jsx(TV,{className:"h-4 w-4"})})}),p.jsxs(DP,{children:[p.jsxs(MP,{children:[p.jsx(LP,{children:"Confirmar Excluso"}),p.jsxs(VP,{children:["Tem certeza que deseja remover o mdico ",p.jsx("strong",{children:y.nome}),"? Esta ao no pode ser desfeita."]})]}),p.jsxs($P,{children:[p.jsx(UP,{children:"Cancelar"}),p.jsx(FP,{onClick:()=>b(y.id,y.nome),className:"bg-red-600 hover:bg-red-700",children:"Remover"})]})]})]})]})]})})},y.id))}),p.jsx(q6,{open:s,onOpenChange:l,children:p.jsxs(kP,{className:"sm:max-w-[425px]",children:[p.jsx(NP,{children:p.jsx(jP,{children:"Editar Mdico"})}),o&&p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-nome",children:"Nome*"}),p.jsx(ht,{id:"edit-nome",name:"nome",defaultValue:o.nome,placeholder:"Digite o nome completo",required:!0,"data-testid":"input-edit-nome"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-especialidade",children:"Especialidade*"}),p.jsx(ht,{id:"edit-especialidade",name:"especialidade",defaultValue:o.especialidade,placeholder:"Ex: Cardiologia, Neurologia",required:!0,"data-testid":"input-edit-especialidade"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-crm",children:"CRM*"}),p.jsx(ht,{id:"edit-crm",name:"crm",defaultValue:o.crm,placeholder:"Digite o CRM",required:!0,"data-testid":"input-edit-crm"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-telefone",children:"Telefone"}),p.jsx(ht,{id:"edit-telefone",name:"telefone",type:"tel",defaultValue:o.contato.telefone,placeholder:"(11) 99999-9999","data-testid":"input-edit-telefone"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-email",children:"Email"}),p.jsx(ht,{id:"edit-email",name:"email",type:"email",defaultValue:o.contato.email,placeholder:"medico@exemplo.com","data-testid":"input-edit-email"})]}),p.jsxs(RP,{children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),p.jsx(Pe,{type:"submit",disabled:c,"data-testid":"button-update-doctor",children:c?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"w-4 h-4 mr-2 animate-spin"}),"Atualizando..."]}):"Atualizar"})]})]})]})})]})}function yv(t,[e,r]){return Math.min(r,Math.max(e,t))}var wse=O.createContext(void 0);function mU(t){const e=O.useContext(wse);return t||e||"ltr"}const xse=["top","right","bottom","left"],$s=Math.min,$n=Math.max,vv=Math.round,jg=Math.floor,_o=t=>({x:t,y:t}),_se={left:"right",right:"left",bottom:"top",top:"bottom"},Ese={start:"end",end:"start"};function hE(t,e,r){return $n(t,$s(e,r))}function va(t,e){return typeof t=="function"?t(e):t}function ba(t){return t.split("-")[0]}function Qd(t){return t.split("-")[1]}function BP(t){return t==="x"?"y":"x"}function zP(t){return t==="y"?"height":"width"}function Ls(t){return["top","bottom"].includes(ba(t))?"y":"x"}function WP(t){return BP(Ls(t))}function Sse(t,e,r){r===void 0&&(r=!1);const n=Qd(t),i=WP(t),o=zP(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=bv(a)),[a,bv(a)]}function Tse(t){const e=bv(t);return[pE(t),e,pE(e)]}function pE(t){return t.replace(/start|end/g,e=>Ese[e])}function Ase(t,e,r){const n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?o:a;default:return[]}}function Pse(t,e,r,n){const i=Qd(t);let o=Ase(ba(t),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(pE)))),o}function bv(t){return t.replace(/left|right|bottom|top/g,e=>_se[e])}function Cse(t){return{top:0,right:0,bottom:0,left:0,...t}}function gU(t){return typeof t!="number"?Cse(t):{top:t,right:t,bottom:t,left:t}}function wv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function MR(t,e,r){let{reference:n,floating:i}=t;const o=Ls(e),a=WP(e),s=zP(a),l=ba(e),c=o==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[s]/2-i[s]/2;let m;switch(l){case"top":m={x:u,y:n.y-i.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-i.width,y:d};break;default:m={x:n.x,y:n.y}}switch(Qd(e)){case"start":m[a]-=f*(r&&c?-1:1);break;case"end":m[a]+=f*(r&&c?-1:1);break}return m}const Ise=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=MR(c,n,l),f=n,m={},v=0;for(let g=0;g<s.length;g++){const{name:b,fn:x}=s[g],{x:y,y:w,data:E,reset:S}=await x({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});u=y??u,d=w??d,m={...m,[b]:{...m[b],...E}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=MR(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function fp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=va(e,t),v=gU(m),b=s[f?d==="floating"?"reference":"floating":d],x=wv(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=wv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-S.top+v.top)/E.y,bottom:(S.bottom-x.bottom+v.bottom)/E.y,left:(x.left-S.left+v.left)/E.x,right:(S.right-x.right+v.right)/E.x}}const Ose=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=va(t,e)||{};if(c==null)return{};const d=gU(u),f={x:r,y:n},m=WP(i),v=zP(m),g=await a.getDimensions(c),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",E=o.reference[v]+o.reference[m]-f[m]-o.floating[v],S=f[m]-o.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let _=C?C[w]:0;(!_||!await(a.isElement==null?void 0:a.isElement(C)))&&(_=s.floating[w]||o.floating[v]);const T=E/2-S/2,A=_/2-g[v]/2-1,N=$s(d[x],A),I=$s(d[y],A),k=N,R=_-g[v]-I,M=_/2-g[v]/2+T,L=hE(k,M,R),V=!l.arrow&&Qd(i)!=null&&M!==L&&o.reference[v]/2-(M<k?N:I)-g[v]/2<0,U=V?M<k?M-k:M-R:0;return{[m]:f[m]+U,data:{[m]:L,centerOffset:M-L-U,...V&&{alignmentOffset:U}},reset:V}}}),kse=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=va(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=ba(i),y=Ls(s),w=ba(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(w||!g?[bv(s)]:Tse(s)),C=v!=="none";!f&&C&&S.push(...Pse(s,g,v,E));const _=[s,...S],T=await fp(e,b),A=[];let N=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&A.push(T[x]),d){const M=Sse(i,a,E);A.push(T[M[0]],T[M[1]])}if(N=[...N,{placement:i,overflows:A}],!A.every(M=>M<=0)){var I,k;const M=(((I=o.flip)==null?void 0:I.index)||0)+1,L=_[M];if(L)return{data:{index:M,overflows:N},reset:{placement:L}};let V=(k=N.filter(U=>U.overflows[0]<=0).sort((U,$)=>U.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!V)switch(m){case"bestFit":{var R;const U=(R=N.filter($=>{if(C){const B=Ls($.placement);return B===y||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:R[0];U&&(V=U);break}case"initialPlacement":V=s;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function $R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function LR(t){return xse.some(e=>t[e]>=0)}const Nse=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=va(t,e);switch(n){case"referenceHidden":{const o=await fp(e,{...i,elementContext:"reference"}),a=$R(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:LR(a)}}}case"escaped":{const o=await fp(e,{...i,altBoundary:!0}),a=$R(o,r.floating);return{data:{escapedOffsets:a,escaped:LR(a)}}}default:return{}}}}};async function Rse(t,e){const{placement:r,platform:n,elements:i}=t,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=ba(r),s=Qd(r),l=Ls(r)==="y",c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=va(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof v=="number"&&(m=s==="end"?v*-1:v),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const jse=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Rse(e,t);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Dse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:b=>{let{x,y}=b;return{x,y}}},...l}=va(t,e),c={x:r,y:n},u=await fp(e,l),d=Ls(ba(i)),f=BP(d);let m=c[f],v=c[d];if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+u[b],w=m-u[x];m=hE(y,m,w)}if(a){const b=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=v+u[b],w=v-u[x];v=hE(y,v,w)}const g=s.fn({...e,[f]:m,[d]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:o,[d]:a}}}}}},Mse=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=va(t,e),u={x:r,y:n},d=Ls(i),f=BP(d);let m=u[f],v=u[d];const g=va(s,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=f==="y"?"height":"width",E=o.reference[f]-o.floating[w]+b.mainAxis,S=o.reference[f]+o.reference[w]-b.mainAxis;m<E?m=E:m>S&&(m=S)}if(c){var x,y;const w=f==="y"?"width":"height",E=["top","left"].includes(ba(i)),S=o.reference[d]-o.floating[w]+(E&&((x=a.offset)==null?void 0:x[d])||0)+(E?0:b.crossAxis),C=o.reference[d]+o.reference[w]+(E?0:((y=a.offset)==null?void 0:y[d])||0)-(E?b.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[f]:m,[d]:v}}}},$se=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=va(t,e),u=await fp(e,c),d=ba(i),f=Qd(i),m=Ls(i)==="y",{width:v,height:g}=o.floating;let b,x;d==="top"||d==="bottom"?(b=d,x=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(x=d,b=f==="end"?"top":"bottom");const y=g-u.top-u.bottom,w=v-u.left-u.right,E=$s(g-u[b],y),S=$s(v-u[x],w),C=!e.middlewareData.shift;let _=E,T=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=y),C&&!f){const N=$n(u.left,0),I=$n(u.right,0),k=$n(u.top,0),R=$n(u.bottom,0);m?T=v-2*(N!==0||I!==0?N+I:$n(u.left,u.right)):_=g-2*(k!==0||R!==0?k+R:$n(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:_});const A=await a.getDimensions(s.floating);return v!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ib(){return typeof window<"u"}function Yd(t){return yU(t)?(t.nodeName||"").toLowerCase():"#document"}function qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ko(t){var e;return(e=(yU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yU(t){return Ib()?t instanceof Node||t instanceof qn(t).Node:!1}function Hi(t){return Ib()?t instanceof Element||t instanceof qn(t).Element:!1}function Po(t){return Ib()?t instanceof HTMLElement||t instanceof qn(t).HTMLElement:!1}function VR(t){return!Ib()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qn(t).ShadowRoot}function Sm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Gi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Lse(t){return["table","td","th"].includes(Yd(t))}function Ob(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qP(t){const e=HP(),r=Hi(t)?Gi(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Vse(t){let e=Vs(t);for(;Po(e)&&!sd(e);){if(qP(e))return e;if(Ob(e))return null;e=Vs(e)}return null}function HP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sd(t){return["html","body","#document"].includes(Yd(t))}function Gi(t){return qn(t).getComputedStyle(t)}function kb(t){return Hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vs(t){if(Yd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VR(t)&&t.host||ko(t);return VR(e)?e.host:e}function vU(t){const e=Vs(t);return sd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Po(e)&&Sm(e)?e:vU(e)}function hp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=vU(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),a=qn(i);if(o){const s=mE(a);return e.concat(a,a.visualViewport||[],Sm(i)?i:[],s&&r?hp(s):[])}return e.concat(i,hp(i,[],r))}function mE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bU(t){const e=Gi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Po(t),o=i?t.offsetWidth:r,a=i?t.offsetHeight:n,s=vv(r)!==o||vv(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function GP(t){return Hi(t)?t:t.contextElement}function Su(t){const e=GP(t);if(!Po(e))return _o(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=bU(e);let a=(o?vv(r.width):r.width)/n,s=(o?vv(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Fse=_o(0);function wU(t){const e=qn(t);return!HP()||!e.visualViewport?Fse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Use(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qn(t)?!1:e}function nc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=GP(t);let a=_o(1);e&&(n?Hi(n)&&(a=Su(n)):a=Su(t));const s=Use(o,r,n)?wU(o):_o(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const f=qn(o),m=n&&Hi(n)?qn(n):n;let v=f,g=mE(v);for(;g&&n&&m!==v;){const b=Su(g),x=g.getBoundingClientRect(),y=Gi(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,E=x.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=w,c+=E,v=qn(g),g=mE(v)}}return wv({width:u,height:d,x:l,y:c})}function KP(t,e){const r=kb(t).scrollLeft;return e?e.left+r:nc(ko(t)).left+r}function xU(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:KP(t,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function Bse(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",a=ko(n),s=e?Ob(e.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},c=_o(1);const u=_o(0),d=Po(n);if((d||!d&&!o)&&((Yd(n)!=="body"||Sm(a))&&(l=kb(n)),Po(n))){const m=nc(n);c=Su(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=a&&!d&&!o?xU(a,l,!0):_o(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function zse(t){return Array.from(t.getClientRects())}function Wse(t){const e=ko(t),r=kb(t),n=t.ownerDocument.body,i=$n(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=$n(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+KP(t);const s=-r.scrollTop;return Gi(n).direction==="rtl"&&(a+=$n(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function qse(t,e){const r=qn(t),n=ko(t),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=HP();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Hse(t,e){const r=nc(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=Po(t)?Su(t):_o(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:a,height:s,x:l,y:c}}function FR(t,e,r){let n;if(e==="viewport")n=qse(t,r);else if(e==="document")n=Wse(ko(t));else if(Hi(e))n=Hse(e,r);else{const i=wU(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wv(n)}function _U(t,e){const r=Vs(t);return r===e||!Hi(r)||sd(r)?!1:Gi(r).position==="fixed"||_U(r,e)}function Gse(t,e){const r=e.get(t);if(r)return r;let n=hp(t,[],!1).filter(s=>Hi(s)&&Yd(s)!=="body"),i=null;const o=Gi(t).position==="fixed";let a=o?Vs(t):t;for(;Hi(a)&&!sd(a);){const s=Gi(a),l=qP(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sm(a)&&!l&&_U(t,a))?n=n.filter(u=>u!==a):i=s,a=Vs(a)}return e.set(t,n),n}function Kse(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?Ob(e)?[]:Gse(e,this._c):[].concat(r),n],s=a[0],l=a.reduce((c,u)=>{const d=FR(e,u,i);return c.top=$n(d.top,c.top),c.right=$s(d.right,c.right),c.bottom=$s(d.bottom,c.bottom),c.left=$n(d.left,c.left),c},FR(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qse(t){const{width:e,height:r}=bU(t);return{width:e,height:r}}function Yse(t,e,r){const n=Po(e),i=ko(e),o=r==="fixed",a=nc(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=_o(0);if(n||!n&&!o)if((Yd(e)!=="body"||Sm(i))&&(s=kb(e)),n){const f=nc(e,!0,o,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=KP(i));const c=i&&!n&&!o?xU(i,s):_o(0),u=a.left+s.scrollLeft-l.x-c.x,d=a.top+s.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function qx(t){return Gi(t).position==="static"}function UR(t,e){if(!Po(t)||Gi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ko(t)===r&&(r=r.ownerDocument.body),r}function EU(t,e){const r=qn(t);if(Ob(t))return r;if(!Po(t)){let i=Vs(t);for(;i&&!sd(i);){if(Hi(i)&&!qx(i))return i;i=Vs(i)}return r}let n=UR(t,e);for(;n&&Lse(n)&&qx(n);)n=UR(n,e);return n&&sd(n)&&qx(n)&&!qP(n)?r:n||Vse(t)||r}const Xse=async function(t){const e=this.getOffsetParent||EU,r=this.getDimensions,n=await r(t.floating);return{reference:Yse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Zse(t){return Gi(t).direction==="rtl"}const Jse={convertOffsetParentRelativeRectToViewportRelativeRect:Bse,getDocumentElement:ko,getClippingRect:Kse,getOffsetParent:EU,getElementRects:Xse,getClientRects:zse,getDimensions:Qse,getScale:Su,isElement:Hi,isRTL:Zse};function SU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ele(t,e){let r=null,n;const i=ko(t);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:m}=c;if(s||e(),!f||!m)return;const v=jg(d),g=jg(i.clientWidth-(u+f)),b=jg(i.clientHeight-(d+m)),x=jg(u),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-x+"px",threshold:$n(0,$s(1,l))||1};let E=!0;function S(C){const _=C[0].intersectionRatio;if(_!==l){if(!E)return a();_?a(!1,_):n=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!SU(c,t.getBoundingClientRect())&&a(),E=!1}try{r=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(t)}return a(!0),o}function tle(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=GP(t),u=i||o?[...c?hp(c):[],...hp(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const d=c&&s?ele(c,r):null;let f=-1,m=null;a&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let v,g=l?nc(t):null;l&&b();function b(){const x=nc(t);g&&!SU(g,x)&&r(),g=x,v=requestAnimationFrame(b)}return r(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const rle=jse,nle=Dse,ile=kse,ole=$se,ale=Nse,BR=Ose,sle=Mse,lle=(t,e,r)=>{const n=new Map,i={platform:Jse,...r},o={...i.platform,_c:n};return Ise(t,e,{...i,platform:o})};var xy=typeof document<"u"?O.useLayoutEffect:O.useEffect;function xv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!xv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!xv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function TU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zR(t,e){const r=TU(t);return Math.round(e*r)/r}function Hx(t){const e=O.useRef(t);return xy(()=>{e.current=t}),e}function cle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,d]=O.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=O.useState(n);xv(f,n)||m(n);const[v,g]=O.useState(null),[b,x]=O.useState(null),y=O.useCallback($=>{$!==C.current&&(C.current=$,g($))},[]),w=O.useCallback($=>{$!==_.current&&(_.current=$,x($))},[]),E=o||v,S=a||b,C=O.useRef(null),_=O.useRef(null),T=O.useRef(u),A=l!=null,N=Hx(l),I=Hx(i),k=Hx(c),R=O.useCallback(()=>{if(!C.current||!_.current)return;const $={placement:e,strategy:r,middleware:f};I.current&&($.platform=I.current),lle(C.current,_.current,$).then(B=>{const G={...B,isPositioned:k.current!==!1};M.current&&!xv(T.current,G)&&(T.current=G,fc.flushSync(()=>{d(G)}))})},[f,e,r,I,k]);xy(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d($=>({...$,isPositioned:!1})))},[c]);const M=O.useRef(!1);xy(()=>(M.current=!0,()=>{M.current=!1}),[]),xy(()=>{if(E&&(C.current=E),S&&(_.current=S),E&&S){if(N.current)return N.current(E,S,R);R()}},[E,S,R,N,A]);const L=O.useMemo(()=>({reference:C,floating:_,setReference:y,setFloating:w}),[y,w]),V=O.useMemo(()=>({reference:E,floating:S}),[E,S]),U=O.useMemo(()=>{const $={position:r,left:0,top:0};if(!V.floating)return $;const B=zR(V.floating,u.x),G=zR(V.floating,u.y);return s?{...$,transform:"translate("+B+"px, "+G+"px)",...TU(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:G}},[r,s,V.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:R,refs:L,elements:V,floatingStyles:U}),[u,R,L,V,U])}const ule=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?BR({element:n.current,padding:i}).fn(r):{}:n?BR({element:n,padding:i}).fn(r):{}}}},dle=(t,e)=>({...rle(t),options:[t,e]}),fle=(t,e)=>({...nle(t),options:[t,e]}),hle=(t,e)=>({...sle(t),options:[t,e]}),ple=(t,e)=>({...ile(t),options:[t,e]}),mle=(t,e)=>({...ole(t),options:[t,e]}),gle=(t,e)=>({...ale(t),options:[t,e]}),yle=(t,e)=>({...ule(t),options:[t,e]});var vle="Arrow",AU=O.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...o}=t;return p.jsx(Ge.svg,{...o,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});AU.displayName=vle;var ble=AU,QP="Popper",[PU,CU]=qs(QP),[wle,IU]=PU(QP),OU=t=>{const{__scopePopper:e,children:r}=t,[n,i]=O.useState(null);return p.jsx(wle,{scope:e,anchor:n,onAnchorChange:i,children:r})};OU.displayName=QP;var kU="PopperAnchor",NU=O.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,o=IU(kU,r),a=O.useRef(null),s=pt(e,a);return O.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:p.jsx(Ge.div,{...i,ref:s})});NU.displayName=kU;var YP="PopperContent",[xle,_le]=PU(YP),RU=O.forwardRef((t,e)=>{var fe,Te,ne,de,le,Q;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=t,b=IU(YP,r),[x,y]=O.useState(null),w=pt(e,Be=>y(Be)),[E,S]=O.useState(null),C=gP(E),_=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,A=n+(o!=="center"?"-"+o:""),N=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(c)?c:[c],k=I.length>0,R={padding:N,boundary:I.filter(Sle),altBoundary:k},{refs:M,floatingStyles:L,placement:V,isPositioned:U,middlewareData:$}=cle({strategy:"fixed",placement:A,whileElementsMounted:(...Be)=>tle(...Be,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[dle({mainAxis:i+T,alignmentAxis:a}),l&&fle({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?hle():void 0,...R}),l&&ple({...R}),mle({...R,apply:({elements:Be,rects:Oe,availableWidth:dt,availableHeight:ft})=>{const{width:kt,height:gn}=Oe.reference,Mr=Be.floating.style;Mr.setProperty("--radix-popper-available-width",`${dt}px`),Mr.setProperty("--radix-popper-available-height",`${ft}px`),Mr.setProperty("--radix-popper-anchor-width",`${kt}px`),Mr.setProperty("--radix-popper-anchor-height",`${gn}px`)}}),E&&yle({element:E,padding:s}),Tle({arrowWidth:_,arrowHeight:T}),f&&gle({strategy:"referenceHidden",...R})]}),[B,G]=MU(V),ee=Gn(v);Zr(()=>{U&&(ee==null||ee())},[U,ee]);const J=(fe=$.arrow)==null?void 0:fe.x,ie=(Te=$.arrow)==null?void 0:Te.y,Ce=((ne=$.arrow)==null?void 0:ne.centerOffset)!==0,[ue,Se]=O.useState();return Zr(()=>{x&&Se(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:U?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(de=$.transformOrigin)==null?void 0:de.x,(le=$.transformOrigin)==null?void 0:le.y].join(" "),...((Q=$.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(xle,{scope:r,placedSide:B,onArrowChange:S,arrowX:J,arrowY:ie,shouldHideArrow:Ce,children:p.jsx(Ge.div,{"data-side":B,"data-align":G,...g,ref:w,style:{...g.style,animation:U?void 0:"none"}})})})});RU.displayName=YP;var jU="PopperArrow",Ele={top:"bottom",right:"left",bottom:"top",left:"right"},DU=O.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,o=_le(jU,n),a=Ele[o.placedSide];return p.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:p.jsx(ble,{...i,ref:r,style:{...i.style,display:"block"}})})});DU.displayName=jU;function Sle(t){return t!==null}var Tle=t=>({name:"transformOrigin",options:t,fn(e){var b,x,y;const{placement:r,rects:n,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=MU(r),d={start:"0%",center:"50%",end:"100%"}[u],f=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,m=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=a?d:`${f}px`,g=`${-l}px`):c==="top"?(v=a?d:`${f}px`,g=`${n.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=a?d:`${m}px`):c==="left"&&(v=`${n.floating.width+l}px`,g=a?d:`${m}px`),{data:{x:v,y:g}}}});function MU(t){const[e,r="center"]=t.split("-");return[e,r]}var Ale=OU,Ple=NU,Cle=RU,Ile=DU,Ole=[" ","Enter","ArrowUp","ArrowDown"],kle=[" ","Enter"],Tm="Select",[Nb,Rb,Nle]=rA(Tm),[Xd,DDe]=qs(Tm,[Nle,CU]),jb=CU(),[Rle,Zs]=Xd(Tm),[jle,Dle]=Xd(Tm),$U=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:m,form:v}=t,g=jb(e),[b,x]=O.useState(null),[y,w]=O.useState(null),[E,S]=O.useState(!1),C=mU(c),[_=!1,T]=ed({prop:n,defaultProp:i,onChange:o}),[A,N]=ed({prop:a,defaultProp:s,onChange:l}),I=O.useRef(null),k=b?v||!!b.closest("form"):!0,[R,M]=O.useState(new Set),L=Array.from(R).map(V=>V.props.value).join(";");return p.jsx(Ale,{...g,children:p.jsxs(Rle,{required:m,scope:e,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:xu(),value:A,onValueChange:N,open:_,onOpenChange:T,dir:C,triggerPointerDownPosRef:I,disabled:f,children:[p.jsx(Nb.Provider,{scope:e,children:p.jsx(jle,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(V=>{M(U=>new Set(U).add(V))},[]),onNativeOptionRemove:O.useCallback(V=>{M(U=>{const $=new Set(U);return $.delete(V),$})},[]),children:r})}),k?p.jsxs(lB,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:V=>N(V.target.value),disabled:f,form:v,children:[A===void 0?p.jsx("option",{value:""}):null,Array.from(R)]},L):null]})})};$U.displayName=Tm;var LU="SelectTrigger",VU=O.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,o=jb(r),a=Zs(LU,r),s=a.disabled||n,l=pt(e,a.onTriggerChange),c=Rb(r),u=O.useRef("touch"),[d,f,m]=cB(g=>{const b=c().filter(w=>!w.disabled),x=b.find(w=>w.value===a.value),y=uB(b,g,x);y!==void 0&&a.onValueChange(y.value)}),v=g=>{s||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(Ple,{asChild:!0,...o,children:p.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":sB(a.value)?"":void 0,...i,ref:l,onClick:Le(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:Le(i.onPointerDown,g=>{u.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Le(i.onKeyDown,g=>{const b=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&Ole.includes(g.key)&&(v(),g.preventDefault())})})})});VU.displayName=LU;var FU="SelectValue",UU=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:a="",...s}=t,l=Zs(FU,r),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=pt(e,l.onValueNodeChange);return Zr(()=>{c(u)},[c,u]),p.jsx(Ge.span,{...s,ref:d,style:{pointerEvents:"none"},children:sB(l.value)?p.jsx(p.Fragment,{children:a}):o})});UU.displayName=FU;var Mle="SelectIcon",BU=O.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return p.jsx(Ge.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});BU.displayName=Mle;var $le="SelectPortal",zU=t=>p.jsx(K0,{asChild:!0,...t});zU.displayName=$le;var ic="SelectContent",WU=O.forwardRef((t,e)=>{const r=Zs(ic,t.__scopeSelect),[n,i]=O.useState();if(Zr(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?fc.createPortal(p.jsx(qU,{scope:t.__scopeSelect,children:p.jsx(Nb.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),o):null}return p.jsx(HU,{...t,ref:e})});WU.displayName=ic;var _i=10,[qU,Js]=Xd(ic),Lle="SelectContentImpl",Vle=Ju("SelectContent.RemoveScroll"),HU=O.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b,...x}=t,y=Zs(ic,r),[w,E]=O.useState(null),[S,C]=O.useState(null),_=pt(e,fe=>E(fe)),[T,A]=O.useState(null),[N,I]=O.useState(null),k=Rb(r),[R,M]=O.useState(!1),L=O.useRef(!1);O.useEffect(()=>{if(w)return T6(w)},[w]),g6();const V=O.useCallback(fe=>{const[Te,...ne]=k().map(Q=>Q.ref.current),[de]=ne.slice(-1),le=document.activeElement;for(const Q of fe)if(Q===le||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Te&&S&&(S.scrollTop=0),Q===de&&S&&(S.scrollTop=S.scrollHeight),Q==null||Q.focus(),document.activeElement!==le))return},[k,S]),U=O.useCallback(()=>V([T,w]),[V,T,w]);O.useEffect(()=>{R&&U()},[R,U]);const{onOpenChange:$,triggerPointerDownPosRef:B}=y;O.useEffect(()=>{if(w){let fe={x:0,y:0};const Te=de=>{var le,Q;fe={x:Math.abs(Math.round(de.pageX)-(((le=B.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(de.pageY)-(((Q=B.current)==null?void 0:Q.y)??0))}},ne=de=>{fe.x<=10&&fe.y<=10?de.preventDefault():w.contains(de.target)||$(!1),document.removeEventListener("pointermove",Te),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,$,B]),O.useEffect(()=>{const fe=()=>$(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[$]);const[G,ee]=cB(fe=>{const Te=k().filter(le=>!le.disabled),ne=Te.find(le=>le.ref.current===document.activeElement),de=uB(Te,fe,ne);de&&setTimeout(()=>de.ref.current.focus())}),J=O.useCallback((fe,Te,ne)=>{const de=!L.current&&!ne;(y.value!==void 0&&y.value===Te||de)&&(A(fe),de&&(L.current=!0))},[y.value]),ie=O.useCallback(()=>w==null?void 0:w.focus(),[w]),Ce=O.useCallback((fe,Te,ne)=>{const de=!L.current&&!ne;(y.value!==void 0&&y.value===Te||de)&&I(fe)},[y.value]),ue=n==="popper"?gE:GU,Se=ue===gE?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return p.jsx(qU,{scope:r,content:w,viewport:S,onViewportChange:C,itemRefCallback:J,selectedItem:T,onItemLeave:ie,itemTextRefCallback:Ce,focusSelectedItem:U,selectedItemText:N,position:n,isPositioned:R,searchRef:G,children:p.jsx(xP,{as:Vle,allowPinchZoom:!0,children:p.jsx(wP,{asChild:!0,trapped:y.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Le(i,fe=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),fe.preventDefault()}),children:p.jsx(G0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:p.jsx(ue,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:fe=>fe.preventDefault(),...x,...Se,onPlaced:()=>M(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Le(x.onKeyDown,fe=>{const Te=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Te&&fe.key.length===1&&ee(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let de=k().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const le=fe.target,Q=de.indexOf(le);de=de.slice(Q+1)}setTimeout(()=>V(de)),fe.preventDefault()}})})})})})})});HU.displayName=Lle;var Fle="SelectItemAlignedPosition",GU=O.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,o=Zs(ic,r),a=Js(ic,r),[s,l]=O.useState(null),[c,u]=O.useState(null),d=pt(e,_=>u(_)),f=Rb(r),m=O.useRef(!1),v=O.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=a,w=O.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&b&&x){const _=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),N=x.getBoundingClientRect();if(o.dir!=="rtl"){const le=N.left-T.left,Q=A.left-le,Be=_.left-Q,Oe=_.width+Be,dt=Math.max(Oe,T.width),ft=window.innerWidth-_i,kt=yv(Q,[_i,Math.max(_i,ft-dt)]);s.style.minWidth=Oe+"px",s.style.left=kt+"px"}else{const le=T.right-N.right,Q=window.innerWidth-A.right-le,Be=window.innerWidth-_.right-Q,Oe=_.width+Be,dt=Math.max(Oe,T.width),ft=window.innerWidth-_i,kt=yv(Q,[_i,Math.max(_i,ft-dt)]);s.style.minWidth=Oe+"px",s.style.right=kt+"px"}const I=f(),k=window.innerHeight-_i*2,R=g.scrollHeight,M=window.getComputedStyle(c),L=parseInt(M.borderTopWidth,10),V=parseInt(M.paddingTop,10),U=parseInt(M.borderBottomWidth,10),$=parseInt(M.paddingBottom,10),B=L+V+R+$+U,G=Math.min(b.offsetHeight*5,B),ee=window.getComputedStyle(g),J=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),Ce=_.top+_.height/2-_i,ue=k-Ce,Se=b.offsetHeight/2,fe=b.offsetTop+Se,Te=L+V+fe,ne=B-Te;if(Te<=Ce){const le=I.length>0&&b===I[I.length-1].ref.current;s.style.bottom="0px";const Q=c.clientHeight-g.offsetTop-g.offsetHeight,Be=Math.max(ue,Se+(le?ie:0)+Q+U),Oe=Te+Be;s.style.height=Oe+"px"}else{const le=I.length>0&&b===I[0].ref.current;s.style.top="0px";const Be=Math.max(Ce,L+g.offsetTop+(le?J:0)+Se)+ne;s.style.height=Be+"px",g.scrollTop=Te-Ce+g.offsetTop}s.style.margin=`${_i}px 0`,s.style.minHeight=G+"px",s.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,o.trigger,o.valueNode,s,c,g,b,x,o.dir,n]);Zr(()=>w(),[w]);const[E,S]=O.useState();Zr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=O.useCallback(_=>{_&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return p.jsx(Ble,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:p.jsx(Ge.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GU.displayName=Fle;var Ule="SelectPopperPosition",gE=O.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=_i,...o}=t,a=jb(r);return p.jsx(Cle,{...a,...o,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gE.displayName=Ule;var[Ble,XP]=Xd(ic,{}),yE="SelectViewport",KU=O.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,o=Js(yE,r),a=XP(yE,r),s=pt(e,o.onViewportChange),l=O.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),p.jsx(Nb.Slot,{scope:r,children:p.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const v=window.innerHeight-_i*2,g=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),x=Math.max(g,b);if(x<v){const y=x+m,w=Math.min(v,y),E=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});KU.displayName=yE;var QU="SelectGroup",[zle,Wle]=Xd(QU),qle=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=xu();return p.jsx(zle,{scope:r,id:i,children:p.jsx(Ge.div,{role:"group","aria-labelledby":i,...n,ref:e})})});qle.displayName=QU;var YU="SelectLabel",XU=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Wle(YU,r);return p.jsx(Ge.div,{id:i.id,...n,ref:e})});XU.displayName=YU;var _v="SelectItem",[Hle,ZU]=Xd(_v),JU=O.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...a}=t,s=Zs(_v,r),l=Js(_v,r),c=s.value===n,[u,d]=O.useState(o??""),[f,m]=O.useState(!1),v=pt(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),g=xu(),b=O.useRef("touch"),x=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Hle,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:O.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:p.jsx(Nb.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:p.jsx(Ge.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Le(a.onFocus,()=>m(!0)),onBlur:Le(a.onBlur,()=>m(!1)),onClick:Le(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Le(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Le(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Le(a.onPointerMove,y=>{var w;b.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(a.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Le(a.onKeyDown,y=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&y.key===" "||(kle.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});JU.displayName=_v;var oh="SelectItemText",eB=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...o}=t,a=Zs(oh,r),s=Js(oh,r),l=ZU(oh,r),c=Dle(oh,r),[u,d]=O.useState(null),f=pt(e,x=>d(x),l.onItemTextChange,x=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,x,l.value,l.disabled)}),m=u==null?void 0:u.textContent,v=O.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=c;return Zr(()=>(g(v),()=>b(v)),[g,b,v]),p.jsxs(p.Fragment,{children:[p.jsx(Ge.span,{id:l.textId,...o,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?fc.createPortal(o.children,a.valueNode):null]})});eB.displayName=oh;var tB="SelectItemIndicator",rB=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return ZU(tB,r).isSelected?p.jsx(Ge.span,{"aria-hidden":!0,...n,ref:e}):null});rB.displayName=tB;var vE="SelectScrollUpButton",nB=O.forwardRef((t,e)=>{const r=Js(vE,t.__scopeSelect),n=XP(vE,t.__scopeSelect),[i,o]=O.useState(!1),a=pt(e,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(oB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});nB.displayName=vE;var bE="SelectScrollDownButton",iB=O.forwardRef((t,e)=>{const r=Js(bE,t.__scopeSelect),n=XP(bE,t.__scopeSelect),[i,o]=O.useState(!1),a=pt(e,n.onScrollButtonChange);return Zr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?p.jsx(oB,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});iB.displayName=bE;var oB=O.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,o=Js("SelectScrollButton",r),a=O.useRef(null),s=Rb(r),l=O.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),Zr(()=>{var u;const c=s().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),p.jsx(Ge.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Le(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{l()})})}),Gle="SelectSeparator",aB=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return p.jsx(Ge.div,{"aria-hidden":!0,...n,ref:e})});aB.displayName=Gle;var wE="SelectArrow",Kle=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=jb(r),o=Zs(wE,r),a=Js(wE,r);return o.open&&a.position==="popper"?p.jsx(Ile,{...i,...n,ref:e}):null});Kle.displayName=wE;function sB(t){return t===""||t===void 0}var lB=O.forwardRef((t,e)=>{const{value:r,...n}=t,i=O.useRef(null),o=pt(e,i),a=mP(r);return O.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==r&&u){const d=new Event("change",{bubbles:!0});u.call(s,r),s.dispatchEvent(d)}},[a,r]),p.jsx(Q0,{asChild:!0,children:p.jsx("select",{...n,ref:o,defaultValue:r})})});lB.displayName="BubbleSelect";function cB(t){const e=Gn(t),r=O.useRef(""),n=O.useRef(0),i=O.useCallback(a=>{const s=r.current+a;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function uB(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let a=Qle(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Qle(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Yle=$U,dB=VU,Xle=UU,Zle=BU,Jle=zU,fB=WU,ece=KU,hB=XU,pB=JU,tce=eB,rce=rB,mB=nB,gB=iB,yB=aB;const Ah=Yle,Ph=Xle,Tu=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(dB,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,p.jsx(Zle,{asChild:!0,children:p.jsx(wV,{className:"h-4 w-4 opacity-50"})})]}));Tu.displayName=dB.displayName;const vB=O.forwardRef(({className:t,...e},r)=>p.jsx(mB,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(eK,{className:"h-4 w-4"})}));vB.displayName=mB.displayName;const bB=O.forwardRef(({className:t,...e},r)=>p.jsx(gB,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(wV,{className:"h-4 w-4"})}));bB.displayName=gB.displayName;const Au=O.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>p.jsx(Jle,{children:p.jsxs(fB,{ref:i,className:Me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[p.jsx(vB,{}),p.jsx(ece,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(bB,{})]})}));Au.displayName=fB.displayName;const nce=O.forwardRef(({className:t,...e},r)=>p.jsx(hB,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));nce.displayName=hB.displayName;const Pu=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(pB,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(rce,{children:p.jsx(bV,{className:"h-4 w-4"})})}),p.jsx(tce,{children:e})]}));Pu.displayName=pB.displayName;const ice=O.forwardRef(({className:t,...e},r)=>p.jsx(yB,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));ice.displayName=yB.displayName;function oce(){const[,t]=Cn(),[e,r]=O.useState([]),[n,i]=O.useState([]),[o,a]=O.useState(!0),[s,l]=O.useState(null),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[m,v]=O.useState(null),{firebaseUser:g}=mn(),{toast:b}=Ki(),x=async(A,N)=>{if(!(g!=null&&g.email))throw new Error("Usurio no autenticado");const I=new Date,k=I.toISOString().split("T")[0],R=`${g.email}_${k}`,M=Yr(gt,"report_diario",R);console.log(" Salvando medicamento no report_diario:",{medicamentoId:A.id,nome:A.nome,horaTomado:N});try{const L=await Zo(M);if(L.exists()){console.log(" Documento do report_diario j existe, verificando duplicatas...");const U=L.data().medicamentos||[],$=U.findIndex(B=>B.medicamentoId===A.id);if($!==-1){console.log(" Medicamento j existe no report, atualizando frequncia...");const B=U[$];Array.isArray(B.frequencia)||(B.frequencia=[]);const G=B.frequencia.findIndex(ee=>ee.horaTomado===N);G!==-1?(B.frequencia[G]={horaTomado:N,timestampTomado:Ne.fromDate(I),status:"tomado"},console.log(" Horrio especfico atualizado no medicamento existente")):(B.frequencia.push({horaTomado:N,timestampTomado:Ne.fromDate(I),status:"tomado"}),console.log(" Novo horrio adicionado  frequncia do medicamento")),B.ultimaAtualizacao=Ne.fromDate(I),U[$]=B}else{console.log(" Criando nova entrada para medicamento...");const B={medicamentoId:A.id,nome:A.nome,posologia:A.posologia,frequencia:[{horaTomado:N,timestampTomado:Ne.fromDate(I),status:"tomado"}],primeiroRegistro:Ne.fromDate(I),ultimaAtualizacao:Ne.fromDate(I)};U.push(B)}await Es(M,{medicamentos:U,ultimaAtualizacao:Ne.fromDate(I)}),console.log(" Report_diario atualizado com medicamento")}else{console.log(" Criando novo documento report_diario...");const V={medicamentoId:A.id,nome:A.nome,posologia:A.posologia,frequencia:[{horaTomado:N,timestampTomado:Ne.fromDate(I),status:"tomado"}],primeiroRegistro:Ne.fromDate(I),ultimaAtualizacao:Ne.fromDate(I)},U={data:Ne.fromDate(I),usuarioId:g.email,medicamentos:[V],quizzes:[],criadoEm:Ne.fromDate(I),ultimaAtualizacao:Ne.fromDate(I)};await up(M,U),console.log(" Novo report_diario criado com medicamento")}console.log(" Medicamento salvo com sucesso no Firestore com controle de duplicatas")}catch(L){throw console.error(" Erro ao salvar medicamento no report_diario:",L),L}},y=()=>{t("/medications/add")},w=A=>{l(A),u(!0)},E=async A=>{if(A.preventDefault(),!(!s||!g)){f(!0);try{const N=new FormData(A.currentTarget),k=(N.get("lembrete")||"").split(",").map(L=>L.trim()).filter(L=>L).map(L=>{var U;const V=(U=s.lembrete)==null?void 0:U.find($=>$.hora===L);return{hora:L,status:V?V.status:!1}}),R={nome:N.get("nome"),posologia:N.get("posologia"),frequencia:N.get("frequencia"),medicoId:N.get("medicoId"),lembrete:k,lastReset:s.lastReset},M=Yr(gt,"medicamentos",s.id);await Es(M,R),u(!1),l(null),T(),b({title:"Sucesso",description:"Medicamento atualizado com sucesso!"})}catch(N){console.error(" Erro ao atualizar medicamento:",N),b({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o medicamento"})}finally{f(!1)}}},S=async(A,N)=>{if(g)try{const I=Yr(gt,"medicamentos",A);await Tb(I),T(),b({title:"Sucesso",description:`Medicamento ${N} removido com sucesso!`})}catch(I){console.error(" Erro ao deletar medicamento:",I),b({variant:"destructive",title:"Erro",description:"No foi possvel remover o medicamento"})}},C=async(A,N,I)=>{if(!g)return;if(I){b({variant:"destructive",title:"Ao no permitida",description:"Medicamento j foi tomado e no pode ser desmarcado manualmente. O status ser resetado automaticamente no prximo dia.",duration:4e3});return}const k=`${A}-${N}`;v(k);try{const R=e.find(U=>U.id===A);if(!R)return;const M=R.lembrete.map((U,$)=>$===N?{...U,status:!0,timestampTomado:new Date().toISOString()}:U),L=Yr(gt,"medicamentos",A);await Es(L,{lembrete:M});const V=R.lembrete[N].hora;try{await x(R,V),console.log(" Medicamento salvo no report_diario com sucesso")}catch(U){console.error(" Erro ao salvar medicamento no report_diario:",U)}r(U=>U.map($=>$.id===A?{...$,lembrete:M}:$)),b({title:"Medicamento tomado",description:`Lembrete marcado como tomado s ${V}`,duration:3e3})}catch(R){console.error(" Erro ao atualizar status do lembrete:",R),b({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o status do lembrete"})}finally{v(null)}},_=async()=>{if(g)try{const A=cn(gt,"medicos"),N=Bn(A,xs("usuarioId","==",g.uid)),I=await zn(N),k=[];I.forEach(R=>{const M=R.data();k.push({id:R.id,nome:M.nome||"",especialidade:M.especialidade||""})}),i(k.sort((R,M)=>R.nome.localeCompare(M.nome)))}catch(A){console.error(" Erro ao buscar mdicos para edio:",A)}},T=async()=>{if(!g){a(!1);return}try{console.log(" Buscando medicamentos para usurio:",g.uid);try{await Z5.checkAndResetIfNeeded(g.uid)}catch(M){console.error("Erro ao verificar reset de lembretes na tela medicamentos:",M)}const A=cn(gt,"medicamentos"),N=Bn(A,xs("usuarioId","==",g.uid)),I=await zn(N),k=[];if(I.forEach(M=>{var V;const L=M.data();k.push({id:M.id,nome:L.nome||"",posologia:L.posologia||"",frequencia:L.frequencia||"",medicoId:L.medicoId||"",lembrete:Array.isArray(L.lembrete)?L.lembrete:(V=L.lembrete)!=null&&V.hora?[{hora:L.lembrete.hora,status:L.lembrete.status||!1}]:[],usuarioId:L.usuarioId||"",lastReset:L.lastReset||void 0})}),k.length>0){const M=cn(gt,"medicos"),L=Bn(M,xs("usuarioId","==",g.uid)),V=await zn(L),U=new Map;V.forEach($=>{const B=$.data();U.set($.id,B.nome||"Mdico no encontrado")}),k.forEach($=>{$.medicoNome=U.get($.medicoId)||"Mdico no encontrado"})}const R=k.sort((M,L)=>M.nome.localeCompare(L.nome));r(R),console.log(" Medicamentos carregados:",R.length)}catch(A){console.error(" Erro ao buscar medicamentos:",A),b({variant:"destructive",title:"Erro",description:"No foi possvel carregar a lista de medicamentos"})}finally{a(!1)}};return O.useEffect(()=>{T(),_()},[g]),o?p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Medicamentos"}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Controle seus medicamentos e nunca esquea de tomar na hora certa"})]}),p.jsx("div",{className:"flex items-center justify-center py-12",children:p.jsx(mo,{className:"h-8 w-8 animate-spin text-primary"})})]}):p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Medicamentos"}),p.jsxs(Pe,{size:"sm",className:"bg-primary text-primary-foreground rounded-xl hover:bg-primary/90","data-testid":"button-add-medication",onClick:y,children:[p.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Controle seus medicamentos e nunca esquea de tomar na hora certa"})]}),e.length===0?p.jsx($t,{className:"shadow-sm border border-border",children:p.jsx(Lt,{className:"p-8 text-center",children:p.jsxs("div",{className:"text-muted-foreground",children:[p.jsx(J0,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum medicamento cadastrado"}),p.jsx("p",{className:"text-sm mb-6",children:"Adicione seus medicamentos para receber lembretes e acompanhar seu tratamento"}),p.jsxs(Pe,{className:"bg-primary text-primary-foreground rounded-xl hover:bg-primary/90","data-testid":"button-add-first-medication",onClick:y,children:[p.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Medicamento"]})]})})}):p.jsx("div",{className:"space-y-3",children:e.map(A=>{var M,L;const N=((M=A.lembrete)==null?void 0:M.length)||0,I=((L=A.lembrete)==null?void 0:L.filter(V=>V.status).length)||0,k=N>0&&I===N,R=N>0&&I<N;return p.jsx($t,{className:`shadow-sm border transition-colors ${k?"border-green-200 bg-green-50/30":R?"border-red-200 bg-red-50/20":"border-border"}`,children:p.jsx(Lt,{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("h4",{className:"font-medium text-foreground mb-1",children:[A.nome," - ",A.posologia]}),p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:A.frequencia}),p.jsxs("div",{className:"space-y-1",children:[A.lembrete&&A.lembrete.length>0&&p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(b1,{className:"h-4 w-4 mr-2"}),"Lembretes: ",A.lembrete.map(V=>V.hora).join(", ")]}),A.medicoNome&&p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(_1,{className:"h-4 w-4 mr-2"}),A.medicoNome]}),A.lembrete&&A.lembrete.length>0&&p.jsxs("div",{className:"space-y-2 mt-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Lembretes de hoje:"}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.lembrete.filter(V=>V.status).length,"/",A.lembrete.length," tomados"]})]}),A.lembrete.map((V,U)=>p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-2",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(b1,{className:"h-3 w-3 text-muted-foreground"}),p.jsx("span",{className:"text-sm font-medium",children:V.hora}),p.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${V.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.status?" Tomado":" Pendente"})]}),p.jsx(Pe,{variant:V.status?"default":"outline",size:"sm",className:`text-xs px-3 py-1 min-w-[70px] ${V.status?"bg-green-600 hover:bg-green-700 text-white":"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700"}`,onClick:()=>C(A.id,U,V.status),disabled:m===`${A.id}-${U}`,"data-testid":`button-toggle-reminder-${A.id}-${U}`,children:m===`${A.id}-${U}`?p.jsx(mo,{className:"h-3 w-3 animate-spin"}):V.status?"Tomado":"Tomar"})]},U))]})]})]}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>w(A),"data-testid":`button-edit-medication-${A.id}`,children:p.jsx(SV,{className:"h-4 w-4"})}),p.jsxs(fU,{children:[p.jsx(hU,{asChild:!0,children:p.jsx(Pe,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":`button-delete-medication-${A.id}`,children:p.jsx(TV,{className:"h-4 w-4"})})}),p.jsxs(DP,{children:[p.jsxs(MP,{children:[p.jsx(LP,{children:"Confirmar Excluso"}),p.jsxs(VP,{children:["Tem certeza que deseja remover o medicamento ",p.jsx("strong",{children:A.nome}),"? Esta ao no pode ser desfeita."]})]}),p.jsxs($P,{children:[p.jsx(UP,{children:"Cancelar"}),p.jsx(FP,{onClick:()=>S(A.id,A.nome),className:"bg-red-600 hover:bg-red-700",children:"Remover"})]})]})]})]})]})})},A.id)})}),p.jsx(q6,{open:c,onOpenChange:u,children:p.jsxs(kP,{className:"sm:max-w-[425px]",children:[p.jsx(NP,{children:p.jsx(jP,{children:"Editar Medicamento"})}),s&&p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-nome",children:"Nome do Medicamento*"}),p.jsx(ht,{id:"edit-nome",name:"nome",defaultValue:s.nome,placeholder:"Digite o nome do medicamento",required:!0,"data-testid":"input-edit-medication-nome"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-posologia",children:"Posologia*"}),p.jsx(ht,{id:"edit-posologia",name:"posologia",defaultValue:s.posologia,placeholder:"Ex: 500mg, 1 comprimido",required:!0,"data-testid":"input-edit-medication-posologia"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-frequencia",children:"Frequncia*"}),p.jsx(ht,{id:"edit-frequencia",name:"frequencia",defaultValue:s.frequencia,placeholder:"Ex: 2 vezes ao dia, A cada 8 horas",required:!0,"data-testid":"input-edit-medication-frequencia"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-medicoId",children:"Mdico Responsvel*"}),p.jsxs(Ah,{name:"medicoId",defaultValue:s.medicoId,required:!0,children:[p.jsx(Tu,{"data-testid":"select-edit-medication-doctor",children:p.jsx(Ph,{placeholder:"Selecione um mdico"})}),p.jsx(Au,{children:n.map(A=>p.jsxs(Pu,{value:A.id,children:[A.nome," - ",A.especialidade]},A.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"edit-lembrete",children:"Horrios de Lembrete"}),p.jsx(ht,{id:"edit-lembrete",name:"lembrete",defaultValue:s.lembrete.map(A=>A.hora).join(", "),placeholder:"Ex: 08:00, 14:00, 20:00","data-testid":"input-edit-medication-lembrete"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Separe os horrios por vrgula. Formato: HH:MM"})]}),p.jsxs(RP,{children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),p.jsx(Pe,{type:"submit",disabled:d,"data-testid":"button-update-medication",children:d?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"w-4 h-4 mr-2 animate-spin"}),"Atualizando..."]}):"Atualizar"})]})]})]})})]})}var ace=Array.isArray,In=ace,sce=typeof tg=="object"&&tg&&tg.Object===Object&&tg,wB=sce,lce=wB,cce=typeof self=="object"&&self&&self.Object===Object&&self,uce=lce||cce||Function("return this")(),No=uce,dce=No,fce=dce.Symbol,Am=fce,WR=Am,xB=Object.prototype,hce=xB.hasOwnProperty,pce=xB.toString,Mf=WR?WR.toStringTag:void 0;function mce(t){var e=hce.call(t,Mf),r=t[Mf];try{t[Mf]=void 0;var n=!0}catch{}var i=pce.call(t);return n&&(e?t[Mf]=r:delete t[Mf]),i}var gce=mce,yce=Object.prototype,vce=yce.toString;function bce(t){return vce.call(t)}var wce=bce,qR=Am,xce=gce,_ce=wce,Ece="[object Null]",Sce="[object Undefined]",HR=qR?qR.toStringTag:void 0;function Tce(t){return t==null?t===void 0?Sce:Ece:HR&&HR in Object(t)?xce(t):_ce(t)}var Ca=Tce;function Ace(t){return t!=null&&typeof t=="object"}var Ia=Ace,Pce=Ca,Cce=Ia,Ice="[object Symbol]";function Oce(t){return typeof t=="symbol"||Cce(t)&&Pce(t)==Ice}var Zd=Oce,kce=In,Nce=Zd,Rce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jce=/^\w*$/;function Dce(t,e){if(kce(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Nce(t)?!0:jce.test(t)||!Rce.test(t)||e!=null&&t in Object(e)}var ZP=Dce;function Mce(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var el=Mce;const Jd=St(el);var $ce=Ca,Lce=el,Vce="[object AsyncFunction]",Fce="[object Function]",Uce="[object GeneratorFunction]",Bce="[object Proxy]";function zce(t){if(!Lce(t))return!1;var e=$ce(t);return e==Fce||e==Uce||e==Vce||e==Bce}var JP=zce;const He=St(JP);var Wce=No,qce=Wce["__core-js_shared__"],Hce=qce,Gx=Hce,GR=function(){var t=/[^.]+$/.exec(Gx&&Gx.keys&&Gx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Gce(t){return!!GR&&GR in t}var Kce=Gce,Qce=Function.prototype,Yce=Qce.toString;function Xce(t){if(t!=null){try{return Yce.call(t)}catch{}try{return t+""}catch{}}return""}var _B=Xce,Zce=JP,Jce=Kce,eue=el,tue=_B,rue=/[\\^$.*+?()[\]{}|]/g,nue=/^\[object .+?Constructor\]$/,iue=Function.prototype,oue=Object.prototype,aue=iue.toString,sue=oue.hasOwnProperty,lue=RegExp("^"+aue.call(sue).replace(rue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cue(t){if(!eue(t)||Jce(t))return!1;var e=Zce(t)?lue:nue;return e.test(tue(t))}var uue=cue;function due(t,e){return t==null?void 0:t[e]}var fue=due,hue=uue,pue=fue;function mue(t,e){var r=pue(t,e);return hue(r)?r:void 0}var yc=mue,gue=yc,yue=gue(Object,"create"),Db=yue,KR=Db;function vue(){this.__data__=KR?KR(null):{},this.size=0}var bue=vue;function wue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xue=wue,_ue=Db,Eue="__lodash_hash_undefined__",Sue=Object.prototype,Tue=Sue.hasOwnProperty;function Aue(t){var e=this.__data__;if(_ue){var r=e[t];return r===Eue?void 0:r}return Tue.call(e,t)?e[t]:void 0}var Pue=Aue,Cue=Db,Iue=Object.prototype,Oue=Iue.hasOwnProperty;function kue(t){var e=this.__data__;return Cue?e[t]!==void 0:Oue.call(e,t)}var Nue=kue,Rue=Db,jue="__lodash_hash_undefined__";function Due(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Rue&&e===void 0?jue:e,this}var Mue=Due,$ue=bue,Lue=xue,Vue=Pue,Fue=Nue,Uue=Mue;function ef(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ef.prototype.clear=$ue;ef.prototype.delete=Lue;ef.prototype.get=Vue;ef.prototype.has=Fue;ef.prototype.set=Uue;var Bue=ef;function zue(){this.__data__=[],this.size=0}var Wue=zue;function que(t,e){return t===e||t!==t&&e!==e}var eC=que,Hue=eC;function Gue(t,e){for(var r=t.length;r--;)if(Hue(t[r][0],e))return r;return-1}var Mb=Gue,Kue=Mb,Que=Array.prototype,Yue=Que.splice;function Xue(t){var e=this.__data__,r=Kue(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Yue.call(e,r,1),--this.size,!0}var Zue=Xue,Jue=Mb;function ede(t){var e=this.__data__,r=Jue(e,t);return r<0?void 0:e[r][1]}var tde=ede,rde=Mb;function nde(t){return rde(this.__data__,t)>-1}var ide=nde,ode=Mb;function ade(t,e){var r=this.__data__,n=ode(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var sde=ade,lde=Wue,cde=Zue,ude=tde,dde=ide,fde=sde;function tf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tf.prototype.clear=lde;tf.prototype.delete=cde;tf.prototype.get=ude;tf.prototype.has=dde;tf.prototype.set=fde;var $b=tf,hde=yc,pde=No,mde=hde(pde,"Map"),tC=mde,QR=Bue,gde=$b,yde=tC;function vde(){this.size=0,this.__data__={hash:new QR,map:new(yde||gde),string:new QR}}var bde=vde;function wde(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xde=wde,_de=xde;function Ede(t,e){var r=t.__data__;return _de(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Lb=Ede,Sde=Lb;function Tde(t){var e=Sde(this,t).delete(t);return this.size-=e?1:0,e}var Ade=Tde,Pde=Lb;function Cde(t){return Pde(this,t).get(t)}var Ide=Cde,Ode=Lb;function kde(t){return Ode(this,t).has(t)}var Nde=kde,Rde=Lb;function jde(t,e){var r=Rde(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Dde=jde,Mde=bde,$de=Ade,Lde=Ide,Vde=Nde,Fde=Dde;function rf(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rf.prototype.clear=Mde;rf.prototype.delete=$de;rf.prototype.get=Lde;rf.prototype.has=Vde;rf.prototype.set=Fde;var rC=rf,EB=rC,Ude="Expected a function";function nC(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ude);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(nC.Cache||EB),r}nC.Cache=EB;var SB=nC;const Bde=St(SB);var zde=SB,Wde=500;function qde(t){var e=zde(t,function(n){return r.size===Wde&&r.clear(),n}),r=e.cache;return e}var Hde=qde,Gde=Hde,Kde=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qde=/\\(\\)?/g,Yde=Gde(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kde,function(r,n,i,o){e.push(i?o.replace(Qde,"$1"):n||r)}),e}),Xde=Yde;function Zde(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var iC=Zde,YR=Am,Jde=iC,efe=In,tfe=Zd,rfe=1/0,XR=YR?YR.prototype:void 0,ZR=XR?XR.toString:void 0;function TB(t){if(typeof t=="string")return t;if(efe(t))return Jde(t,TB)+"";if(tfe(t))return ZR?ZR.call(t):"";var e=t+"";return e=="0"&&1/t==-rfe?"-0":e}var nfe=TB,ife=nfe;function ofe(t){return t==null?"":ife(t)}var AB=ofe,afe=In,sfe=ZP,lfe=Xde,cfe=AB;function ufe(t,e){return afe(t)?t:sfe(t,e)?[t]:lfe(cfe(t))}var PB=ufe,dfe=Zd,ffe=1/0;function hfe(t){if(typeof t=="string"||dfe(t))return t;var e=t+"";return e=="0"&&1/t==-ffe?"-0":e}var Vb=hfe,pfe=PB,mfe=Vb;function gfe(t,e){e=pfe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[mfe(e[r++])];return r&&r==n?t:void 0}var oC=gfe,yfe=oC;function vfe(t,e,r){var n=t==null?void 0:yfe(t,e);return n===void 0?r:n}var CB=vfe;const ui=St(CB);function bfe(t){return t==null}var wfe=bfe;const Je=St(wfe);var xfe=Ca,_fe=In,Efe=Ia,Sfe="[object String]";function Tfe(t){return typeof t=="string"||!_fe(t)&&Efe(t)&&xfe(t)==Sfe}var Afe=Tfe;const Pm=St(Afe);var IB={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=Symbol.for("react.element"),sC=Symbol.for("react.portal"),Fb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),zb=Symbol.for("react.provider"),Wb=Symbol.for("react.context"),Pfe=Symbol.for("react.server_context"),qb=Symbol.for("react.forward_ref"),Hb=Symbol.for("react.suspense"),Gb=Symbol.for("react.suspense_list"),Kb=Symbol.for("react.memo"),Qb=Symbol.for("react.lazy"),Cfe=Symbol.for("react.offscreen"),OB;OB=Symbol.for("react.module.reference");function gi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aC:switch(t=t.type,t){case Fb:case Bb:case Ub:case Hb:case Gb:return t;default:switch(t=t&&t.$$typeof,t){case Pfe:case Wb:case qb:case Qb:case Kb:case zb:return t;default:return e}}case sC:return e}}}xt.ContextConsumer=Wb;xt.ContextProvider=zb;xt.Element=aC;xt.ForwardRef=qb;xt.Fragment=Fb;xt.Lazy=Qb;xt.Memo=Kb;xt.Portal=sC;xt.Profiler=Bb;xt.StrictMode=Ub;xt.Suspense=Hb;xt.SuspenseList=Gb;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(t){return gi(t)===Wb};xt.isContextProvider=function(t){return gi(t)===zb};xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aC};xt.isForwardRef=function(t){return gi(t)===qb};xt.isFragment=function(t){return gi(t)===Fb};xt.isLazy=function(t){return gi(t)===Qb};xt.isMemo=function(t){return gi(t)===Kb};xt.isPortal=function(t){return gi(t)===sC};xt.isProfiler=function(t){return gi(t)===Bb};xt.isStrictMode=function(t){return gi(t)===Ub};xt.isSuspense=function(t){return gi(t)===Hb};xt.isSuspenseList=function(t){return gi(t)===Gb};xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fb||t===Bb||t===Ub||t===Hb||t===Gb||t===Cfe||typeof t=="object"&&t!==null&&(t.$$typeof===Qb||t.$$typeof===Kb||t.$$typeof===zb||t.$$typeof===Wb||t.$$typeof===qb||t.$$typeof===OB||t.getModuleId!==void 0)};xt.typeOf=gi;IB.exports=xt;var Ife=IB.exports,Ofe=Ca,kfe=Ia,Nfe="[object Number]";function Rfe(t){return typeof t=="number"||kfe(t)&&Ofe(t)==Nfe}var kB=Rfe;const jfe=St(kB);var Dfe=kB;function Mfe(t){return Dfe(t)&&t!=+t}var $fe=Mfe;const Cm=St($fe);var $i=function(e){return e===0?0:e>0?1:-1},El=function(e){return Pm(e)&&e.indexOf("%")===e.length-1},he=function(e){return jfe(e)&&!Cm(e)},gr=function(e){return he(e)||Pm(e)},Lfe=0,Im=function(e){var r=++Lfe;return"".concat(e||"").concat(r)},oc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&!Pm(e))return n;var o;if(El(e)){var a=e.indexOf("%");o=r*parseFloat(e.slice(0,a))/100}else o=+e;return Cm(o)&&(o=n),i&&o>r&&(o=r),o},Ya=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Vfe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ki=function(e,r){return he(e)&&he(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ev(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ui(n,e))===r})}function Cu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function xE(t){"@babel/helpers - typeof";return xE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(t)}var Ffe=["viewBox","children"],Ufe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JR=["points","pathLength"],Kx={svg:Ffe,polygon:JR,polyline:JR},lC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(O.isValidElement(e)&&(n=e.props),!Jd(n))return null;var i={};return Object.keys(n).forEach(function(o){lC.includes(o)&&(i[o]=r||function(a){return n[o](n,a)})}),i},Bfe=function(e,r,n){return function(i){return e(r,n,i),null}},Tv=function(e,r,n){if(!Jd(e)||xE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];lC.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Bfe(a,r,n))}),i},zfe=["children"],Wfe=["children"];function e2(t,e){if(t==null)return{};var r=qfe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _E(t){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_E(t)}var t2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},aa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},r2=null,Qx=null,cC=function t(e){if(e===r2&&Array.isArray(Qx))return Qx;var r=[];return O.Children.forEach(e,function(n){Je(n)||(Ife.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Qx=r,r2=e,r};function di(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return aa(i)}):n=[aa(e)],cC(t).forEach(function(i){var o=ui(i,"type.displayName")||ui(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Mn(t,e){var r=di(t,e);return r&&r[0]}var n2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!he(n)||n<=0||!he(i)||i<=0)},Hfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gfe=function(e){return e&&e.type&&Pm(e.type)&&Hfe.indexOf(e.type)>=0},Kfe=function(e){return e&&_E(e)==="object"&&"clipDot"in e},Qfe=function(e,r,n,i){var o,a=(o=Kx==null?void 0:Kx[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!He(e)&&(i&&a.includes(r)||Ufe.includes(r))||n&&lC.includes(r)},nt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!Jd(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Qfe((s=i)===null||s===void 0?void 0:s[a],a,r,n)&&(o[a]=i[a])}),o},EE=function t(e,r){if(e===r)return!0;var n=O.Children.count(e);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return i2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],a=r[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!i2(o,a))return!1}return!0},i2=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,o=e2(n,zfe),a=r.props||{},s=a.children,l=e2(a,Wfe);return i&&s?Cu(o,l)&&EE(i,s):!i&&!s?Cu(o,l):!1}return!1},o2=function(e,r){var n=[],i={};return cC(e).forEach(function(o,a){if(Gfe(o))n.push(o);else if(o){var s=aa(o.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(o,s,a);n.push(d),i[s]=!0}}}),n},Yfe=function(e){var r=e&&e.type;return r&&t2[r]?t2[r]:null},Xfe=function(e,r){return cC(r).indexOf(e)},Zfe=["children","width","height","viewBox","className","style","title","desc"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SE.apply(this,arguments)}function Jfe(t,e){if(t==null)return{};var r=ehe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ehe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=Jfe(t,Zfe),u=i||{width:r,height:n,x:0,y:0},d=ot("recharts-surface",o);return z.createElement("svg",SE({},nt(c,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,s),z.createElement("desc",null,l),e)}var the=["children","className"];function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AE.apply(this,arguments)}function rhe(t,e){if(t==null)return{};var r=nhe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nr=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=rhe(t,the),o=ot("recharts-layer",n);return z.createElement("g",AE({className:o},nt(i,!0),{ref:e}),r)}),sa=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function ihe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var ohe=ihe,ahe=ohe;function she(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:ahe(t,e,r)}var lhe=she,che="\\ud800-\\udfff",uhe="\\u0300-\\u036f",dhe="\\ufe20-\\ufe2f",fhe="\\u20d0-\\u20ff",hhe=uhe+dhe+fhe,phe="\\ufe0e\\ufe0f",mhe="\\u200d",ghe=RegExp("["+mhe+che+hhe+phe+"]");function yhe(t){return ghe.test(t)}var NB=yhe;function vhe(t){return t.split("")}var bhe=vhe,RB="\\ud800-\\udfff",whe="\\u0300-\\u036f",xhe="\\ufe20-\\ufe2f",_he="\\u20d0-\\u20ff",Ehe=whe+xhe+_he,She="\\ufe0e\\ufe0f",The="["+RB+"]",PE="["+Ehe+"]",CE="\\ud83c[\\udffb-\\udfff]",Ahe="(?:"+PE+"|"+CE+")",jB="[^"+RB+"]",DB="(?:\\ud83c[\\udde6-\\uddff]){2}",MB="[\\ud800-\\udbff][\\udc00-\\udfff]",Phe="\\u200d",$B=Ahe+"?",LB="["+She+"]?",Che="(?:"+Phe+"(?:"+[jB,DB,MB].join("|")+")"+LB+$B+")*",Ihe=LB+$B+Che,Ohe="(?:"+[jB+PE+"?",PE,DB,MB,The].join("|")+")",khe=RegExp(CE+"(?="+CE+")|"+Ohe+Ihe,"g");function Nhe(t){return t.match(khe)||[]}var Rhe=Nhe,jhe=bhe,Dhe=NB,Mhe=Rhe;function $he(t){return Dhe(t)?Mhe(t):jhe(t)}var Lhe=$he,Vhe=lhe,Fhe=NB,Uhe=Lhe,Bhe=AB;function zhe(t){return function(e){e=Bhe(e);var r=Fhe(e)?Uhe(e):void 0,n=r?r[0]:e.charAt(0),i=r?Vhe(r,1).join(""):e.slice(1);return n[t]()+i}}var Whe=zhe,qhe=Whe,Hhe=qhe("toUpperCase"),Ghe=Hhe;const Yb=St(Ghe);function Ct(t){return function(){return t}}const VB=Math.cos,Av=Math.sin,Yi=Math.sqrt,Pv=Math.PI,Xb=2*Pv,IE=Math.PI,OE=2*IE,ml=1e-6,Khe=OE-ml;function FB(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Qhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FB;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Yhe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FB:Qhe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=n-e,c=i-r,u=a-e,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>ml)if(!(Math.abs(d*l-c*u)>ml)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-a,v=i-s,g=l*l+c*c,b=m*m+v*v,x=Math.sqrt(g),y=Math.sqrt(f),w=o*Math.tan((IE-Math.acos((g+f-b)/(2*x*y)))/2),E=w/y,S=w/x;Math.abs(E-1)>ml&&this._append`L${e+E*u},${r+E*d}`,this._append`A${o},${o},0,0,${+(d*m>u*v)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,d=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ml||Math.abs(this._y1-u)>ml)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%OE+OE),f>Khe?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:f>ml&&this._append`A${n},${n},0,${+(f>=IE)},${d},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function uC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Yhe(e)}function dC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function UB(t){this._context=t}UB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zb(t){return new UB(t)}function BB(t){return t[0]}function zB(t){return t[1]}function WB(t,e){var r=Ct(!0),n=null,i=Zb,o=null,a=uC(s);t=typeof t=="function"?t:t===void 0?BB:Ct(t),e=typeof e=="function"?e:e===void 0?zB:Ct(e);function s(l){var c,u=(l=dC(l)).length,d,f=!1,m;for(n==null&&(o=i(m=a())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,c,l),+e(d,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ct(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ct(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ct(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),s):n},s}function Dg(t,e,r){var n=null,i=Ct(!0),o=null,a=Zb,s=null,l=uC(c);t=typeof t=="function"?t:t===void 0?BB:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zB:Ct(+r);function c(d){var f,m,v,g=(d=dC(d)).length,b,x=!1,y,w=new Array(g),E=new Array(g);for(o==null&&(s=a(y=l())),f=0;f<=g;++f){if(!(f<g&&i(b=d[f],f,d))===x)if(x=!x)m=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=m;--v)s.point(w[v],E[v]);s.lineEnd(),s.areaEnd()}x&&(w[f]=+t(b,f,d),E[f]=+e(b,f,d),s.point(n?+n(b,f,d):w[f],r?+r(b,f,d):E[f]))}if(y)return s=null,y+""||null}function u(){return WB().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ct(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ct(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ct(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class qB{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Xhe(t){return new qB(t,!0)}function Zhe(t){return new qB(t,!1)}const fC={draw(t,e){const r=Yi(e/Pv);t.moveTo(r,0),t.arc(0,0,r,0,Xb)}},Jhe={draw(t,e){const r=Yi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HB=Yi(1/3),epe=HB*2,tpe={draw(t,e){const r=Yi(e/epe),n=r*HB;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},rpe={draw(t,e){const r=Yi(e),n=-r/2;t.rect(n,n,r,r)}},npe=.8908130915292852,GB=Av(Pv/10)/Av(7*Pv/10),ipe=Av(Xb/10)*GB,ope=-VB(Xb/10)*GB,ape={draw(t,e){const r=Yi(e*npe),n=ipe*r,i=ope*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const a=Xb*o/5,s=VB(a),l=Av(a);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Yx=Yi(3),spe={draw(t,e){const r=-Yi(e/(Yx*3));t.moveTo(0,r*2),t.lineTo(-Yx*r,-r),t.lineTo(Yx*r,-r),t.closePath()}},ei=-.5,ti=Yi(3)/2,kE=1/Yi(12),lpe=(kE/2+1)*3,cpe={draw(t,e){const r=Yi(e/lpe),n=r/2,i=r*kE,o=n,a=r*kE+r,s=-o,l=a;t.moveTo(n,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ei*n-ti*i,ti*n+ei*i),t.lineTo(ei*o-ti*a,ti*o+ei*a),t.lineTo(ei*s-ti*l,ti*s+ei*l),t.lineTo(ei*n+ti*i,ei*i-ti*n),t.lineTo(ei*o+ti*a,ei*a-ti*o),t.lineTo(ei*s+ti*l,ei*l-ti*s),t.closePath()}};function upe(t,e){let r=null,n=uC(i);t=typeof t=="function"?t:Ct(t||fC),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Cv(){}function Iv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function KB(t){this._context=t}KB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dpe(t){return new KB(t)}function QB(t){this._context=t}QB.prototype={areaStart:Cv,areaEnd:Cv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fpe(t){return new QB(t)}function YB(t){this._context=t}YB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Iv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hpe(t){return new YB(t)}function XB(t){this._context=t}XB.prototype={areaStart:Cv,areaEnd:Cv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ppe(t){return new XB(t)}function a2(t){return t<0?-1:1}function s2(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(a2(o)+a2(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function l2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Xx(t,e,r){var n=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-n)/3;t._context.bezierCurveTo(n+s,i+s*e,o-s,a-s*r,o,a)}function Ov(t){this._context=t}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xx(this,this._t0,l2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xx(this,l2(this,r=s2(this,t,e)),r);break;default:Xx(this,this._t0,r=s2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ZB(t){this._context=new JB(t)}(ZB.prototype=Object.create(Ov.prototype)).point=function(t,e){Ov.prototype.point.call(this,e,t)};function JB(t){this._context=t}JB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function mpe(t){return new Ov(t)}function gpe(t){return new ZB(t)}function ez(t){this._context=t}ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=c2(t),i=c2(e),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function c2(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ype(t){return new ez(t)}function Jb(t,e){this._context=t,this._t=e}Jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function vpe(t){return new Jb(t,.5)}function bpe(t){return new Jb(t,0)}function wpe(t){return new Jb(t,1)}function ld(t,e){if((a=t.length)>1)for(var r=1,n,i,o=t[e[0]],a,s=o.length;r<a;++r)for(i=o,o=t[e[r]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function NE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xpe(t,e){return t[e]}function _pe(t){const e=[];return e.key=t,e}function Epe(){var t=Ct([]),e=NE,r=ld,n=xpe;function i(o){var a=Array.from(t.apply(this,arguments),_pe),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+n(d,a[s].key,c,o)]).data=d;for(s=0,u=dC(e(a));s<l;++s)a[u[s]].index=s;return r(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ct(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?NE:typeof o=="function"?o:Ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??ld,i):r},i}function Spe(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,a;i<o;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}ld(t,e)}}function Tpe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var a=0,s=0;a<i;++a)s+=t[a][r][1]||0;n[r][1]+=n[r][0]=-s/2}ld(t,e)}}function Ape(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,a;n<o;++n){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],d=u[n][1]||0,f=u[n-1][1]||0,m=(d-f)/2,v=0;v<s;++v){var g=t[e[v]],b=g[n][1]||0,x=g[n-1][1]||0;m+=b-x}l+=d,c+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ld(t,e)}}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}var Ppe=["type","size","sizeType"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RE.apply(this,arguments)}function u2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(r),!0).forEach(function(n){Cpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cpe(t,e,r){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ipe(t){var e=Ope(t,"string");return pp(e)=="symbol"?e:e+""}function Ope(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kpe(t,e){if(t==null)return{};var r=Npe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Npe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tz={symbolCircle:fC,symbolCross:Jhe,symbolDiamond:tpe,symbolSquare:rpe,symbolStar:ape,symbolTriangle:spe,symbolWye:cpe},Rpe=Math.PI/180,jpe=function(e){var r="symbol".concat(Yb(e));return tz[r]||fC},Dpe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Rpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mpe=function(e,r){tz["symbol".concat(Yb(e))]=r},hC=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=kpe(e,Ppe),c=d2(d2({},l),{},{type:n,size:o,sizeType:s}),u=function(){var b=jpe(n),x=upe().type(b).size(Dpe(o,s,n));return x()},d=c.className,f=c.cx,m=c.cy,v=nt(c,!0);return f===+f&&m===+m&&o===+o?z.createElement("path",RE({},v,{className:ot("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};hC.registerSymbol=Mpe;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jE.apply(this,arguments)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){mp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nz(n.key),n)}}function Fpe(t,e,r){return e&&Vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Upe(t,e,r){return e=kv(e),Bpe(t,rz()?Reflect.construct(e,r||[],kv(t).constructor):e.apply(t,r))}function Bpe(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zpe(t)}function zpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(t)}function Wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DE(t,e)}function mp(t,e,r){return e=nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nz(t){var e=qpe(t,"string");return cd(e)=="symbol"?e:e+""}function qpe(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ri=32,pC=function(t){function e(){return Lpe(this,e),Upe(this,e,arguments)}return Wpe(e,t),Fpe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=ri/2,a=ri/6,s=ri/3,l=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ri,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(ri,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ri/8,"h").concat(ri,"v").concat(ri*3/4,"h").concat(-ri,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var c=$pe({},n);return delete c.legendIcon,z.cloneElement(n.legendIcon,c)}return z.createElement(hC,{fill:l,cx:o,cy:o,size:ri,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ri,height:ri},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,v){var g=m.formatter||l,b=ot(mp(mp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=He(m.value)?null:m.value;sa(!He(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?c:m.color;return z.createElement("li",jE({className:b,style:d,key:"legend-item-".concat(v)},Tv(n.props,m,v)),z.createElement(TE,{width:a,height:a,viewBox:u,style:f},n.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,m,v):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,a=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);mp(pC,"displayName","Legend");mp(pC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hpe=$b;function Gpe(){this.__data__=new Hpe,this.size=0}var Kpe=Gpe;function Qpe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Ype=Qpe;function Xpe(t){return this.__data__.get(t)}var Zpe=Xpe;function Jpe(t){return this.__data__.has(t)}var eme=Jpe,tme=$b,rme=tC,nme=rC,ime=200;function ome(t,e){var r=this.__data__;if(r instanceof tme){var n=r.__data__;if(!rme||n.length<ime-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new nme(n)}return r.set(t,e),this.size=r.size,this}var ame=ome,sme=$b,lme=Kpe,cme=Ype,ume=Zpe,dme=eme,fme=ame;function nf(t){var e=this.__data__=new sme(t);this.size=e.size}nf.prototype.clear=lme;nf.prototype.delete=cme;nf.prototype.get=ume;nf.prototype.has=dme;nf.prototype.set=fme;var iz=nf,hme="__lodash_hash_undefined__";function pme(t){return this.__data__.set(t,hme),this}var mme=pme;function gme(t){return this.__data__.has(t)}var yme=gme,vme=rC,bme=mme,wme=yme;function Nv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new vme;++e<r;)this.add(t[e])}Nv.prototype.add=Nv.prototype.push=bme;Nv.prototype.has=wme;var oz=Nv;function xme(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var az=xme;function _me(t,e){return t.has(e)}var sz=_me,Eme=oz,Sme=az,Tme=sz,Ame=1,Pme=2;function Cme(t,e,r,n,i,o){var a=r&Ame,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,m=r&Pme?new Eme:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var v=t[d],g=e[d];if(n)var b=a?n(g,v,d,e,t,o):n(v,g,d,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(m){if(!Sme(e,function(x,y){if(!Tme(m,y)&&(v===x||i(v,x,r,n,o)))return m.push(y)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var lz=Cme,Ime=No,Ome=Ime.Uint8Array,kme=Ome;function Nme(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Rme=Nme;function jme(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var mC=jme,h2=Am,p2=kme,Dme=eC,Mme=lz,$me=Rme,Lme=mC,Vme=1,Fme=2,Ume="[object Boolean]",Bme="[object Date]",zme="[object Error]",Wme="[object Map]",qme="[object Number]",Hme="[object RegExp]",Gme="[object Set]",Kme="[object String]",Qme="[object Symbol]",Yme="[object ArrayBuffer]",Xme="[object DataView]",m2=h2?h2.prototype:void 0,Zx=m2?m2.valueOf:void 0;function Zme(t,e,r,n,i,o,a){switch(r){case Xme:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yme:return!(t.byteLength!=e.byteLength||!o(new p2(t),new p2(e)));case Ume:case Bme:case qme:return Dme(+t,+e);case zme:return t.name==e.name&&t.message==e.message;case Hme:case Kme:return t==e+"";case Wme:var s=$me;case Gme:var l=n&Vme;if(s||(s=Lme),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=Fme,a.set(t,e);var u=Mme(s(t),s(e),n,i,o,a);return a.delete(t),u;case Qme:if(Zx)return Zx.call(t)==Zx.call(e)}return!1}var Jme=Zme;function ege(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var cz=ege,tge=cz,rge=In;function nge(t,e,r){var n=e(t);return rge(t)?n:tge(n,r(t))}var ige=nge;function oge(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var age=oge;function sge(){return[]}var lge=sge,cge=age,uge=lge,dge=Object.prototype,fge=dge.propertyIsEnumerable,g2=Object.getOwnPropertySymbols,hge=g2?function(t){return t==null?[]:(t=Object(t),cge(g2(t),function(e){return fge.call(t,e)}))}:uge,pge=hge;function mge(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var gge=mge,yge=Ca,vge=Ia,bge="[object Arguments]";function wge(t){return vge(t)&&yge(t)==bge}var xge=wge,y2=xge,_ge=Ia,uz=Object.prototype,Ege=uz.hasOwnProperty,Sge=uz.propertyIsEnumerable,Tge=y2(function(){return arguments}())?y2:function(t){return _ge(t)&&Ege.call(t,"callee")&&!Sge.call(t,"callee")},gC=Tge,Rv={exports:{}};function Age(){return!1}var Pge=Age;Rv.exports;(function(t,e){var r=No,n=Pge,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Rv,Rv.exports);var dz=Rv.exports,Cge=9007199254740991,Ige=/^(?:0|[1-9]\d*)$/;function Oge(t,e){var r=typeof t;return e=e??Cge,!!e&&(r=="number"||r!="symbol"&&Ige.test(t))&&t>-1&&t%1==0&&t<e}var yC=Oge,kge=9007199254740991;function Nge(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kge}var vC=Nge,Rge=Ca,jge=vC,Dge=Ia,Mge="[object Arguments]",$ge="[object Array]",Lge="[object Boolean]",Vge="[object Date]",Fge="[object Error]",Uge="[object Function]",Bge="[object Map]",zge="[object Number]",Wge="[object Object]",qge="[object RegExp]",Hge="[object Set]",Gge="[object String]",Kge="[object WeakMap]",Qge="[object ArrayBuffer]",Yge="[object DataView]",Xge="[object Float32Array]",Zge="[object Float64Array]",Jge="[object Int8Array]",eye="[object Int16Array]",tye="[object Int32Array]",rye="[object Uint8Array]",nye="[object Uint8ClampedArray]",iye="[object Uint16Array]",oye="[object Uint32Array]",Dt={};Dt[Xge]=Dt[Zge]=Dt[Jge]=Dt[eye]=Dt[tye]=Dt[rye]=Dt[nye]=Dt[iye]=Dt[oye]=!0;Dt[Mge]=Dt[$ge]=Dt[Qge]=Dt[Lge]=Dt[Yge]=Dt[Vge]=Dt[Fge]=Dt[Uge]=Dt[Bge]=Dt[zge]=Dt[Wge]=Dt[qge]=Dt[Hge]=Dt[Gge]=Dt[Kge]=!1;function aye(t){return Dge(t)&&jge(t.length)&&!!Dt[Rge(t)]}var sye=aye;function lye(t){return function(e){return t(e)}}var fz=lye,jv={exports:{}};jv.exports;(function(t,e){var r=wB,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(jv,jv.exports);var cye=jv.exports,uye=sye,dye=fz,v2=cye,b2=v2&&v2.isTypedArray,fye=b2?dye(b2):uye,hz=fye,hye=gge,pye=gC,mye=In,gye=dz,yye=yC,vye=hz,bye=Object.prototype,wye=bye.hasOwnProperty;function xye(t,e){var r=mye(t),n=!r&&pye(t),i=!r&&!n&&gye(t),o=!r&&!n&&!i&&vye(t),a=r||n||i||o,s=a?hye(t.length,String):[],l=s.length;for(var c in t)(e||wye.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||yye(c,l)))&&s.push(c);return s}var _ye=xye,Eye=Object.prototype;function Sye(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Eye;return t===r}var Tye=Sye;function Aye(t,e){return function(r){return t(e(r))}}var pz=Aye,Pye=pz,Cye=Pye(Object.keys,Object),Iye=Cye,Oye=Tye,kye=Iye,Nye=Object.prototype,Rye=Nye.hasOwnProperty;function jye(t){if(!Oye(t))return kye(t);var e=[];for(var r in Object(t))Rye.call(t,r)&&r!="constructor"&&e.push(r);return e}var Dye=jye,Mye=JP,$ye=vC;function Lye(t){return t!=null&&$ye(t.length)&&!Mye(t)}var Om=Lye,Vye=_ye,Fye=Dye,Uye=Om;function Bye(t){return Uye(t)?Vye(t):Fye(t)}var ew=Bye,zye=ige,Wye=pge,qye=ew;function Hye(t){return zye(t,qye,Wye)}var Gye=Hye,w2=Gye,Kye=1,Qye=Object.prototype,Yye=Qye.hasOwnProperty;function Xye(t,e,r,n,i,o){var a=r&Kye,s=w2(t),l=s.length,c=w2(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var f=s[d];if(!(a?f in e:Yye.call(e,f)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var g=!0;o.set(t,e),o.set(e,t);for(var b=a;++d<l;){f=s[d];var x=t[f],y=e[f];if(n)var w=a?n(y,x,f,e,t,o):n(x,y,f,t,e,o);if(!(w===void 0?x===y||i(x,y,r,n,o):w)){g=!1;break}b||(b=f=="constructor")}if(g&&!b){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var Zye=Xye,Jye=yc,eve=No,tve=Jye(eve,"DataView"),rve=tve,nve=yc,ive=No,ove=nve(ive,"Promise"),ave=ove,sve=yc,lve=No,cve=sve(lve,"Set"),mz=cve,uve=yc,dve=No,fve=uve(dve,"WeakMap"),hve=fve,ME=rve,$E=tC,LE=ave,VE=mz,FE=hve,gz=Ca,of=_B,x2="[object Map]",pve="[object Object]",_2="[object Promise]",E2="[object Set]",S2="[object WeakMap]",T2="[object DataView]",mve=of(ME),gve=of($E),yve=of(LE),vve=of(VE),bve=of(FE),gl=gz;(ME&&gl(new ME(new ArrayBuffer(1)))!=T2||$E&&gl(new $E)!=x2||LE&&gl(LE.resolve())!=_2||VE&&gl(new VE)!=E2||FE&&gl(new FE)!=S2)&&(gl=function(t){var e=gz(t),r=e==pve?t.constructor:void 0,n=r?of(r):"";if(n)switch(n){case mve:return T2;case gve:return x2;case yve:return _2;case vve:return E2;case bve:return S2}return e});var wve=gl,Jx=iz,xve=lz,_ve=Jme,Eve=Zye,A2=wve,P2=In,C2=dz,Sve=hz,Tve=1,I2="[object Arguments]",O2="[object Array]",Mg="[object Object]",Ave=Object.prototype,k2=Ave.hasOwnProperty;function Pve(t,e,r,n,i,o){var a=P2(t),s=P2(e),l=a?O2:A2(t),c=s?O2:A2(e);l=l==I2?Mg:l,c=c==I2?Mg:c;var u=l==Mg,d=c==Mg,f=l==c;if(f&&C2(t)){if(!C2(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new Jx),a||Sve(t)?xve(t,e,r,n,i,o):_ve(t,e,l,r,n,i,o);if(!(r&Tve)){var m=u&&k2.call(t,"__wrapped__"),v=d&&k2.call(e,"__wrapped__");if(m||v){var g=m?t.value():t,b=v?e.value():e;return o||(o=new Jx),i(g,b,r,n,o)}}return f?(o||(o=new Jx),Eve(t,e,r,n,i,o)):!1}var Cve=Pve,Ive=Cve,N2=Ia;function yz(t,e,r,n,i){return t===e?!0:t==null||e==null||!N2(t)&&!N2(e)?t!==t&&e!==e:Ive(t,e,r,n,yz,i)}var bC=yz,Ove=iz,kve=bC,Nve=1,Rve=2;function jve(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Ove;if(n)var f=n(c,u,l,t,e,d);if(!(f===void 0?kve(u,c,Nve|Rve,n,d):f))return!1}}return!0}var Dve=jve,Mve=el;function $ve(t){return t===t&&!Mve(t)}var vz=$ve,Lve=vz,Vve=ew;function Fve(t){for(var e=Vve(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Lve(i)]}return e}var Uve=Fve;function Bve(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var bz=Bve,zve=Dve,Wve=Uve,qve=bz;function Hve(t){var e=Wve(t);return e.length==1&&e[0][2]?qve(e[0][0],e[0][1]):function(r){return r===t||zve(r,t,e)}}var Gve=Hve;function Kve(t,e){return t!=null&&e in Object(t)}var Qve=Kve,Yve=PB,Xve=gC,Zve=In,Jve=yC,e0e=vC,t0e=Vb;function r0e(t,e,r){e=Yve(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=t0e(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&e0e(i)&&Jve(a,i)&&(Zve(t)||Xve(t)))}var n0e=r0e,i0e=Qve,o0e=n0e;function a0e(t,e){return t!=null&&o0e(t,e,i0e)}var s0e=a0e,l0e=bC,c0e=CB,u0e=s0e,d0e=ZP,f0e=vz,h0e=bz,p0e=Vb,m0e=1,g0e=2;function y0e(t,e){return d0e(t)&&f0e(e)?h0e(p0e(t),e):function(r){var n=c0e(r,t);return n===void 0&&n===e?u0e(r,t):l0e(e,n,m0e|g0e)}}var v0e=y0e;function b0e(t){return t}var af=b0e;function w0e(t){return function(e){return e==null?void 0:e[t]}}var x0e=w0e,_0e=oC;function E0e(t){return function(e){return _0e(e,t)}}var S0e=E0e,T0e=x0e,A0e=S0e,P0e=ZP,C0e=Vb;function I0e(t){return P0e(t)?T0e(C0e(t)):A0e(t)}var O0e=I0e,k0e=Gve,N0e=v0e,R0e=af,j0e=In,D0e=O0e;function M0e(t){return typeof t=="function"?t:t==null?R0e:typeof t=="object"?j0e(t)?N0e(t[0],t[1]):k0e(t):D0e(t)}var tl=M0e;function $0e(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var wz=$0e;function L0e(t){return t!==t}var V0e=L0e;function F0e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var U0e=F0e,B0e=wz,z0e=V0e,W0e=U0e;function q0e(t,e,r){return e===e?W0e(t,e,r):B0e(t,z0e,r)}var H0e=q0e,G0e=H0e;function K0e(t,e){var r=t==null?0:t.length;return!!r&&G0e(t,e,0)>-1}var Q0e=K0e;function Y0e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var X0e=Y0e;function Z0e(){}var J0e=Z0e,e_=mz,ebe=J0e,tbe=mC,rbe=1/0,nbe=e_&&1/tbe(new e_([,-0]))[1]==rbe?function(t){return new e_(t)}:ebe,ibe=nbe,obe=oz,abe=Q0e,sbe=X0e,lbe=sz,cbe=ibe,ube=mC,dbe=200;function fbe(t,e,r){var n=-1,i=abe,o=t.length,a=!0,s=[],l=s;if(r)a=!1,i=sbe;else if(o>=dbe){var c=e?null:cbe(t);if(c)return ube(c);a=!1,i=lbe,l=new obe}else l=e?[]:s;e:for(;++n<o;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(u)}else i(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s}var hbe=fbe,pbe=tl,mbe=hbe;function gbe(t,e){return t&&t.length?mbe(t,pbe(e)):[]}var ybe=gbe;const R2=St(ybe);function xz(t,e,r){return e===!0?R2(t,r):He(e)?R2(t,e):t}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}var vbe=["ref"];function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ez(n.key),n)}}function wbe(t,e,r){return e&&D2(t.prototype,e),r&&D2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xbe(t,e,r){return e=Dv(e),_be(t,_z()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function _be(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ebe(t)}function Ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UE(t,e)}function tw(t,e,r){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ez(t){var e=Tbe(t,"string");return ud(e)=="symbol"?e:e+""}function Tbe(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Abe(t,e){if(t==null)return{};var r=Pbe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cbe(t){return t.value}function Ibe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=Abe(e,vbe);return z.createElement(pC,r)}var M2=1,Iu=function(t){function e(){var r;bbe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=xbe(this,e,[].concat(i)),tw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Sbe(e,t),wbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>M2||Math.abs(i.height-this.lastBoundingBox.height)>M2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();d={left:((c||0)-m.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();f={top:((u||0)-v.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vo(Vo({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Vo(Vo({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},Ibe(o,Vo(Vo({},this.props),{},{payload:xz(u,c,Cbe)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Vo(Vo({},this.defaultProps),n.props),a=o.layout;return a==="vertical"&&he(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);tw(Iu,"displayName","Legend");tw(Iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $2=Am,Obe=gC,kbe=In,L2=$2?$2.isConcatSpreadable:void 0;function Nbe(t){return kbe(t)||Obe(t)||!!(L2&&t&&t[L2])}var Rbe=Nbe,jbe=cz,Dbe=Rbe;function Sz(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=Dbe),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?Sz(s,e-1,r,n,i):jbe(i,s):n||(i[i.length]=s)}return i}var Tz=Sz;function Mbe(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++i];if(r(o[l],l,o)===!1)break}return e}}var $be=Mbe,Lbe=$be,Vbe=Lbe(),Fbe=Vbe,Ube=Fbe,Bbe=ew;function zbe(t,e){return t&&Ube(t,e,Bbe)}var Az=zbe,Wbe=Om;function qbe(t,e){return function(r,n){if(r==null)return r;if(!Wbe(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var Hbe=qbe,Gbe=Az,Kbe=Hbe,Qbe=Kbe(Gbe),wC=Qbe,Ybe=wC,Xbe=Om;function Zbe(t,e){var r=-1,n=Xbe(t)?Array(t.length):[];return Ybe(t,function(i,o,a){n[++r]=e(i,o,a)}),n}var Pz=Zbe;function Jbe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var ewe=Jbe,V2=Zd;function twe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=V2(t),a=e!==void 0,s=e===null,l=e===e,c=V2(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}var rwe=twe,nwe=rwe;function iwe(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var l=nwe(i[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var owe=iwe,t_=iC,awe=oC,swe=tl,lwe=Pz,cwe=ewe,uwe=fz,dwe=owe,fwe=af,hwe=In;function pwe(t,e,r){e.length?e=t_(e,function(o){return hwe(o)?function(a){return awe(a,o.length===1?o[0]:o)}:o}):e=[fwe];var n=-1;e=t_(e,uwe(swe));var i=lwe(t,function(o,a,s){var l=t_(e,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return cwe(i,function(o,a){return dwe(o,a,r)})}var mwe=pwe;function gwe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var ywe=gwe,vwe=ywe,F2=Math.max;function bwe(t,e,r){return e=F2(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=F2(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),vwe(t,this,s)}}var wwe=bwe;function xwe(t){return function(){return t}}var _we=xwe,Ewe=yc,Swe=function(){try{var t=Ewe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Cz=Swe,Twe=_we,U2=Cz,Awe=af,Pwe=U2?function(t,e){return U2(t,"toString",{configurable:!0,enumerable:!1,value:Twe(e),writable:!0})}:Awe,Cwe=Pwe,Iwe=800,Owe=16,kwe=Date.now;function Nwe(t){var e=0,r=0;return function(){var n=kwe(),i=Owe-(n-r);if(r=n,i>0){if(++e>=Iwe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Rwe=Nwe,jwe=Cwe,Dwe=Rwe,Mwe=Dwe(jwe),$we=Mwe,Lwe=af,Vwe=wwe,Fwe=$we;function Uwe(t,e){return Fwe(Vwe(t,e,Lwe),t+"")}var Bwe=Uwe,zwe=eC,Wwe=Om,qwe=yC,Hwe=el;function Gwe(t,e,r){if(!Hwe(r))return!1;var n=typeof e;return(n=="number"?Wwe(r)&&qwe(e,r.length):n=="string"&&e in r)?zwe(r[e],t):!1}var rw=Gwe,Kwe=Tz,Qwe=mwe,Ywe=Bwe,B2=rw,Xwe=Ywe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&B2(t,e[0],e[1])?e=[]:r>2&&B2(e[0],e[1],e[2])&&(e=[e[0]]),Qwe(t,Kwe(e,1),[])}),Zwe=Xwe;const xC=St(Zwe);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function Jwe(t,e){return nxe(t)||rxe(t,e)||txe(t,e)||exe()}function exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z2(t,e)}}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function nxe(t){if(Array.isArray(t))return t}function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){ixe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ixe(t,e,r){return e=oxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oxe(t){var e=axe(t,"string");return gp(e)=="symbol"?e:e+""}function axe(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sxe(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var lxe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,m=e.wrapperClassName,v=e.labelClassName,g=e.label,b=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(u&&u.length){var k={padding:0,margin:0},R=(f?xC(u,f):u).map(function(M,L){if(M.type==="none")return null;var V=r_({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),U=M.formatter||d||sxe,$=M.value,B=M.name,G=$,ee=B;if(U&&G!=null&&ee!=null){var J=U($,B,M,L,u);if(Array.isArray(J)){var ie=Jwe(J,2);G=ie[0],ee=ie[1]}else G=J}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:V},gr(ee)?z.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,gr(ee)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},G),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},E=r_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=r_({margin:0},c),C=!Je(g),_=C?g:"",T=ot("recharts-default-tooltip",m),A=ot("recharts-tooltip-label",v);C&&b&&u!==void 0&&u!==null&&(_=b(g,u));var N=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",BE({className:T,style:E},N),z.createElement("p",{className:A,style:S},z.isValidElement(_)?_:"".concat(_)),w())};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function $g(t,e,r){return e=cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cxe(t){var e=uxe(t,"string");return yp(e)=="symbol"?e:e+""}function uxe(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $f="recharts-tooltip-wrapper",dxe={visibility:"hidden"};function fxe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ot($f,$g($g($g($g({},"".concat($f,"-right"),he(r)&&e&&he(e.x)&&r>=e.x),"".concat($f,"-left"),he(r)&&e&&he(e.x)&&r<e.x),"".concat($f,"-bottom"),he(n)&&e&&he(e.y)&&n>=e.y),"".concat($f,"-top"),he(n)&&e&&he(e.y)&&n<e.y))}function q2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&he(o[n]))return o[n];var u=r[n]-s-i,d=r[n]+i;if(e[n])return a[n]?u:d;if(a[n]){var f=u,m=l[n];return f<m?Math.max(d,l[n]):Math.max(u,l[n])}var v=d+s,g=l[n]+c;return v>g?Math.max(u,l[n]):Math.max(d,l[n])}function hxe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function pxe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&r?(u=q2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=q2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=hxe({translateX:u,translateY:d,useTranslate3d:s})):c=dxe,{cssProperties:c,cssClasses:fxe({translateX:u,translateY:d,coordinate:r})}}function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oz(n.key),n)}}function yxe(t,e,r){return e&&gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vxe(t,e,r){return e=Mv(e),bxe(t,Iz()?Reflect.construct(e,r||[],Mv(t).constructor):e.apply(t,r))}function bxe(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wxe(t)}function wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mv(t)}function xxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zE(t,e)}function WE(t,e,r){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oz(t){var e=_xe(t,"string");return dd(e)=="symbol"?e:e+""}function _xe(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K2=1,Exe=function(t){function e(){var r;mxe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=vxe(this,e,[].concat(i)),WE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),WE(r,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return xxe(e,t),yxe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>K2||Math.abs(n.height-this.state.lastBoundingBox.height)>K2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,m=i.offset,v=i.position,g=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,w=pxe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:m,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),E=w.cssClasses,S=w.cssProperties,C=G2(G2({transition:f&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:E,style:C,ref:function(T){n.wrapperNode=T}},c)}}])}(O.PureComponent),Sxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},la={isSsr:Sxe(),get:function(e){return la[e]},set:function(e,r){if(typeof e=="string")la[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){la[i]=e[i]})}}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){_C(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Axe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nz(n.key),n)}}function Pxe(t,e,r){return e&&Axe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cxe(t,e,r){return e=$v(e),Ixe(t,kz()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function Ixe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(t)}function Oxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function kxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qE(t,e)}function _C(t,e,r){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){var e=Nxe(t,"string");return fd(e)=="symbol"?e:e+""}function Nxe(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rxe(t){return t.dataKey}function jxe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(lxe,e)}var Ai=function(t){function e(){return Txe(this,e),Cxe(this,e,arguments)}return kxe(e,t),Pxe(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,m=i.offset,v=i.payload,g=i.payloadUniqBy,b=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,S=v??[];d&&S.length&&(S=xz(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),g,Rxe));var C=S.length>0;return z.createElement(Exe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:C,offset:m,position:b,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:E},jxe(c,Y2(Y2({},this.props),{},{payload:S})))}}])}(O.PureComponent);_C(Ai,"displayName","Tooltip");_C(Ai,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!la.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Dxe=No,Mxe=function(){return Dxe.Date.now()},$xe=Mxe,Lxe=/\s/;function Vxe(t){for(var e=t.length;e--&&Lxe.test(t.charAt(e)););return e}var Fxe=Vxe,Uxe=Fxe,Bxe=/^\s+/;function zxe(t){return t&&t.slice(0,Uxe(t)+1).replace(Bxe,"")}var Wxe=zxe,qxe=Wxe,X2=el,Hxe=Zd,Z2=NaN,Gxe=/^[-+]0x[0-9a-f]+$/i,Kxe=/^0b[01]+$/i,Qxe=/^0o[0-7]+$/i,Yxe=parseInt;function Xxe(t){if(typeof t=="number")return t;if(Hxe(t))return Z2;if(X2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=X2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qxe(t);var r=Kxe.test(t);return r||Qxe.test(t)?Yxe(t.slice(2),r?2:8):Gxe.test(t)?Z2:+t}var Rz=Xxe,Zxe=el,n_=$xe,J2=Rz,Jxe="Expected a function",e_e=Math.max,t_e=Math.min;function r_e(t,e,r){var n,i,o,a,s,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Jxe);e=J2(e)||0,Zxe(r)&&(u=!!r.leading,d="maxWait"in r,o=d?e_e(J2(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function m(C){var _=n,T=i;return n=i=void 0,c=C,a=t.apply(T,_),a}function v(C){return c=C,s=setTimeout(x,e),u?m(C):a}function g(C){var _=C-l,T=C-c,A=e-_;return d?t_e(A,o-T):A}function b(C){var _=C-l,T=C-c;return l===void 0||_>=e||_<0||d&&T>=o}function x(){var C=n_();if(b(C))return y(C);s=setTimeout(x,g(C))}function y(C){return s=void 0,f&&n?m(C):(n=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function E(){return s===void 0?a:y(n_())}function S(){var C=n_(),_=b(C);if(n=arguments,i=this,l=C,_){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(x,e),m(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=w,S.flush=E,S}var n_e=r_e,i_e=n_e,o_e=el,a_e="Expected a function";function s_e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(a_e);return o_e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),i_e(t,e,{leading:n,maxWait:e,trailing:i})}var l_e=s_e;const jz=St(l_e);function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){c_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c_e(t,e,r){return e=u_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u_e(t){var e=d_e(t,"string");return vp(e)=="symbol"?e:e+""}function d_e(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f_e(t,e){return g_e(t)||m_e(t,e)||p_e(t,e)||h_e()}function h_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_e(t,e){if(t){if(typeof t=="string")return tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function g_e(t){if(Array.isArray(t))return t}var rj=O.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,m=t.children,v=t.debounce,g=v===void 0?0:v,b=t.id,x=t.className,y=t.onResize,w=t.style,E=w===void 0?{}:w,S=O.useRef(null),C=O.useRef();C.current=y,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var _=O.useState({containerWidth:i.width,containerHeight:i.height}),T=f_e(_,2),A=T[0],N=T[1],I=O.useCallback(function(R,M){N(function(L){var V=Math.round(R),U=Math.round(M);return L.containerWidth===V&&L.containerHeight===U?L:{containerWidth:V,containerHeight:U}})},[]);O.useEffect(function(){var R=function(B){var G,ee=B[0].contentRect,J=ee.width,ie=ee.height;I(J,ie),(G=C.current)===null||G===void 0||G.call(C,J,ie)};g>0&&(R=jz(R,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),L=S.current.getBoundingClientRect(),V=L.width,U=L.height;return I(V,U),M.observe(S.current),function(){M.disconnect()}},[I,g]);var k=O.useMemo(function(){var R=A.containerWidth,M=A.containerHeight;if(R<0||M<0)return null;sa(El(a)||El(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),sa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=El(a)?R:a,V=El(l)?M:l;r&&r>0&&(L?V=L/r:V&&(L=V*r),f&&V>f&&(V=f)),sa(L>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,V,a,l,u,d,r);var U=!Array.isArray(m)&&aa(m.type).endsWith("Chart");return z.Children.map(m,function($){return z.isValidElement($)?O.cloneElement($,Lg({width:L,height:V},U?{style:Lg({height:"100%",width:"100%",maxHeight:V,maxWidth:L},$.props.style)}:{})):$})},[r,m,l,f,d,u,A,a]);return z.createElement("div",{id:b?"".concat(b):void 0,className:ot("recharts-responsive-container",x),style:Lg(Lg({},E),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:S},k)}),Dz=function(e){return null};Dz.displayName="Cell";function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){y_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y_e(t,e,r){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v_e(t){var e=b_e(t,"string");return bp(e)=="symbol"?e:e+""}function b_e(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jc={widthCache:{},cacheCount:0},w_e=2e3,x_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ij="recharts_measurement_span";function __e(t){var e=HE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ch=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||la.isSsr)return{width:0,height:0};var n=__e(r),i=JSON.stringify({text:e,copyStyle:n});if(jc.widthCache[i])return jc.widthCache[i];try{var o=document.getElementById(ij);o||(o=document.createElement("span"),o.setAttribute("id",ij),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=HE(HE({},x_e),n);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return jc.widthCache[i]=l,++jc.cacheCount>w_e&&(jc.cacheCount=0,jc.widthCache={}),l}catch{return{width:0,height:0}}},E_e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Lv(t,e){return P_e(t)||A_e(t,e)||T_e(t,e)||S_e()}function S_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,e){if(t){if(typeof t=="string")return oj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(t,e)}}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function P_e(t){if(Array.isArray(t))return t}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O_e(n.key),n)}}function I_e(t,e,r){return e&&aj(t.prototype,e),r&&aj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t){var e=k_e(t,"string");return wp(e)=="symbol"?e:e+""}function k_e(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,R_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},j_e=Object.keys(Mz),iu="NaN";function D_e(t,e){return t*Mz[e]}var Vg=function(){function t(e,r){C_e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!N_e.test(r)&&(this.num=NaN,this.unit=""),j_e.includes(r)&&(this.num=D_e(e,r),this.unit="px")}return I_e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=R_e.exec(r))!==null&&n!==void 0?n:[],o=Lv(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function $z(t){if(t.includes(iu))return iu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=sj.exec(e))!==null&&r!==void 0?r:[],i=Lv(n,4),o=i[1],a=i[2],s=i[3],l=Vg.parse(o??""),c=Vg.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return iu;e=e.replace(sj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=lj.exec(e))!==null&&d!==void 0?d:[],m=Lv(f,4),v=m[1],g=m[2],b=m[3],x=Vg.parse(v??""),y=Vg.parse(b??""),w=g==="+"?x.add(y):x.subtract(y);if(w.isNaN())return iu;e=e.replace(lj,w.toString())}return e}var cj=/\(([^()]*)\)/;function M_e(t){for(var e=t;e.includes("(");){var r=cj.exec(e),n=Lv(r,2),i=n[1];e=e.replace(cj,$z(i))}return e}function $_e(t){var e=t.replace(/\s+/g,"");return e=M_e(e),e=$z(e),e}function L_e(t){try{return $_e(t)}catch{return iu}}function i_(t){var e=L_e(t.slice(5,-1));return e===iu?"":e}var V_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],F_e=["dx","dy","angle","className","breakAll"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GE.apply(this,arguments)}function uj(t,e){if(t==null)return{};var r=U_e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dj(t,e){return q_e(t)||W_e(t,e)||z_e(t,e)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(t,e){if(t){if(typeof t=="string")return fj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function q_e(t){if(Array.isArray(t))return t}var Lz=/[ \f\n\r\t\v\u2028\u2029]+/,Vz=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Je(r)||(n?o=r.toString().split(""):o=r.toString().split(Lz));var a=o.map(function(l){return{word:l,width:Ch(l,i).width}}),s=n?0:Ch("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},H_e=function(e,r,n,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=he(a),d=s,f=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(V,U){var $=U.word,B=U.width,G=V[V.length-1];if(G&&(i==null||o||G.width+B+n<Number(i)))G.words.push($),G.width+=B+n;else{var ee={words:[$],width:B};V.push(ee)}return V},[])},m=f(r),v=function(L){return L.reduce(function(V,U){return V.width>U.width?V:U})};if(!u)return m;for(var g="",b=function(L){var V=d.slice(0,L),U=Vz({breakAll:c,style:l,children:V+g}).wordsWithComputedWidth,$=f(U),B=$.length>a||v($).width>Number(i);return[B,$]},x=0,y=d.length-1,w=0,E;x<=y&&w<=d.length-1;){var S=Math.floor((x+y)/2),C=S-1,_=b(C),T=dj(_,2),A=T[0],N=T[1],I=b(S),k=dj(I,1),R=k[0];if(!A&&!R&&(x=S+1),A&&R&&(y=S-1),!A&&R){E=N;break}w++}return E||m},hj=function(e){var r=Je(e)?[]:e.toString().split(Lz);return[{words:r}]},G_e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((r||n)&&!la.isSsr){var l,c,u=Vz({breakAll:a,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return hj(i);return H_e({breakAll:a,children:i,maxLines:s,style:o},l,c,r,n)}return hj(i)},pj="#808080",Vv=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,m=f===void 0?"start":f,v=e.verticalAnchor,g=v===void 0?"end":v,b=e.fill,x=b===void 0?pj:b,y=uj(e,V_e),w=O.useMemo(function(){return G_e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),E=y.dx,S=y.dy,C=y.angle,_=y.className,T=y.breakAll,A=uj(y,F_e);if(!gr(n)||!gr(o))return null;var N=n+(he(E)?E:0),I=o+(he(S)?S:0),k;switch(g){case"start":k=i_("calc(".concat(c,")"));break;case"middle":k=i_("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=i_("calc(".concat(w.length-1," * -").concat(s,")"));break}var R=[];if(d){var M=w[0].width,L=y.width;R.push("scale(".concat((he(L)?L/M:1)/M,")"))}return C&&R.push("rotate(".concat(C,", ").concat(N,", ").concat(I,")")),R.length&&(A.transform=R.join(" ")),z.createElement("text",GE({},nt(A,!0),{x:N,y:I,className:ot("recharts-text",_),textAnchor:m,fill:x.includes("url")?pj:x}),w.map(function(V,U){var $=V.words.join(T?"":" ");return z.createElement("tspan",{x:N,dy:U===0?k:s,key:"".concat($,"-").concat(U)},$)}))};function Ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function K_e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EC(t){let e,r,n;t.length!==2?(e=Ts,r=(s,l)=>Ts(t(s),l),n=(s,l)=>t(s)-l):(e=t===Ts||t===K_e?t:Q_e,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function Q_e(){return 0}function Fz(t){return t===null?NaN:+t}function*Y_e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const X_e=EC(Ts),km=X_e.right;EC(Fz).center;class mj extends Map{constructor(e,r=e1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(gj(this,e))}has(e){return super.has(gj(this,e))}set(e,r){return super.set(Z_e(this,e),r)}delete(e){return super.delete(J_e(this,e))}}function gj({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Z_e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function J_e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function e1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function t1e(t=Ts){if(t===Ts)return Uz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Uz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const r1e=Math.sqrt(50),n1e=Math.sqrt(10),i1e=Math.sqrt(2);function Fv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=r1e?10:o>=n1e?5:o>=i1e?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Fv(t,e,r*2):[s,l,c]}function KE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,a]=n?Fv(e,t,r):Fv(t,e,r);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(n)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function QE(t,e,r){return e=+e,t=+t,r=+r,Fv(t,e,r)[2]}function YE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?QE(e,t,r):QE(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function yj(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vj(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Bz(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Uz:t1e(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(e-c*d/l+f)),v=Math.min(n,Math.floor(e+(l-c)*d/l+f));Bz(t,e,m,v,i)}const o=t[e];let a=r,s=n;for(Lf(t,r,e),i(t[n],o)>0&&Lf(t,r,n);a<s;){for(Lf(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[r],o)===0?Lf(t,r,s):(++s,Lf(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Lf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function o1e(t,e,r){if(t=Float64Array.from(Y_e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return vj(t);if(e>=1)return yj(t);var n,i=(n-1)*e,o=Math.floor(i),a=yj(Bz(t,o).subarray(0,o+1)),s=vj(t.subarray(o+1));return a+(s-a)*(i-o)}}function a1e(t,e,r=Fz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),a=+r(t[o],o,t),s=+r(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function s1e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const XE=Symbol("implicit");function SC(){var t=new mj,e=[],r=[],n=XE;function i(o){let a=t.get(o);if(a===void 0){if(n!==XE)return n;t.set(o,a=e.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new mj;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SC(e,r).unknown(n)},yi.apply(i,arguments),i}function xp(){var t=SC().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,m=i<n,v=m?i:n,g=m?n:i;o=(g-v)/Math.max(1,f-l+c*2),s&&(o=Math.floor(o)),v+=(g-v-o*(f-l))*u,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=s1e(f).map(function(x){return v+o*x});return r(m?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return xp(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},yi.apply(d(),arguments)}function zz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zz(e())},t}function Ih(){return zz(xp.apply(null,arguments).paddingInner(1))}function TC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Wz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Nm(){}var _p=.7,Uv=1/_p,Ou="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l1e=/^#([0-9a-f]{3,8})$/,c1e=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),u1e=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),d1e=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${Ep}\\)$`),f1e=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${Ep}\\)$`),h1e=new RegExp(`^hsl\\(${Ep},${Eo},${Eo}\\)$`),p1e=new RegExp(`^hsla\\(${Ep},${Eo},${Eo},${Ep}\\)$`),bj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TC(Nm,Sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wj,formatHex:wj,formatHex8:m1e,formatHsl:g1e,formatRgb:xj,toString:xj});function wj(){return this.rgb().formatHex()}function m1e(){return this.rgb().formatHex8()}function g1e(){return qz(this).formatHsl()}function xj(){return this.rgb().formatRgb()}function Sp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=l1e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_j(e):r===3?new Sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=c1e.exec(t))?new Sn(e[1],e[2],e[3],1):(e=u1e.exec(t))?new Sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=d1e.exec(t))?Fg(e[1],e[2],e[3],e[4]):(e=f1e.exec(t))?Fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=h1e.exec(t))?Tj(e[1],e[2]/100,e[3]/100,1):(e=p1e.exec(t))?Tj(e[1],e[2]/100,e[3]/100,e[4]):bj.hasOwnProperty(t)?_j(bj[t]):t==="transparent"?new Sn(NaN,NaN,NaN,0):null}function _j(t){return new Sn(t>>16&255,t>>8&255,t&255,1)}function Fg(t,e,r,n){return n<=0&&(t=e=r=NaN),new Sn(t,e,r,n)}function y1e(t){return t instanceof Nm||(t=Sp(t)),t?(t=t.rgb(),new Sn(t.r,t.g,t.b,t.opacity)):new Sn}function ZE(t,e,r,n){return arguments.length===1?y1e(t):new Sn(t,e,r,n??1)}function Sn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}TC(Sn,ZE,Wz(Nm,{brighter(t){return t=t==null?Uv:Math.pow(Uv,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sn(Vl(this.r),Vl(this.g),Vl(this.b),Bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ej,formatHex:Ej,formatHex8:v1e,formatRgb:Sj,toString:Sj}));function Ej(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function v1e(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sj(){const t=Bv(this.opacity);return`${t===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${t===1?")":`, ${t})`}`}function Bv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Vl(t),(t<16?"0":"")+t.toString(16)}function Tj(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,r,n)}function qz(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Nm||(t=Sp(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ni(a,s,l,t.opacity)}function b1e(t,e,r,n){return arguments.length===1?qz(t):new Ni(t,e,r,n??1)}function Ni(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}TC(Ni,b1e,Wz(Nm,{brighter(t){return t=t==null?Uv:Math.pow(Uv,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_p:Math.pow(_p,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Sn(o_(t>=240?t-240:t+120,i,n),o_(t,i,n),o_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ni(Aj(this.h),Ug(this.s),Ug(this.l),Bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bv(this.opacity);return`${t===1?"hsl(":"hsla("}${Aj(this.h)}, ${Ug(this.s)*100}%, ${Ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Aj(t){return t=(t||0)%360,t<0?t+360:t}function Ug(t){return Math.max(0,Math.min(1,t||0))}function o_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const AC=t=>()=>t;function w1e(t,e){return function(r){return t+r*e}}function x1e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function _1e(t){return(t=+t)==1?Hz:function(e,r){return r-e?x1e(e,r,t):AC(isNaN(e)?r:e)}}function Hz(t,e){var r=e-t;return r?w1e(t,r):AC(isNaN(t)?e:t)}const Pj=function t(e){var r=_1e(e);function n(i,o){var a=r((i=ZE(i)).r,(o=ZE(o)).r),s=r(i.g,o.g),l=r(i.b,o.b),c=Hz(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function E1e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function S1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function T1e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=sf(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function A1e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function zv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function P1e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=sf(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var JE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a_=new RegExp(JE.source,"g");function C1e(t){return function(){return t}}function I1e(t){return function(e){return t(e)+""}}function O1e(t,e){var r=JE.lastIndex=a_.lastIndex=0,n,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=JE.exec(t))&&(i=a_.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:zv(n,i)})),r=a_.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?I1e(l[0].x):C1e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function sf(t,e){var r=typeof e,n;return e==null||r==="boolean"?AC(e):(r==="number"?zv:r==="string"?(n=Sp(e))?(e=n,Pj):O1e:e instanceof Sp?Pj:e instanceof Date?A1e:S1e(e)?E1e:Array.isArray(e)?T1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?P1e:zv)(t,e)}function PC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function k1e(t,e){e===void 0&&(e=t,t=sf);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function N1e(t){return function(){return t}}function Wv(t){return+t}var Cj=[0,1];function un(t){return t}function eS(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:N1e(isNaN(e)?NaN:.5)}function R1e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function j1e(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=eS(i,n),o=r(a,o)):(n=eS(n,i),o=r(o,a)),function(s){return o(n(s))}}function D1e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=eS(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var l=km(t,s,1,n)-1;return o[l](i[l](s))}}function Rm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nw(){var t=Cj,e=Cj,r=sf,n,i,o,a=un,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==un&&(a=R1e(t[0],t[f-1])),s=f>2?D1e:j1e,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((c||(c=s(e,t.map(n),zv)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Wv),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=PC,u()},d.clamp=function(f){return arguments.length?(a=f?!0:un,u()):a!==un},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,m){return n=f,i=m,u()}}function CC(){return nw()(un,un)}function M1e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hd(t){return t=qv(Math.abs(t)),t?t[1]:NaN}function $1e(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function L1e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var V1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tp(t){if(!(e=V1e.exec(t)))throw new Error("invalid format: "+t);var e;return new IC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tp.prototype=IC.prototype;function IC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function F1e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Gz;function U1e(t,e){var r=qv(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(Gz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+qv(t,Math.max(0,e+o-1))[0]}function Ij(t,e){var r=qv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Oj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:M1e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ij(t*100,e),r:Ij,s:U1e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kj(t){return t}var Nj=Array.prototype.map,Rj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B1e(t){var e=t.grouping===void 0||t.thousands===void 0?kj:$1e(Nj.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?kj:L1e(Nj.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Tp(d);var f=d.fill,m=d.align,v=d.sign,g=d.symbol,b=d.zero,x=d.width,y=d.comma,w=d.precision,E=d.trim,S=d.type;S==="n"?(y=!0,S="g"):Oj[S]||(w===void 0&&(w=12),E=!0,S="g"),(b||f==="0"&&m==="=")&&(b=!0,f="0",m="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=g==="$"?n:/[%p]/.test(S)?a:"",T=Oj[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(I){var k=C,R=_,M,L,V;if(S==="c")R=T(I)+R,I="";else{I=+I;var U=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),w),E&&(I=F1e(I)),U&&+I==0&&v!=="+"&&(U=!1),k=(U?v==="("?v:s:v==="-"||v==="("?"":v)+k,R=(S==="s"?Rj[8+Gz/3]:"")+R+(U&&v==="("?")":""),A){for(M=-1,L=I.length;++M<L;)if(V=I.charCodeAt(M),48>V||V>57){R=(V===46?i+I.slice(M+1):I.slice(M))+R,I=I.slice(0,M);break}}}y&&!b&&(I=e(I,1/0));var $=k.length+I.length+R.length,B=$<x?new Array(x-$+1).join(f):"";switch(y&&b&&(I=e(B+I,B.length?x-R.length:1/0),B=""),m){case"<":I=k+I+R+B;break;case"=":I=k+B+I+R;break;case"^":I=B.slice(0,$=B.length>>1)+k+I+R+B.slice($);break;default:I=B+k+I+R;break}return o(I)}return N.toString=function(){return d+""},N}function u(d,f){var m=c((d=Tp(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(hd(f)/3)))*3,g=Math.pow(10,-v),b=Rj[8+v/3];return function(x){return m(g*x)+b}}return{format:c,formatPrefix:u}}var Bg,OC,Kz;z1e({thousands:",",grouping:[3],currency:["$",""]});function z1e(t){return Bg=B1e(t),OC=Bg.format,Kz=Bg.formatPrefix,Bg}function W1e(t){return Math.max(0,-hd(Math.abs(t)))}function q1e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hd(e)/3)))*3-hd(Math.abs(t)))}function H1e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hd(e)-hd(t))+1}function Qz(t,e,r,n){var i=YE(t,e,r),o;switch(n=Tp(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=q1e(i,a))&&(n.precision=o),Kz(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=H1e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=W1e(i))&&(n.precision=o-(n.type==="%")*2);break}}return OC(n)}function rl(t){var e=t.domain;return t.ticks=function(r){var n=e();return KE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Qz(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=QE(a,s,r),c===l)return n[i]=a,n[o]=s,e(n);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Hv(){var t=CC();return t.copy=function(){return Rm(t,Hv())},yi.apply(t,arguments),rl(t)}function Yz(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Wv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Yz(t).unknown(e)},t=arguments.length?Array.from(t,Wv):[0,1],rl(r)}function Xz(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),t[r]=e.floor(i),t[n]=e.ceil(o),t}function jj(t){return Math.log(t)}function Dj(t){return Math.exp(t)}function G1e(t){return-Math.log(-t)}function K1e(t){return-Math.exp(-t)}function Q1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Y1e(t){return t===10?Q1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function X1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mj(t){return(e,r)=>-t(-e,r)}function kC(t){const e=t(jj,Dj),r=e.domain;let n=10,i,o;function a(){return i=X1e(n),o=Y1e(n),r()[0]<0?(i=Mj(i),o=Mj(o),t(G1e,K1e)):t(jj,Dj),e}return e.base=function(s){return arguments.length?(n=+s,a()):n},e.domain=function(s){return arguments.length?(r(s),a()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),m=i(u),v,g;const b=s==null?10:+s;let x=[];if(!(n%1)&&m-f<b){if(f=Math.floor(f),m=Math.ceil(m),c>0){for(;f<=m;++f)for(v=1;v<n;++v)if(g=f<0?v/o(-f):v*o(f),!(g<c)){if(g>u)break;x.push(g)}}else for(;f<=m;++f)for(v=n-1;v>=1;--v)if(g=f>0?v/o(-f):v*o(f),!(g<c)){if(g>u)break;x.push(g)}x.length*2<b&&(x=KE(c,u,b))}else x=KE(f,m,Math.min(m-f,b)).map(o);return d?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Tp(l)).precision==null&&(l.trim=!0),l=OC(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(Xz(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Zz(){const t=kC(nw()).domain([1,10]);return t.copy=()=>Rm(t,Zz()).base(t.base()),yi.apply(t,arguments),t}function $j(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Lj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NC(t){var e=1,r=t($j(e),Lj(e));return r.constant=function(n){return arguments.length?t($j(e=+n),Lj(e)):e},rl(r)}function Jz(){var t=NC(nw());return t.copy=function(){return Rm(t,Jz()).constant(t.constant())},yi.apply(t,arguments)}function Vj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function J1e(t){return t<0?-t*t:t*t}function RC(t){var e=t(un,un),r=1;function n(){return r===1?t(un,un):r===.5?t(Z1e,J1e):t(Vj(r),Vj(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},rl(e)}function jC(){var t=RC(nw());return t.copy=function(){return Rm(t,jC()).exponent(t.exponent())},yi.apply(t,arguments),t}function eEe(){return jC.apply(null,arguments).exponent(.5)}function Fj(t){return Math.sign(t)*t*t}function tEe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function e9(){var t=CC(),e=[0,1],r=!1,n;function i(o){var a=tEe(t(o));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(o){return t.invert(Fj(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Wv)).map(Fj)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return e9(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yi.apply(i,arguments),rl(i)}function t9(){var t=[],e=[],r=[],n;function i(){var a=0,s=Math.max(1,e.length);for(r=new Array(s-1);++a<s;)r[a-1]=a1e(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:e[km(r,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ts),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return t9().domain(t).range(e).unknown(n)},yi.apply(o,arguments)}function r9(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[km(n,l,0,r)]:o}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return r9().domain([t,e]).range(i).unknown(o)},yi.apply(rl(a),arguments)}function n9(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[km(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return n9().domain(t).range(e).unknown(r)},yi.apply(i,arguments)}const s_=new Date,l_=new Date;function vr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>vr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),r&&(i.count=(o,a)=>(s_.setTime(+o),l_.setTime(+a),t(s_),t(l_),Math.floor(r(s_,l_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Gv=vr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gv);Gv.range;const Jo=1e3,li=Jo*60,ea=li*60,wa=ea*24,DC=wa*7,Uj=wa*30,c_=wa*365,Tl=vr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCSeconds());Tl.range;const MC=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getMinutes());MC.range;const $C=vr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCMinutes());$C.range;const LC=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo-t.getMinutes()*li)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getHours());LC.range;const VC=vr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCHours());VC.range;const jm=vr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/wa,t=>t.getDate()-1);jm.range;const iw=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>t.getUTCDate()-1);iw.range;const i9=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wa,t=>Math.floor(t/wa));i9.range;function vc(t){return vr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*li)/DC)}const ow=vc(0),Kv=vc(1),rEe=vc(2),nEe=vc(3),pd=vc(4),iEe=vc(5),oEe=vc(6);ow.range;Kv.range;rEe.range;nEe.range;pd.range;iEe.range;oEe.range;function bc(t){return vr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/DC)}const aw=bc(0),Qv=bc(1),aEe=bc(2),sEe=bc(3),md=bc(4),lEe=bc(5),cEe=bc(6);aw.range;Qv.range;aEe.range;sEe.range;md.range;lEe.range;cEe.range;const FC=vr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FC.range;const UC=vr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());UC.range;const xa=vr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});xa.range;const _a=vr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_a.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_a.range;function o9(t,e,r,n,i,o){const a=[[Tl,1,Jo],[Tl,5,5*Jo],[Tl,15,15*Jo],[Tl,30,30*Jo],[o,1,li],[o,5,5*li],[o,15,15*li],[o,30,30*li],[i,1,ea],[i,3,3*ea],[i,6,6*ea],[i,12,12*ea],[n,1,wa],[n,2,2*wa],[r,1,DC],[e,1,Uj],[e,3,3*Uj],[t,1,c_]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const m=d&&typeof d.range=="function"?d:l(c,u,d),v=m?m.range(c,+u+1):[];return f?v.reverse():v}function l(c,u,d){const f=Math.abs(u-c)/d,m=EC(([,,b])=>b).right(a,f);if(m===a.length)return t.every(YE(c/c_,u/c_,d));if(m===0)return Gv.every(Math.max(YE(c,u,d),1));const[v,g]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return v.every(g)}return[s,l]}const[uEe,dEe]=o9(_a,UC,aw,i9,VC,$C),[fEe,hEe]=o9(xa,FC,ow,jm,LC,MC);function u_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function d_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function pEe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Ff(i),u=Uf(i),d=Ff(o),f=Uf(o),m=Ff(a),v=Uf(a),g=Ff(s),b=Uf(s),x=Ff(l),y=Uf(l),w={a:U,A:$,b:B,B:G,c:null,d:Gj,e:Gj,f:$Ee,g:GEe,G:QEe,H:jEe,I:DEe,j:MEe,L:a9,m:LEe,M:VEe,p:ee,q:J,Q:Yj,s:Xj,S:FEe,u:UEe,U:BEe,V:zEe,w:WEe,W:qEe,x:null,X:null,y:HEe,Y:KEe,Z:YEe,"%":Qj},E={a:ie,A:Ce,b:ue,B:Se,c:null,d:Kj,e:Kj,f:eSe,g:uSe,G:fSe,H:XEe,I:ZEe,j:JEe,L:l9,m:tSe,M:rSe,p:fe,q:Te,Q:Yj,s:Xj,S:nSe,u:iSe,U:oSe,V:aSe,w:sSe,W:lSe,x:null,X:null,y:cSe,Y:dSe,Z:hSe,"%":Qj},S={a:N,A:I,b:k,B:R,c:M,d:qj,e:qj,f:OEe,g:Wj,G:zj,H:Hj,I:Hj,j:AEe,L:IEe,m:TEe,M:PEe,p:A,q:SEe,Q:NEe,s:REe,S:CEe,u:bEe,U:wEe,V:xEe,w:vEe,W:_Ee,x:L,X:V,y:Wj,Y:zj,Z:EEe,"%":kEe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),E.x=C(r,E),E.X=C(n,E),E.c=C(e,E);function C(ne,de){return function(le){var Q=[],Be=-1,Oe=0,dt=ne.length,ft,kt,gn;for(le instanceof Date||(le=new Date(+le));++Be<dt;)ne.charCodeAt(Be)===37&&(Q.push(ne.slice(Oe,Be)),(kt=Bj[ft=ne.charAt(++Be)])!=null?ft=ne.charAt(++Be):kt=ft==="e"?" ":"0",(gn=de[ft])&&(ft=gn(le,kt)),Q.push(ft),Oe=Be+1);return Q.push(ne.slice(Oe,Be)),Q.join("")}}function _(ne,de){return function(le){var Q=Vf(1900,void 0,1),Be=T(Q,ne,le+="",0),Oe,dt;if(Be!=le.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(de&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Oe=d_(Vf(Q.y,0,1)),dt=Oe.getUTCDay(),Oe=dt>4||dt===0?Qv.ceil(Oe):Qv(Oe),Oe=iw.offset(Oe,(Q.V-1)*7),Q.y=Oe.getUTCFullYear(),Q.m=Oe.getUTCMonth(),Q.d=Oe.getUTCDate()+(Q.w+6)%7):(Oe=u_(Vf(Q.y,0,1)),dt=Oe.getDay(),Oe=dt>4||dt===0?Kv.ceil(Oe):Kv(Oe),Oe=jm.offset(Oe,(Q.V-1)*7),Q.y=Oe.getFullYear(),Q.m=Oe.getMonth(),Q.d=Oe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),dt="Z"in Q?d_(Vf(Q.y,0,1)).getUTCDay():u_(Vf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(dt+5)%7:Q.w+Q.U*7-(dt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,d_(Q)):u_(Q)}}function T(ne,de,le,Q){for(var Be=0,Oe=de.length,dt=le.length,ft,kt;Be<Oe;){if(Q>=dt)return-1;if(ft=de.charCodeAt(Be++),ft===37){if(ft=de.charAt(Be++),kt=S[ft in Bj?de.charAt(Be++):ft],!kt||(Q=kt(ne,le,Q))<0)return-1}else if(ft!=le.charCodeAt(Q++))return-1}return Q}function A(ne,de,le){var Q=c.exec(de.slice(le));return Q?(ne.p=u.get(Q[0].toLowerCase()),le+Q[0].length):-1}function N(ne,de,le){var Q=m.exec(de.slice(le));return Q?(ne.w=v.get(Q[0].toLowerCase()),le+Q[0].length):-1}function I(ne,de,le){var Q=d.exec(de.slice(le));return Q?(ne.w=f.get(Q[0].toLowerCase()),le+Q[0].length):-1}function k(ne,de,le){var Q=x.exec(de.slice(le));return Q?(ne.m=y.get(Q[0].toLowerCase()),le+Q[0].length):-1}function R(ne,de,le){var Q=g.exec(de.slice(le));return Q?(ne.m=b.get(Q[0].toLowerCase()),le+Q[0].length):-1}function M(ne,de,le){return T(ne,e,de,le)}function L(ne,de,le){return T(ne,r,de,le)}function V(ne,de,le){return T(ne,n,de,le)}function U(ne){return a[ne.getDay()]}function $(ne){return o[ne.getDay()]}function B(ne){return l[ne.getMonth()]}function G(ne){return s[ne.getMonth()]}function ee(ne){return i[+(ne.getHours()>=12)]}function J(ne){return 1+~~(ne.getMonth()/3)}function ie(ne){return a[ne.getUTCDay()]}function Ce(ne){return o[ne.getUTCDay()]}function ue(ne){return l[ne.getUTCMonth()]}function Se(ne){return s[ne.getUTCMonth()]}function fe(ne){return i[+(ne.getUTCHours()>=12)]}function Te(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var de=C(ne+="",w);return de.toString=function(){return ne},de},parse:function(ne){var de=_(ne+="",!1);return de.toString=function(){return ne},de},utcFormat:function(ne){var de=C(ne+="",E);return de.toString=function(){return ne},de},utcParse:function(ne){var de=_(ne+="",!0);return de.toString=function(){return ne},de}}}var Bj={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,mEe=/^%/,gEe=/[\\^$*+?|[\]().{}]/g;function ut(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function yEe(t){return t.replace(gEe,"\\$&")}function Ff(t){return new RegExp("^(?:"+t.map(yEe).join("|")+")","i")}function Uf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function vEe(t,e,r){var n=Ar.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function bEe(t,e,r){var n=Ar.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function wEe(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xEe(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function _Ee(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function zj(t,e,r){var n=Ar.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Wj(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EEe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SEe(t,e,r){var n=Ar.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function TEe(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qj(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function AEe(t,e,r){var n=Ar.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Hj(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function PEe(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function CEe(t,e,r){var n=Ar.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function IEe(t,e,r){var n=Ar.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function OEe(t,e,r){var n=Ar.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kEe(t,e,r){var n=mEe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function NEe(t,e,r){var n=Ar.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function REe(t,e,r){var n=Ar.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Gj(t,e){return ut(t.getDate(),e,2)}function jEe(t,e){return ut(t.getHours(),e,2)}function DEe(t,e){return ut(t.getHours()%12||12,e,2)}function MEe(t,e){return ut(1+jm.count(xa(t),t),e,3)}function a9(t,e){return ut(t.getMilliseconds(),e,3)}function $Ee(t,e){return a9(t,e)+"000"}function LEe(t,e){return ut(t.getMonth()+1,e,2)}function VEe(t,e){return ut(t.getMinutes(),e,2)}function FEe(t,e){return ut(t.getSeconds(),e,2)}function UEe(t){var e=t.getDay();return e===0?7:e}function BEe(t,e){return ut(ow.count(xa(t)-1,t),e,2)}function s9(t){var e=t.getDay();return e>=4||e===0?pd(t):pd.ceil(t)}function zEe(t,e){return t=s9(t),ut(pd.count(xa(t),t)+(xa(t).getDay()===4),e,2)}function WEe(t){return t.getDay()}function qEe(t,e){return ut(Kv.count(xa(t)-1,t),e,2)}function HEe(t,e){return ut(t.getFullYear()%100,e,2)}function GEe(t,e){return t=s9(t),ut(t.getFullYear()%100,e,2)}function KEe(t,e){return ut(t.getFullYear()%1e4,e,4)}function QEe(t,e){var r=t.getDay();return t=r>=4||r===0?pd(t):pd.ceil(t),ut(t.getFullYear()%1e4,e,4)}function YEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function Kj(t,e){return ut(t.getUTCDate(),e,2)}function XEe(t,e){return ut(t.getUTCHours(),e,2)}function ZEe(t,e){return ut(t.getUTCHours()%12||12,e,2)}function JEe(t,e){return ut(1+iw.count(_a(t),t),e,3)}function l9(t,e){return ut(t.getUTCMilliseconds(),e,3)}function eSe(t,e){return l9(t,e)+"000"}function tSe(t,e){return ut(t.getUTCMonth()+1,e,2)}function rSe(t,e){return ut(t.getUTCMinutes(),e,2)}function nSe(t,e){return ut(t.getUTCSeconds(),e,2)}function iSe(t){var e=t.getUTCDay();return e===0?7:e}function oSe(t,e){return ut(aw.count(_a(t)-1,t),e,2)}function c9(t){var e=t.getUTCDay();return e>=4||e===0?md(t):md.ceil(t)}function aSe(t,e){return t=c9(t),ut(md.count(_a(t),t)+(_a(t).getUTCDay()===4),e,2)}function sSe(t){return t.getUTCDay()}function lSe(t,e){return ut(Qv.count(_a(t)-1,t),e,2)}function cSe(t,e){return ut(t.getUTCFullYear()%100,e,2)}function uSe(t,e){return t=c9(t),ut(t.getUTCFullYear()%100,e,2)}function dSe(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function fSe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?md(t):md.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function hSe(){return"+0000"}function Qj(){return"%"}function Yj(t){return+t}function Xj(t){return Math.floor(+t/1e3)}var Dc,u9,d9;pSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pSe(t){return Dc=pEe(t),u9=Dc.format,Dc.parse,d9=Dc.utcFormat,Dc.utcParse,Dc}function mSe(t){return new Date(t)}function gSe(t){return t instanceof Date?+t:+new Date(+t)}function BC(t,e,r,n,i,o,a,s,l,c){var u=CC(),d=u.invert,f=u.domain,m=c(".%L"),v=c(":%S"),g=c("%I:%M"),b=c("%I %p"),x=c("%a %d"),y=c("%b %d"),w=c("%B"),E=c("%Y");function S(C){return(l(C)<C?m:s(C)<C?v:a(C)<C?g:o(C)<C?b:n(C)<C?i(C)<C?x:y:r(C)<C?w:E)(C)}return u.invert=function(C){return new Date(d(C))},u.domain=function(C){return arguments.length?f(Array.from(C,gSe)):f().map(mSe)},u.ticks=function(C){var _=f();return t(_[0],_[_.length-1],C??10)},u.tickFormat=function(C,_){return _==null?S:c(_)},u.nice=function(C){var _=f();return(!C||typeof C.range!="function")&&(C=e(_[0],_[_.length-1],C??10)),C?f(Xz(_,C)):u},u.copy=function(){return Rm(u,BC(t,e,r,n,i,o,a,s,l,c))},u}function ySe(){return yi.apply(BC(fEe,hEe,xa,FC,ow,jm,LC,MC,Tl,u9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vSe(){return yi.apply(BC(uEe,dEe,_a,UC,aw,iw,VC,$C,Tl,d9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sw(){var t=0,e=1,r,n,i,o,a=un,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(f){var m,v;return arguments.length?([m,v]=f,a=d(m,v),c):[a(0),a(1)]}}return c.range=u(sf),c.rangeRound=u(PC),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function f9(){var t=rl(sw()(un));return t.copy=function(){return nl(t,f9())},Oa.apply(t,arguments)}function h9(){var t=kC(sw()).domain([1,10]);return t.copy=function(){return nl(t,h9()).base(t.base())},Oa.apply(t,arguments)}function p9(){var t=NC(sw());return t.copy=function(){return nl(t,p9()).constant(t.constant())},Oa.apply(t,arguments)}function zC(){var t=RC(sw());return t.copy=function(){return nl(t,zC()).exponent(t.exponent())},Oa.apply(t,arguments)}function bSe(){return zC.apply(null,arguments).exponent(.5)}function m9(){var t=[],e=un;function r(n){if(n!=null&&!isNaN(n=+n))return e((km(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ts),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>o1e(t,o/n))},r.copy=function(){return m9(e).domain(t)},Oa.apply(r,arguments)}function lw(){var t=0,e=.5,r=1,n=1,i,o,a,s,l,c=un,u,d=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-o)*(n*g<n*o?s:l),c(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),o=u(e=+e),a=u(r=+r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function v(g){return function(b){var x,y,w;return arguments.length?([x,y,w]=b,c=k1e(g,[x,y,w]),m):[c(0),c(.5),c(1)]}}return m.range=v(sf),m.rangeRound=v(PC),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return u=g,i=g(t),o=g(e),a=g(r),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),n=o<i?-1:1,m}}function g9(){var t=rl(lw()(un));return t.copy=function(){return nl(t,g9())},Oa.apply(t,arguments)}function y9(){var t=kC(lw()).domain([.1,1,10]);return t.copy=function(){return nl(t,y9()).base(t.base())},Oa.apply(t,arguments)}function v9(){var t=NC(lw());return t.copy=function(){return nl(t,v9()).constant(t.constant())},Oa.apply(t,arguments)}function WC(){var t=RC(lw());return t.copy=function(){return nl(t,WC()).exponent(t.exponent())},Oa.apply(t,arguments)}function wSe(){return WC.apply(null,arguments).exponent(.5)}const Zj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xp,scaleDiverging:g9,scaleDivergingLog:y9,scaleDivergingPow:WC,scaleDivergingSqrt:wSe,scaleDivergingSymlog:v9,scaleIdentity:Yz,scaleImplicit:XE,scaleLinear:Hv,scaleLog:Zz,scaleOrdinal:SC,scalePoint:Ih,scalePow:jC,scaleQuantile:t9,scaleQuantize:r9,scaleRadial:e9,scaleSequential:f9,scaleSequentialLog:h9,scaleSequentialPow:zC,scaleSequentialQuantile:m9,scaleSequentialSqrt:bSe,scaleSequentialSymlog:p9,scaleSqrt:eEe,scaleSymlog:Jz,scaleThreshold:n9,scaleTime:ySe,scaleUtc:vSe,tickFormat:Qz},Symbol.toStringTag,{value:"Module"}));var xSe=Zd;function _Se(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],a=e(o);if(a!=null&&(s===void 0?a===a&&!xSe(a):r(a,s)))var s=a,l=o}return l}var b9=_Se;function ESe(t,e){return t>e}var SSe=ESe,TSe=b9,ASe=SSe,PSe=af;function CSe(t){return t&&t.length?TSe(t,PSe,ASe):void 0}var ISe=CSe;const cw=St(ISe);function OSe(t,e){return t<e}var kSe=OSe,NSe=b9,RSe=kSe,jSe=af;function DSe(t){return t&&t.length?NSe(t,jSe,RSe):void 0}var MSe=DSe;const uw=St(MSe);var $Se=iC,LSe=tl,VSe=Pz,FSe=In;function USe(t,e){var r=FSe(t)?$Se:VSe;return r(t,LSe(e))}var BSe=USe,zSe=Tz,WSe=BSe;function qSe(t,e){return zSe(WSe(t,e),1)}var HSe=qSe;const GSe=St(HSe);var KSe=bC;function QSe(t,e){return KSe(t,e)}var YSe=QSe;const dw=St(YSe);var lf=1e9,XSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HC,Ut=!0,mi="[DecimalError] ",Fl=mi+"Invalid argument: ",qC=mi+"Exponent out of range: ",cf=Math.floor,yl=Math.pow,ZSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,xr=1e7,Mt=7,w9=9007199254740991,Yv=cf(w9/Mt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(t){return ca(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,r=e.constructor;return At(ca(e,new r(t),0,1),r.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return dr(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Vn))throw Error(mi+"NaN");if(r.s<1)throw Error(mi+(r.s?"NaN":"-Infinity"));return r.eq(Vn)?new n(0):(Ut=!1,e=ca(Ap(r,o),Ap(t,o),o),Ut=!0,At(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E9(e,t):x9(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(mi+"NaN");return r.s?(Ut=!1,e=ca(r,t,0,1).times(t),Ut=!0,r.minus(e)):At(new n(r),i)};we.naturalExponential=we.exp=function(){return _9(this)};we.naturalLogarithm=we.ln=function(){return Ap(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?x9(e,t):E9(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fl+t);if(e=dr(i)+1,n=i.d.length-1,r=n*Mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};we.squareRoot=we.sqrt=function(){var t,e,r,n,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(mi+"NaN")}for(t=dr(s),Ut=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=uo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(o=n,n=o.plus(ca(s,o,a+2)).times(.5),uo(o.d).slice(0,a)===(e=uo(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(At(o,r+1,0),o.times(o).eq(s)){n=o;break}}else if(e!="9999")break;a+=4}return Ut=!0,At(n,r)};we.times=we.mul=function(t){var e,r,n,i,o,a,s,l,c,u=this,d=u.constructor,f=u.d,m=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=f.length,c=m.length,l<c&&(o=f,f=m,m=o,a=l,l=c,c=a),o=[],a=l+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=o[i]+m[n]*f[i-n-1]+e,o[i--]=s%xr|0,e=s/xr|0;o[i]=(o[i]+e)%xr|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ut?At(t,d.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Co(t,0,lf),e===void 0?e=n.rounding:Co(e,0,8),At(r,t+dr(r)+1,e))};we.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ac(n,!0):(Co(t,0,lf),e===void 0?e=i.rounding:Co(e,0,8),n=At(new i(n),t+1,e),r=ac(n,!0,t+1)),r};we.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ac(i):(Co(t,0,lf),e===void 0?e=o.rounding:Co(e,0,8),n=At(new o(i),t+dr(i)+1,e),r=ac(n.abs(),!1,t+dr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return At(new e(t),dr(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,r,n,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(mi+"Infinity");return s}if(s.eq(Vn))return s;if(n=l.precision,t.eq(Vn))return At(s,n);if(e=t.e,r=t.d.length-1,a=e>=r,o=s.s,a){if((r=u<0?-u:u)<=w9){for(i=new l(Vn),e=Math.ceil(n/Mt+4),Ut=!1;r%2&&(i=i.times(s),eD(i.d,e)),r=cf(r/2),r!==0;)s=s.times(s),eD(s.d,e);return Ut=!0,t.s<0?new l(Vn).div(i):At(i,n)}}else if(o<0)throw Error(mi+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Ut=!1,i=t.times(Ap(s,n+c)),Ut=!0,i=_9(i),i.s=o,i};we.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=dr(i),n=ac(i,r<=o.toExpNeg||r>=o.toExpPos)):(Co(t,1,lf),e===void 0?e=o.rounding:Co(e,0,8),i=At(new o(i),t,e),r=dr(i),n=ac(i,t<=r||r<=o.toExpNeg,t)),n};we.toSignificantDigits=we.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Co(t,1,lf),e===void 0?e=n.rounding:Co(e,0,8)),At(new n(r),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dr(t),r=t.constructor;return ac(t,e<=r.toExpNeg||e>=r.toExpPos)};function x9(t,e){var r,n,i,o,a,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ut?At(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(n=l,o=-o,s=c.length):(n=c,i=a,s=l.length),a=Math.ceil(d/Mt),s=a>s?a+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/xr|0,l[o]%=xr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ut?At(e,d):e}function Co(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Fl+t)}function uo(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=Mt-n.length,r&&(o+=za(r)),o+=n;a=t[e],n=a+"",r=Mt-n.length,r&&(o+=za(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var ca=function(){function t(n,i){var o,a=0,s=n.length;for(n=n.slice();s--;)o=n[s]*i+a,n[s]=o%xr|0,a=o/xr|0;return a&&n.unshift(a),n}function e(n,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,o){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*xr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,a){var s,l,c,u,d,f,m,v,g,b,x,y,w,E,S,C,_,T,A=n.constructor,N=n.s==i.s?1:-1,I=n.d,k=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(mi+"Division by zero");for(l=n.e-i.e,_=k.length,S=I.length,m=new A(N),v=m.d=[],c=0;k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--l,o==null?y=o=A.precision:a?y=o+(dr(n)-dr(i))+1:y=o,y<0)return new A(0);if(y=y/Mt+2|0,c=0,_==1)for(u=0,k=k[0],y++;(c<S||u)&&y--;c++)w=u*xr+(I[c]||0),v[c]=w/k|0,u=w%k|0;else{for(u=xr/(k[0]+1)|0,u>1&&(k=t(k,u),I=t(I,u),_=k.length,S=I.length),E=_,g=I.slice(0,_),b=g.length;b<_;)g[b++]=0;T=k.slice(),T.unshift(0),C=k[0],k[1]>=xr/2&&++C;do u=0,s=e(k,g,_,b),s<0?(x=g[0],_!=b&&(x=x*xr+(g[1]||0)),u=x/C|0,u>1?(u>=xr&&(u=xr-1),d=t(k,u),f=d.length,b=g.length,s=e(d,g,f,b),s==1&&(u--,r(d,_<f?T:k,f))):(u==0&&(s=u=1),d=k.slice()),f=d.length,f<b&&d.unshift(0),r(g,d,b),s==-1&&(b=g.length,s=e(k,g,_,b),s<1&&(u++,r(g,_<b?T:k,b))),b=g.length):s===0&&(u++,g=[0]),v[c++]=u,s&&g[0]?g[b++]=I[E]||0:(g=[I[E]],b=1);while((E++<S||g[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=l,At(m,a?o+dr(m)+1:o)}}();function _9(t,e){var r,n,i,o,a,s,l=0,c=0,u=t.constructor,d=u.precision;if(dr(t)>16)throw Error(qC+dr(t));if(!t.s)return new u(Vn);for(e==null?(Ut=!1,s=d):s=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(yl(2,c))/Math.LN10*2+5|0,s+=n,r=i=o=new u(Vn),u.precision=s;;){if(i=At(i.times(t),s),r=r.times(++l),a=o.plus(ca(i,r,s)),uo(a.d).slice(0,s)===uo(o.d).slice(0,s)){for(;c--;)o=At(o.times(o),s);return u.precision=d,e==null?(Ut=!0,At(o,d)):o}o=a}}function dr(t){for(var e=t.e*Mt,r=t.d[0];r>=10;r/=10)e++;return e}function f_(t,e,r){if(e>t.LN10.sd())throw Ut=!0,r&&(t.precision=r),Error(mi+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function za(t){for(var e="";t--;)e+="0";return e}function Ap(t,e){var r,n,i,o,a,s,l,c,u,d=1,f=10,m=t,v=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(mi+(m.s?"NaN":"-Infinity"));if(m.eq(Vn))return new g(0);if(e==null?(Ut=!1,c=b):c=e,m.eq(10))return e==null&&(Ut=!0),f_(g,c);if(c+=f,g.precision=c,r=uo(v),n=r.charAt(0),o=dr(m),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=uo(m.d),n=r.charAt(0),d++;o=dr(m),n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1))}else return l=f_(g,c+2,b).times(o+""),m=Ap(new g(n+"."+r.slice(1)),c-f).plus(l),g.precision=b,e==null?(Ut=!0,At(m,b)):m;for(s=a=m=ca(m.minus(Vn),m.plus(Vn),c),u=At(m.times(m),c),i=3;;){if(a=At(a.times(u),c),l=s.plus(ca(a,new g(i),c)),uo(l.d).slice(0,c)===uo(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(f_(g,c+2,b).times(o+""))),s=ca(s,new g(d),c),g.precision=b,e==null?(Ut=!0,At(s,b)):s;s=l,i+=2}}function Jj(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=cf(r/Mt),t.d=[],n=(r+1)%Mt,r<0&&(n+=Mt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Mt;n<i;)t.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Yv||t.e<-Yv))throw Error(qC+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,o,a,s,l,c,u,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(n=e-a,n<0)n+=Mt,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/Mt),o=d.length,u>=o)return t;for(c=o=d[u],a=1;o>=10;o/=10)a++;n%=Mt,i=n-Mt+a}if(r!==void 0&&(o=yl(10,a-i-1),s=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/yl(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(o=dr(t),d.length=1,e=e-o-1,d[0]=yl(10,(Mt-e%Mt)%Mt),t.e=cf(-e/Mt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,o=1,u--):(d.length=u+1,o=yl(10,Mt-n),d[u]=i>0?(c/yl(10,a-i)%yl(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==xr&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=xr)break;d[u--]=0,o=1}for(n=d.length;d[--n]===0;)d.pop();if(Ut&&(t.e>Yv||t.e<-Yv))throw Error(qC+dr(t));return t}function E9(t,e){var r,n,i,o,a,s,l,c,u,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ut?At(e,m):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(m/Mt),s)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=xr-1;--l[o],l[i]+=xr}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Ut?At(e,m):e):new f(0)}function ac(t,e,r){var n,i=dr(t),o=uo(t.d),a=o.length;return e?(r&&(n=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+za(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+za(-i-1)+o,r&&(n=r-a)>0&&(o+=za(n))):i>=a?(o+=za(i+1-a),r&&(n=r-i-1)>0&&(o=o+"."+za(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(o+="."),o+=za(n))),t.s<0?"-"+o:o}function eD(t,e){if(t.length>e)return t.length=e,!0}function S9(t){var e,r,n;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fl+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Jj(a,o.toString())}else if(typeof o!="string")throw Error(Fl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ZSe.test(o))Jj(a,o);else throw Error(Fl+o)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S9,i.config=i.set=JSe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function JSe(t){if(!t||typeof t!="object")throw Error(mi+"Object expected");var e,r,n,i=["precision",1,lf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(cf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Fl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fl+r+": "+n);return this}var HC=S9(XSe);Vn=new HC(1);const Et=HC;function eTe(t){return iTe(t)||nTe(t)||rTe(t)||tTe()}function tTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rTe(t,e){if(t){if(typeof t=="string")return tS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tS(t,e)}}function nTe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iTe(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var oTe=function(e){return e},T9={"@@functional/placeholder":!0},A9=function(e){return e===T9},tD=function(e){return function r(){return arguments.length===0||arguments.length===1&&A9(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},aTe=function t(e,r){return e===1?r:tD(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==T9}).length;return a>=e?r.apply(void 0,i):t(e-a,tD(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return A9(d)?l.shift():d});return r.apply(void 0,eTe(u).concat(l))}))})},fw=function(e){return aTe(e.length,e)},rS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},sTe=fw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),lTe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return oTe;var i=r.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},nS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},P9=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r&&o.every(function(s,l){return s===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function cTe(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function uTe(t,e,r){for(var n=new Et(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var dTe=fw(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),fTe=fw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),hTe=fw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const hw={rangeStep:uTe,getDigitCount:cTe,interpolateNumber:dTe,uninterpolateNumber:fTe,uninterpolateTruncation:hTe};function iS(t){return gTe(t)||mTe(t)||C9(t)||pTe()}function pTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gTe(t){if(Array.isArray(t))return oS(t)}function Pp(t,e){return bTe(t)||vTe(t,e)||C9(t,e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(t,e){if(t){if(typeof t=="string")return oS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(t,e)}}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vTe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function bTe(t){if(Array.isArray(t))return t}function I9(t){var e=Pp(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function O9(t,e,r){if(t.lte(0))return new Et(0);var n=hw.getDigitCount(t.toNumber()),i=new Et(10).pow(n),o=t.div(i),a=n!==1?.05:.1,s=new Et(Math.ceil(o.div(a).toNumber())).add(r).mul(a),l=s.mul(i);return e?l:new Et(Math.ceil(l))}function wTe(t,e,r){var n=1,i=new Et(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Et(10).pow(hw.getDigitCount(t)-1),i=new Et(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Et(Math.floor(t)))}else t===0?i=new Et(Math.floor((e-1)/2)):r||(i=new Et(Math.floor(t)));var a=Math.floor((e-1)/2),s=lTe(sTe(function(l){return i.add(new Et(l-a).mul(n)).toNumber()}),rS);return s(0,e)}function k9(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var o=O9(new Et(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Et(0):(a=new Et(t).add(e).div(2),a=a.sub(new Et(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Et(e).sub(a).div(o).toNumber()),c=s+l+1;return c>r?k9(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:o,tickMin:a.sub(new Et(s).mul(o)),tickMax:a.add(new Et(l).mul(o))})}function xTe(t){var e=Pp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=I9([r,n]),l=Pp(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(iS(rS(0,i-1).map(function(){return 1/0}))):[].concat(iS(rS(0,i-1).map(function(){return-1/0})),[u]);return r>n?nS(d):d}if(c===u)return wTe(c,i,o);var f=k9(c,u,a,o),m=f.step,v=f.tickMin,g=f.tickMax,b=hw.rangeStep(v,g.add(new Et(.1).mul(m)),m);return r>n?nS(b):b}function _Te(t,e){var r=Pp(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=I9([n,i]),s=Pp(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),d=O9(new Et(c).sub(l).div(u-1),o,0),f=[].concat(iS(hw.rangeStep(new Et(l),new Et(c).sub(new Et(.99).mul(d)),d)),[c]);return n>i?nS(f):f}var ETe=P9(xTe),STe=P9(_Te),TTe="Invariant failed";function sc(t,e){throw new Error(TTe)}var ATe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}function PTe(t,e){return kTe(t)||OTe(t,e)||ITe(t,e)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(t,e){if(t){if(typeof t=="string")return rD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rD(t,e)}}function rD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function kTe(t){if(Array.isArray(t))return t}function NTe(t,e){if(t==null)return{};var r=RTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j9(n.key),n)}}function MTe(t,e,r){return e&&DTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Te(t,e,r){return e=Zv(e),LTe(t,N9()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function LTe(t,e){if(e&&(gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VTe(t)}function VTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function FTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aS(t,e)}function aS(t,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aS(t,e)}function R9(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=UTe(t,"string");return gd(e)=="symbol"?e:e+""}function UTe(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dm=function(t){function e(){return jTe(this,e),$Te(this,e,arguments)}return FTe(e,t),MTe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,a=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,f=NTe(n,ATe),m=nt(f,!1);this.props.direction==="x"&&u.type!=="number"&&sc();var v=l.map(function(g){var b=c(g,s),x=b.x,y=b.y,w=b.value,E=b.errorVal;if(!E)return null;var S=[],C,_;if(Array.isArray(E)){var T=PTe(E,2);C=T[0],_=T[1]}else C=_=E;if(o==="vertical"){var A=u.scale,N=y+i,I=N+a,k=N-a,R=A(w-C),M=A(w+_);S.push({x1:M,y1:I,x2:M,y2:k}),S.push({x1:R,y1:N,x2:M,y2:N}),S.push({x1:R,y1:I,x2:R,y2:k})}else if(o==="horizontal"){var L=d.scale,V=x+i,U=V-a,$=V+a,B=L(w-C),G=L(w+_);S.push({x1:U,y1:G,x2:$,y2:G}),S.push({x1:V,y1:B,x2:V,y2:G}),S.push({x1:U,y1:B,x2:$,y2:B})}return z.createElement(nr,Xv({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),S.map(function(ee){return z.createElement("line",Xv({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return z.createElement(nr,{className:"recharts-errorBars"},v)}}])}(z.Component);R9(Dm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});R9(Dm,"displayName","ErrorBar");function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(n){BTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BTe(t,e,r){return e=zTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zTe(t){var e=WTe(t,"string");return Cp(e)=="symbol"?e:e+""}function WTe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D9=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Mn(r,Iu);if(!a)return null;var s=Iu.defaultProps,l=s!==void 0?ul(ul({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(n||[]).reduce(function(u,d){var f=d.item,m=d.props,v=m.sectors||m.data||[];return u.concat(v.map(function(g){return{type:a.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var d=u.item,f=d.type.defaultProps,m=f!==void 0?ul(ul({},f),d.props):{},v=m.dataKey,g=m.name,b=m.legendType,x=m.hide;return{inactive:x,dataKey:v,type:l.iconType||b||"square",color:GC(d),value:g||v,payload:m}}),ul(ul(ul({},l),Iu.getWithHeight(a,i)),{},{payload:c,item:a})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function iD(t){return KTe(t)||GTe(t)||HTe(t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t,e){if(t){if(typeof t=="string")return sS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sS(t,e)}}function GTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KTe(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(r),!0).forEach(function(n){ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ku(t,e,r){return e=QTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QTe(t){var e=YTe(t,"string");return Ip(e)=="symbol"?e:e+""}function YTe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e,r){return Je(t)||Je(e)?r:gr(e)?ui(t,e,r):He(e)?e(t):r}function Oh(t,e,r,n){var i=GSe(t,function(s){return Qn(s,e)});if(r==="number"){var o=i.filter(function(s){return he(s)||parseFloat(s)});return o.length?[uw(o),cw(o)]:[1/0,-1/0]}var a=n?i.filter(function(s){return!Je(s)}):i;return a.map(function(s){return gr(s)||s instanceof Date?s:""})}var XTe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if($i(d-u)!==$i(f-d)){var v=[];if($i(f-d)===$i(l[1]-l[0])){m=f;var g=d+l[1]-l[0];v[0]=Math.min(g,(g+u)/2),v[1]=Math.max(g,(g+u)/2)}else{m=u;var b=f+l[1]-l[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){a=i[c].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<s-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===s-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){a=n[E].index;break}return a},GC=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},ZTe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),f=0,m=d.length;f<m;f++){var v=u[d[f]],g=v.items,b=v.cateAxisId,x=g.filter(function(_){return aa(_.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Jt(Jt({},y),x[0].props):x[0].props,E=w.barSize,S=w[b];a[S]||(a[S]=[]);var C=Je(E)?r:E;a[S].push({item:x[0],stackList:x.slice(1),barSize:Je(C)?void 0:oc(C,n,0)})}}return a},JTe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=oc(r,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,m=i/l,v=a.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&m>0&&(f=!0,m*=.9,v=l*m);var g=(i-v)/2>>0,b={offset:g-c,size:0};u=a.reduce(function(E,S){var C={item:S.item,position:{offset:b.offset+b.size+c,size:f?m:S.barSize}},_=[].concat(iD(E),[C]);return b=_[_.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){_.push({item:T,position:b})}),_},d)}else{var x=oc(n,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var y=(i-2*x-(l-1)*c)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;u=a.reduce(function(E,S,C){var _=[].concat(iD(E),[{item:S.item,position:{offset:x+(y+c)*C+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},d)}return u},eAe=function(e,r,n,i){var o=n.children,a=n.width,s=n.margin,l=a-(s.left||0)-(s.right||0),c=D9({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,m=c.align,v=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&m!=="center"&&he(e[m]))return Jt(Jt({},e),{},ku({},m,e[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&v!=="middle"&&he(e[v]))return Jt(Jt({},e),{},ku({},v,e[v]+(f||0)))}return e},tAe=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},M9=function(e,r,n,i,o){var a=r.props.children,s=di(a,Dm).filter(function(c){return tAe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Qn(u,n);if(Je(d))return c;var f=Array.isArray(d)?[uw(d),cw(d)]:[d,d],m=l.reduce(function(v,g){var b=Qn(u,g,0),x=f[0]-Math.abs(Array.isArray(b)?b[0]:b),y=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},rAe=function(e,r,n,i,o){var a=r.map(function(s){return M9(e,s,n,o,i)}).filter(function(s){return!Je(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$9=function(e,r,n,i,o){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&M9(e,l,c,i)||Oh(e,c,n,o)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},L9=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},V9=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(a=!0),l.coordinate});return o||s.push(r),a||s.push(n),s},ta=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?$i(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!Cm(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:o?o[d]:d,index:f,offset:c}})},h_=new WeakMap,zg=function(e,r){if(typeof r!="function")return e;h_.has(e)||h_.set(e,new WeakMap);var n=h_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},nAe=function(e,r,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:xp(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Hv(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ih(),realScaleType:"point"}:o==="category"?{scale:xp(),realScaleType:"band"}:{scale:Hv(),realScaleType:"linear"};if(Pm(i)){var l="scale".concat(Yb(i));return{scale:(Zj[l]||Ih)(),realScaleType:Zj[l]?l:"point"}}return He(i)?{scale:i}:{scale:Ih(),realScaleType:"point"}},aD=1e-4,iAe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-aD,a=Math.max(i[0],i[1])+aD,s=e(r[0]),l=e(r[n-1]);(s<o||s>a||l<o||l>a)&&e.domain([r[0],r[n-1]])}},oAe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},aAe=function(e,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!he(e[0])||e[0]<n)&&(o[0]=n),(!he(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},sAe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0,s=0;s<r;++s){var l=Cm(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},lAe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,a=0;a<r;++a){var s=Cm(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},cAe={sign:sAe,expand:Spe,none:ld,silhouette:Tpe,wiggle:Ape,positive:lAe},uAe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),o=cAe[n],a=Epe().keys(i).value(function(s,l){return+Qn(s,l,0)}).order(NE).offset(o);return a(e)},dAe=function(e,r,n,i,o,a){if(!e)return null;var s=a?r.reverse():r,l={},c=s.reduce(function(d,f){var m,v=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Jt(Jt({},f.type.defaultProps),f.props):f.props,g=v.stackId,b=v.hide;if(b)return d;var x=v[n],y=d[x]||{hasStack:!1,stackGroups:{}};if(gr(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[Im("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Jt(Jt({},d),{},ku({},x,y))},l),u={};return Object.keys(c).reduce(function(d,f){var m=c[f];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,b){var x=m.stackGroups[b];return Jt(Jt({},g),{},ku({},b,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:uAe(e,x.items,o)}))},v)}return Jt(Jt({},d),{},ku({},f,m))},u)},fAe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,a=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=ETe(c,o,s);return e.domain([uw(u),cw(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),f=STe(d,o,s);return{niceTicks:f}}return null};function sD(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var s=Ev(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Qn(i,Je(a)?e.dataKey:a);return Je(l)?null:e.scale(l)}var lD=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Qn(a,r.dataKey,r.domain[s]);return Je(l)?null:r.scale(l)-o/2+i},hAe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},pAe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(gr(o)){var a=r[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},mAe=function(e){return e.reduce(function(r,n){return[uw(n.concat([r[0]]).filter(he)),cw(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},F9=function(e,r,n){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var d=mAe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lS=function(e,r,n){if(He(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(he(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(cD.test(e[0])){var o=+cD.exec(e[0])[1];i[0]=r[0]-o}else He(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(he(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(uD.test(e[1])){var a=+uD.exec(e[1])[1];i[1]=r[1]+a}else He(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Jv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=xC(r,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},dD=function(e,r,n){return!e||!e.length||dw(e,ui(n,"type.defaultProps.domain"))?r:e},U9=function(e,r){var n=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,a=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Jt(Jt({},nt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:GC(e),value:Qn(r,i),type:l,payload:r,chartType:c,hide:u})};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function fD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(r),!0).forEach(function(n){gAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gAe(t,e,r){return e=yAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yAe(t){var e=vAe(t,"string");return Op(e)=="symbol"?e:e+""}function vAe(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e0=Math.PI/180,bAe=function(e){return e*180/Math.PI},Nr=function(e,r,n,i){return{x:e+Math.cos(-e0*i)*n,y:r+Math.sin(-e0*i)*n}},wAe=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-a,2))},xAe=function(e,r){var n=e.x,i=e.y,o=r.cx,a=r.cy,s=wAe({x:n,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(n-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:bAe(c),angleInRadian:c}},_Ae=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(i,o);return{startAngle:r-a*360,endAngle:n-a*360}},EAe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},pD=function(e,r){var n=e.x,i=e.y,o=xAe({x:n,y:i},r),a=o.radius,s=o.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=_Ae(r),d=u.startAngle,f=u.endAngle,m=s,v;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=d}return v?hD(hD({},r),{},{radius:a,angle:EAe(m,r)}):null};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var SAe=["offset"];function TAe(t){return IAe(t)||CAe(t)||PAe(t)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(t,e){if(t){if(typeof t=="string")return cS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cS(t,e)}}function CAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IAe(t){if(Array.isArray(t))return cS(t)}function cS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OAe(t,e){if(t==null)return{};var r=kAe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(r),!0).forEach(function(n){NAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NAe(t,e,r){return e=RAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RAe(t){var e=jAe(t,"string");return kp(e)=="symbol"?e:e+""}function jAe(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}var DAe=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return He(n)?n(i):i},MAe=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},$Ae=function(e,r,n){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,m=l.startAngle,v=l.endAngle,g=l.clockWise,b=(d+f)/2,x=MAe(m,v),y=x>=0?1:-1,w,E;i==="insideStart"?(w=m+y*a,E=g):i==="insideEnd"?(w=v-y*a,E=!g):i==="end"&&(w=v+y*a,E=g),E=x<=0?E:!E;var S=Nr(c,u,b,w),C=Nr(c,u,b,w+(E?1:-1)*359),_="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Je(e.id)?Im("recharts-radial-line-"):e.id;return z.createElement("text",Np({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",s)}),z.createElement("defs",null,z.createElement("path",{id:T,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(T)},r))},LAe=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,f=(u+d)/2;if(i==="outside"){var m=Nr(a,s,c+n,f),v=m.x,g=m.y;return{x:v,y:g,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,x=Nr(a,s,b,f),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},VAe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,a=r,s=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,f=d*i,m=d>0?"end":"start",v=d>0?"start":"end",g=c>=0?1:-1,b=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(o==="top"){var w={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return fr(fr({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var E={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:v};return fr(fr({},E),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var S={x:s-b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return fr(fr({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(o==="right"){var C={x:s+c+b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return fr(fr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var _=n?{width:c,height:u}:{};return o==="insideLeft"?fr({x:s+b,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):o==="insideRight"?fr({x:s+c-b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):o==="insideTop"?fr({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:v},_):o==="insideBottom"?fr({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:m},_):o==="insideTopLeft"?fr({x:s+b,y:l+f,textAnchor:y,verticalAnchor:v},_):o==="insideTopRight"?fr({x:s+c-b,y:l+f,textAnchor:x,verticalAnchor:v},_):o==="insideBottomLeft"?fr({x:s+b,y:l+u-f,textAnchor:y,verticalAnchor:m},_):o==="insideBottomRight"?fr({x:s+c-b,y:l+u-f,textAnchor:x,verticalAnchor:m},_):Jd(o)&&(he(o.x)||El(o.x))&&(he(o.y)||El(o.y))?fr({x:s+oc(o.x,c),y:l+oc(o.y,u),textAnchor:"end",verticalAnchor:"end"},_):fr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},FAe=function(e){return"cx"in e&&he(e.cx)};function Kr(t){var e=t.offset,r=e===void 0?5:e,n=OAe(t,SAe),i=fr({offset:r},n),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!o||Je(s)&&Je(l)&&!O.isValidElement(c)&&!He(c))return null;if(O.isValidElement(c))return O.cloneElement(c,i);var m;if(He(c)){if(m=O.createElement(c,i),O.isValidElement(m))return m}else m=DAe(i);var v=FAe(o),g=nt(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return $Ae(i,m,g);var b=v?LAe(i):VAe(i);return z.createElement(Vv,Np({className:ot("recharts-label",d)},g,b,{breakAll:f}),m)}Kr.displayName="Label";var B9=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,m=e.top,v=e.left,g=e.width,b=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(he(g)&&he(b)){if(he(d)&&he(f))return{x:d,y:f,width:g,height:b};if(he(m)&&he(v))return{x:m,y:v,width:g,height:b}}return he(d)&&he(f)?{x:d,y:f,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},UAe=function(e,r){return e?e===!0?z.createElement(Kr,{key:"label-implicit",viewBox:r}):gr(e)?z.createElement(Kr,{key:"label-implicit",viewBox:r,value:e}):O.isValidElement(e)?e.type===Kr?O.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Kr,{key:"label-implicit",content:e,viewBox:r}):He(e)?z.createElement(Kr,{key:"label-implicit",content:e,viewBox:r}):Jd(e)?z.createElement(Kr,Np({viewBox:r},e,{key:"label-implicit"})):null:null},BAe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=B9(e),a=di(i,Kr).map(function(l,c){return O.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return a;var s=UAe(e.label,r||o);return[s].concat(TAe(a))};Kr.parseViewBox=B9;Kr.renderCallByParent=BAe;function zAe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var WAe=zAe;const qAe=St(WAe);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var HAe=["valueAccessor"],GAe=["data","dataKey","clockWise","id","textBreakAll"];function KAe(t){return ZAe(t)||XAe(t)||YAe(t)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return uS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(t,e)}}function XAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZAe(t){if(Array.isArray(t))return uS(t)}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){JAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JAe(t,e,r){return e=ePe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ePe(t){var e=tPe(t,"string");return Rp(e)=="symbol"?e:e+""}function tPe(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vD(t,e){if(t==null)return{};var r=rPe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nPe=function(e){return Array.isArray(e.value)?qAe(e.value):e.value};function As(t){var e=t.valueAccessor,r=e===void 0?nPe:e,n=vD(t,HAe),i=n.data,o=n.dataKey,a=n.clockWise,s=n.id,l=n.textBreakAll,c=vD(n,GAe);return!i||!i.length?null:z.createElement(nr,{className:"recharts-label-list"},i.map(function(u,d){var f=Je(o)?r(u,d):Qn(u&&u.payload,o),m=Je(s)?{}:{id:"".concat(s,"-").concat(d)};return z.createElement(Kr,t0({},nt(u,!0),c,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Kr.parseViewBox(Je(a)?u:yD(yD({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}As.displayName="LabelList";function iPe(t,e){return t?t===!0?z.createElement(As,{key:"labelList-implicit",data:e}):z.isValidElement(t)||He(t)?z.createElement(As,{key:"labelList-implicit",data:e,content:t}):Jd(t)?z.createElement(As,t0({data:e},t,{key:"labelList-implicit"})):null:null}function oPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=di(n,As).map(function(a,s){return O.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var o=iPe(t.label,e);return[o].concat(KAe(i))}As.renderCallByParent=oPe;function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dS.apply(this,arguments)}function bD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(r),!0).forEach(function(n){aPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aPe(t,e,r){return e=sPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sPe(t){var e=lPe(t,"string");return jp(e)=="symbol"?e:e+""}function lPe(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cPe=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Wg=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/e0,f=c?o:o+a*d,m=Nr(r,n,u,f),v=Nr(r,n,i,f),g=c?o-a*d:o,b=Nr(r,n,u*Math.cos(d*e0),g);return{center:m,circleTangency:v,lineTangency:b,theta:d}},z9=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=cPe(a,s),c=a+l,u=Nr(r,n,o,a),d=Nr(r,n,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Nr(r,n,i,a),v=Nr(r,n,i,c);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},uPe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=$i(u-c),f=Wg({cx:r,cy:n,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),m=f.circleTangency,v=f.lineTangency,g=f.theta,b=Wg({cx:r,cy:n,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,y=b.lineTangency,w=b.theta,E=l?Math.abs(c-u):Math.abs(c-u)-g-w;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):z9({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=Wg({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),_=C.circleTangency,T=C.lineTangency,A=C.theta,N=Wg({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=N.circleTangency,k=N.lineTangency,R=N.theta,M=l?Math.abs(c-u):Math.abs(c-u)-A-R;if(M<0&&a===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},dPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},W9=function(e){var r=wD(wD({},dPe),e),n=r.cx,i=r.cy,o=r.innerRadius,a=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,f=r.className;if(a<o||u===d)return null;var m=ot("recharts-sector",f),v=a-o,g=oc(s,v,0,!0),b;return g>0&&Math.abs(u-d)<360?b=uPe({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=z9({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),z.createElement("path",dS({},nt(r,!0),{className:m,d:b,role:"img"}))};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fS.apply(this,arguments)}function xD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(r),!0).forEach(function(n){fPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fPe(t,e,r){return e=hPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hPe(t){var e=pPe(t,"string");return Dp(e)=="symbol"?e:e+""}function pPe(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ED={curveBasisClosed:fpe,curveBasisOpen:hpe,curveBasis:dpe,curveBumpX:Xhe,curveBumpY:Zhe,curveLinearClosed:ppe,curveLinear:Zb,curveMonotoneX:mpe,curveMonotoneY:gpe,curveNatural:ype,curveStep:vpe,curveStepAfter:wpe,curveStepBefore:bpe},qg=function(e){return e.x===+e.x&&e.y===+e.y},Bf=function(e){return e.x},zf=function(e){return e.y},mPe=function(e,r){if(He(e))return e;var n="curve".concat(Yb(e));return(n==="curveMonotone"||n==="curveBump")&&r?ED["".concat(n).concat(r==="vertical"?"Y":"X")]:ED[n]||Zb},gPe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=mPe(n,s),d=c?o.filter(function(g){return qg(g)}):o,f;if(Array.isArray(a)){var m=c?a.filter(function(g){return qg(g)}):a,v=d.map(function(g,b){return _D(_D({},g),{},{base:m[b]})});return s==="vertical"?f=Dg().y(zf).x1(Bf).x0(function(g){return g.base.x}):f=Dg().x(Bf).y1(zf).y0(function(g){return g.base.y}),f.defined(qg).curve(u),f(v)}return s==="vertical"&&he(a)?f=Dg().y(zf).x1(Bf).x0(a):he(a)?f=Dg().x(Bf).y1(zf).y0(a):f=WB().x(Bf).y(zf),f.defined(qg).curve(u),f(d)},hS=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?gPe(e):i;return z.createElement("path",fS({},nt(e,!1),Sv(e),{className:ot("recharts-curve",r),d:a,ref:o}))},q9={exports:{}},yPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vPe=yPe,bPe=vPe;function H9(){}function G9(){}G9.resetWarningCache=H9;var wPe=function(){function t(n,i,o,a,s,l){if(l!==bPe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G9,resetWarningCache:H9};return r.PropTypes=r,r};q9.exports=wPe();var xPe=q9.exports;const mt=St(xPe);var _Pe=Object.getOwnPropertyNames,EPe=Object.getOwnPropertySymbols,SPe=Object.prototype.hasOwnProperty;function SD(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function Hg(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,a=o.get(r),s=o.get(n);if(a&&s)return a===n&&s===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function TD(t){return _Pe(t).concat(EPe(t))}var TPe=Object.hasOwn||function(t,e){return SPe.call(t,e)};function wc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var APe="__v",PPe="__o",CPe="_owner",AD=Object.getOwnPropertyDescriptor,PD=Object.keys;function IPe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function OPe(t,e){return wc(t.getTime(),e.getTime())}function kPe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function NPe(t,e){return t===e}function CD(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),u=!1,d=0;(s=c.next())&&!s.done;){if(i[d]){d++;continue}var f=a.value,m=s.value;if(r.equals(f[0],m[0],l,d,t,e,r)&&r.equals(f[1],m[1],f[0],m[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var RPe=wc;function jPe(t,e,r){var n=PD(t),i=n.length;if(PD(e).length!==i)return!1;for(;i-- >0;)if(!K9(t,e,r,n[i]))return!1;return!0}function Wf(t,e,r){var n=TD(t),i=n.length;if(TD(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=n[i],!K9(t,e,r,o)||(a=AD(t,o),s=AD(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function DPe(t,e){return wc(t.valueOf(),e.valueOf())}function MPe(t,e){return t.source===e.source&&t.flags===e.flags}function ID(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(a.value,s.value,a.value,s.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function $Pe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function LPe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function K9(t,e,r,n){return(n===CPe||n===PPe||n===APe)&&(t.$$typeof||e.$$typeof)?!0:TPe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var VPe="[object Arguments]",FPe="[object Boolean]",UPe="[object Date]",BPe="[object Error]",zPe="[object Map]",WPe="[object Number]",qPe="[object Object]",HPe="[object RegExp]",GPe="[object Set]",KPe="[object String]",QPe="[object URL]",YPe=Array.isArray,OD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kD=Object.assign,XPe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZPe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,g,b){if(v===g)return!0;if(v==null||g==null)return!1;var x=typeof v;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?a(v,g,b):x==="function"?i(v,g,b):!1;var y=v.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(v,g,b);if(YPe(v))return e(v,g,b);if(OD!=null&&OD(v))return d(v,g,b);if(y===Date)return r(v,g,b);if(y===RegExp)return c(v,g,b);if(y===Map)return o(v,g,b);if(y===Set)return u(v,g,b);var w=XPe(v);return w===UPe?r(v,g,b):w===HPe?c(v,g,b):w===zPe?o(v,g,b):w===GPe?u(v,g,b):w===qPe?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,b):w===QPe?f(v,g,b):w===BPe?n(v,g,b):w===VPe?s(v,g,b):w===FPe||w===WPe||w===KPe?l(v,g,b):!1}}function JPe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Wf:IPe,areDatesEqual:OPe,areErrorsEqual:kPe,areFunctionsEqual:NPe,areMapsEqual:n?SD(CD,Wf):CD,areNumbersEqual:RPe,areObjectsEqual:n?Wf:jPe,arePrimitiveWrappersEqual:DPe,areRegExpsEqual:MPe,areSetsEqual:n?SD(ID,Wf):ID,areTypedArraysEqual:n?Wf:$Pe,areUrlsEqual:LPe};if(r&&(i=kD({},i,r(i))),e){var o=Hg(i.areArraysEqual),a=Hg(i.areMapsEqual),s=Hg(i.areObjectsEqual),l=Hg(i.areSetsEqual);i=kD({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function eCe(t){return function(e,r,n,i,o,a,s){return t(e,r,s)}}function tCe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,c){var u=n(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,m=u.meta;return r(l,c,{cache:f,equals:i,meta:m,strict:o})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return r(l,c,a)}}var rCe=il();il({strict:!0});il({circular:!0});il({circular:!0,strict:!0});il({createInternalComparator:function(){return wc}});il({strict:!0,createInternalComparator:function(){return wc}});il({circular:!0,createInternalComparator:function(){return wc}});il({circular:!0,createInternalComparator:function(){return wc},strict:!0});function il(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=JPe(t),l=ZPe(s),c=n?n(l):eCe(l);return tCe({circular:r,comparator:l,createState:i,equals:c,strict:a})}function nCe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ND(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):nCe(i)};requestAnimationFrame(n)}function pS(t){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pS(t)}function iCe(t){return lCe(t)||sCe(t)||aCe(t)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(t,e){if(t){if(typeof t=="string")return RD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RD(t,e)}}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lCe(t){if(Array.isArray(t))return t}function cCe(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,s=iCe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){ND(i.bind(null,c),l);return}i(l),ND(i.bind(null,c));return}pS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function jD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(r),!0).forEach(function(n){Q9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q9(t,e,r){return e=uCe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uCe(t){var e=dCe(t,"string");return Mp(e)==="symbol"?e:String(e)}function dCe(t,e){if(Mp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fCe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},hCe=function(e){return e},pCe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},kh=function(e,r){return Object.keys(r).reduce(function(n,i){return DD(DD({},n),{},Q9({},i,e(i,r[i])))},{})},MD=function(e,r,n){return e.map(function(i){return"".concat(pCe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function mCe(t,e){return vCe(t)||yCe(t,e)||Y9(t,e)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function vCe(t){if(Array.isArray(t))return t}function bCe(t){return _Ce(t)||xCe(t)||Y9(t)||wCe()}function wCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(t,e){if(t){if(typeof t=="string")return mS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(t,e)}}function xCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Ce(t){if(Array.isArray(t))return mS(t)}function mS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var r0=1e-4,X9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Z9=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},$D=function(e,r){return function(n){var i=X9(e,r);return Z9(i,n)}},ECe=function(e,r){return function(n){var i=X9(e,r),o=[].concat(bCe(i.map(function(a,s){return a*s}).slice(1)),[0]);return Z9(o,n)}},LD=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),u=mCe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var d=$D(i,a),f=$D(o,s),m=ECe(i,a),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,w=y,E=0;E<8;++E){var S=d(w)-y,C=m(w);if(Math.abs(S-y)<r0||C<r0)return f(w);w=v(w-S/C)}return f(w)};return g.isStepper=!1,g},SCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,d,f){var m=-(u-d)*n,v=f*o,g=f+(m-v)*s/1e3,b=f*s/1e3+u;return Math.abs(b-d)<r0&&Math.abs(g)<r0?[d,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},TCe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LD(i);case"spring":return SCe();default:if(i.split("(")[0]==="cubic-bezier")return LD(i)}return typeof i=="function"?i:null};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function VD(t){return CCe(t)||PCe(t)||J9(t)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CCe(t){if(Array.isArray(t))return yS(t)}function FD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(r),!0).forEach(function(n){gS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gS(t,e,r){return e=ICe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ICe(t){var e=OCe(t,"string");return $p(e)==="symbol"?e:String(e)}function OCe(t,e){if($p(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($p(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kCe(t,e){return jCe(t)||RCe(t,e)||J9(t,e)||NCe()}function NCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t,e){if(t){if(typeof t=="string")return yS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yS(t,e)}}function yS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jCe(t){if(Array.isArray(t))return t}var n0=function(e,r,n){return e+(r-e)*n},vS=function(e){var r=e.from,n=e.to;return r!==n},DCe=function t(e,r,n){var i=kh(function(o,a){if(vS(a)){var s=e(a.from,a.to,a.velocity),l=kCe(s,2),c=l[0],u=l[1];return Cr(Cr({},a),{},{from:c,velocity:u})}return a},r);return n<1?kh(function(o,a){return vS(a)?Cr(Cr({},a),{},{velocity:n0(a.velocity,i[o].velocity,n),from:n0(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const MCe=function(t,e,r,n,i){var o=fCe(t,e),a=o.reduce(function(b,x){return Cr(Cr({},b),{},gS({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return Cr(Cr({},b),{},gS({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return kh(function(x,y){return y.from},s)},m=function(){return!Object.values(s).filter(vS).length},v=function(x){c||(c=x);var y=x-c,w=y/r.dt;s=DCe(r,s,w),i(Cr(Cr(Cr({},t),e),f())),c=x,m()||(l=requestAnimationFrame(d))},g=function(x){u||(u=x);var y=(x-u)/n,w=kh(function(S,C){return n0.apply(void 0,VD(C).concat([r(y)]))},a);if(i(Cr(Cr(Cr({},t),e),w)),y<1)l=requestAnimationFrame(d);else{var E=kh(function(S,C){return n0.apply(void 0,VD(C).concat([r(1)]))},a);i(Cr(Cr(Cr({},t),e),E))}};return d=r.isStepper?v:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var $Ce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LCe(t,e){if(t==null)return{};var r=VCe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VCe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function p_(t){return zCe(t)||BCe(t)||UCe(t)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UCe(t,e){if(t){if(typeof t=="string")return bS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(t,e)}}function BCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zCe(t){if(Array.isArray(t))return bS(t)}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){ah(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ah(t,e,r){return e=e8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e8(n.key),n)}}function HCe(t,e,r){return e&&qCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e8(t){var e=GCe(t,"string");return yd(e)==="symbol"?e:String(e)}function GCe(t,e){if(yd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wS(t,e)}function QCe(t){var e=YCe();return function(){var n=i0(t),i;if(e){var o=i0(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return xS(this,i)}}function xS(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _S(t)}function _S(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i0(t){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i0(t)}var Ea=function(t){KCe(r,t);var e=QCe(r);function r(n,i){var o;WCe(this,r),o=e.call(this,n,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,f=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_S(o)),o.changeStyle=o.changeStyle.bind(_S(o)),!s||m<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),xS(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof f=="function")return o.state={style:c},xS(o);o.state={style:l?ah({},l,c):c}}else o.state={style:{}};return o}return HCe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,f=this.state.style;if(s){if(!a){var m={style:l?ah({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(m);return}if(!(rCe(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||c?d:i.to;if(this.state&&f){var b={style:l?ah({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(b)}this.runAnimation(xi(xi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,m=MCe(a,s,TCe(c),l,this.changeStyle),v=function(){o.stopJSAnimation=m()};this.manager.start([f,u,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,f=d===void 0?0:d,m=function(g,b,x){if(x===0)return g;var y=b.duration,w=b.easing,E=w===void 0?"ease":w,S=b.style,C=b.properties,_=b.onAnimationEnd,T=x>0?a[x-1]:b,A=C||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(p_(g),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:y,easing:E}),y]);var N=MD(A,y,E),I=xi(xi(xi({},T.style),S),{},{transition:N});return[].concat(p_(g),[I,y,_]).filter(hCe)};return this.manager.start([l].concat(p_(a.reduce(m,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=cCe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,m=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=s?ah({},s,l):l,b=MD(Object.keys(g),a,c);v.start([u,o,xi(xi({},g),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=LCe(i,$Ce),c=O.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var d=function(m){var v=m.props,g=v.style,b=g===void 0?{}:g,x=v.className,y=O.cloneElement(m,xi(xi({},l),{},{style:xi(xi({},b),u),className:x}));return y};return c===1?d(O.Children.only(o)):z.createElement("div",null,O.Children.map(o,function(f){return d(f)}))}}]),r}(O.PureComponent);Ea.displayName="Animate";Ea.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ea.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(this,arguments)}function XCe(t,e){return tIe(t)||eIe(t,e)||JCe(t,e)||ZCe()}function ZCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JCe(t,e){if(t){if(typeof t=="string")return BD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function tIe(t){if(Array.isArray(t))return t}function zD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(r),!0).forEach(function(n){rIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rIe(t,e,r){return e=nIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nIe(t){var e=iIe(t,"string");return Lp(e)=="symbol"?e:e+""}function iIe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD=function(e,r,n,i,o){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),u+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*d[1])),u+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),u+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);u="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},oIe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,a=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(a,a+l),f=Math.max(a,a+l);return n>=c&&n<=u&&i>=d&&i<=f}return!1},aIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KC=function(e){var r=WD(WD({},aIe),e),n=O.useRef(),i=O.useState(-1),o=XCe(i,2),a=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&s(E)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,f=r.radius,m=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=ot("recharts-rectangle",m);return y?z.createElement(Ea,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:v,isActive:y},function(E){var S=E.width,C=E.height,_=E.x,T=E.y;return z.createElement(Ea,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:x,easing:v},z.createElement("path",o0({},nt(r,!0),{className:w,d:qD(_,T,S,C,f),ref:n})))}):z.createElement("path",o0({},nt(r,!0),{className:w,d:qD(l,c,u,d,f)}))};function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}var QC=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,a=ot("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",ES({},nt(e,!1),Sv(e),{className:a,cx:r,cy:n,r:i})):null};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}var sIe=["x","y","top","left","width","height","className"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SS.apply(this,arguments)}function HD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(r),!0).forEach(function(n){cIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cIe(t,e,r){return e=uIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uIe(t){var e=dIe(t,"string");return Vp(e)=="symbol"?e:e+""}function dIe(t,e){if(Vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fIe(t,e){if(t==null)return{};var r=hIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pIe=function(e,r,n,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},mIe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,m=f===void 0?0:f,v=e.className,g=fIe(e,sIe),b=lIe({x:n,y:o,top:s,left:c,width:d,height:m},g);return!he(n)||!he(o)||!he(d)||!he(m)||!he(s)||!he(c)?null:z.createElement("path",SS({},nt(b,!0),{className:ot("recharts-cross",v),d:pIe(n,o,d,m,s,c)}))},gIe=pz,yIe=gIe(Object.getPrototypeOf,Object),vIe=yIe,bIe=Ca,wIe=vIe,xIe=Ia,_Ie="[object Object]",EIe=Function.prototype,SIe=Object.prototype,t8=EIe.toString,TIe=SIe.hasOwnProperty,AIe=t8.call(Object);function PIe(t){if(!xIe(t)||bIe(t)!=_Ie)return!1;var e=wIe(t);if(e===null)return!0;var r=TIe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&t8.call(r)==AIe}var CIe=PIe;const IIe=St(CIe);var OIe=Ca,kIe=Ia,NIe="[object Boolean]";function RIe(t){return t===!0||t===!1||kIe(t)&&OIe(t)==NIe}var jIe=RIe;const DIe=St(jIe);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a0.apply(this,arguments)}function MIe(t,e){return FIe(t)||VIe(t,e)||LIe(t,e)||$Ie()}function $Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(t,e){if(t){if(typeof t=="string")return GD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GD(t,e)}}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function FIe(t){if(Array.isArray(t))return t}function KD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(r),!0).forEach(function(n){UIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UIe(t,e,r){return e=BIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BIe(t){var e=zIe(t,"string");return Fp(e)=="symbol"?e:e+""}function zIe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YD=function(e,r,n,i,o){var a=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-a/2,",").concat(r+o),s+="L ".concat(e+n-a/2-i,",").concat(r+o),s+="L ".concat(e,",").concat(r," Z"),s},WIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qIe=function(e){var r=QD(QD({},WIe),e),n=O.useRef(),i=O.useState(-1),o=MIe(i,2),a=o[0],s=o[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,f=r.height,m=r.className,v=r.animationEasing,g=r.animationDuration,b=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var y=ot("recharts-trapezoid",m);return x?z.createElement(Ea,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:g,animationEasing:v,isActive:x},function(w){var E=w.upperWidth,S=w.lowerWidth,C=w.height,_=w.x,T=w.y;return z.createElement(Ea,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:v},z.createElement("path",a0({},nt(r,!0),{className:y,d:YD(_,T,E,S,C),ref:n})))}):z.createElement("g",null,z.createElement("path",a0({},nt(r,!0),{className:y,d:YD(l,c,u,d,f)})))},HIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function GIe(t,e){if(t==null)return{};var r=KIe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(r),!0).forEach(function(n){QIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QIe(t,e,r){return e=YIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YIe(t){var e=XIe(t,"string");return Up(e)=="symbol"?e:e+""}function XIe(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZIe(t,e){return s0(s0({},e),t)}function JIe(t,e){return t==="symbols"}function ZD(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(KC,r);case"trapezoid":return z.createElement(qIe,r);case"sector":return z.createElement(W9,r);case"symbols":if(JIe(e))return z.createElement(hC,r);break;default:return null}}function eOe(t){return O.isValidElement(t)?t.props:t}function tOe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?ZIe:n,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=GIe(t,HIe),c;if(O.isValidElement(e))c=O.cloneElement(e,s0(s0({},l),eOe(e)));else if(He(e))c=e(l);else if(IIe(e)&&!DIe(e)){var u=i(e,l);c=z.createElement(ZD,{shapeType:r,elementProps:u})}else{var d=l;c=z.createElement(ZD,{shapeType:r,elementProps:d})}return s?z.createElement(nr,{className:a},c):c}function pw(t,e){return e!=null&&"trapezoids"in t.props}function mw(t,e){return e!=null&&"sectors"in t.props}function Bp(t,e){return e!=null&&"points"in t.props}function rOe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function nOe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function iOe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function oOe(t,e){var r;return pw(t,e)?r=rOe:mw(t,e)?r=nOe:Bp(t,e)&&(r=iOe),r}function aOe(t,e){var r;return pw(t,e)?r="trapezoids":mw(t,e)?r="sectors":Bp(t,e)&&(r="points"),r}function sOe(t,e){if(pw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Bp(t,e)?e.payload:{}}function lOe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=aOe(r,e),o=sOe(r,e),a=n.filter(function(l,c){var u=dw(o,l),d=r.props[i].filter(function(v){var g=oOe(r,e);return g(v,e)}),f=r.props[i].indexOf(d[d.length-1]),m=c===f;return u&&m}),s=n.indexOf(a[a.length-1]);return s}var cOe=Math.ceil,uOe=Math.max;function dOe(t,e,r,n){for(var i=-1,o=uOe(cOe((e-t)/(r||1)),0),a=Array(o);o--;)a[n?o:++i]=t,t+=r;return a}var fOe=dOe,hOe=Rz,JD=1/0,pOe=17976931348623157e292;function mOe(t){if(!t)return t===0?t:0;if(t=hOe(t),t===JD||t===-JD){var e=t<0?-1:1;return e*pOe}return t===t?t:0}var r8=mOe,gOe=fOe,yOe=rw,m_=r8;function vOe(t){return function(e,r,n){return n&&typeof n!="number"&&yOe(e,r,n)&&(r=n=void 0),e=m_(e),r===void 0?(r=e,e=0):r=m_(r),n=n===void 0?e<r?1:-1:m_(n),gOe(e,r,n,t)}}var bOe=vOe,wOe=bOe,xOe=wOe(),_Oe=xOe;const l0=St(_Oe);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function eM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(r),!0).forEach(function(n){n8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n8(t,e,r){return e=EOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EOe(t){var e=SOe(t,"string");return zp(e)=="symbol"?e:e+""}function SOe(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TOe=["Webkit","Moz","O","ms"],AOe=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=TOe.reduce(function(o,a){return tM(tM({},o),{},n8({},a+n,r))},{});return i[e]=r,i};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){Rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function POe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o8(n.key),n)}}function COe(t,e,r){return e&&nM(t.prototype,e),r&&nM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IOe(t,e,r){return e=u0(e),OOe(t,i8()?Reflect.construct(e,r||[],u0(t).constructor):e.apply(t,r))}function OOe(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kOe(t)}function kOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(t)}function NOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TS(t,e)}function Rn(t,e,r){return e=o8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o8(t){var e=ROe(t,"string");return vd(e)=="symbol"?e:e+""}function ROe(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jOe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Ih().domain(l0(0,l)).range([o,o+a-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},iM=function(e){return e.changedTouches&&!!e.changedTouches.length},bd=function(t){function e(r){var n;return POe(this,e),n=IOe(this,e,[r]),Rn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Rn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Rn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),n.detachDragEndListener()}),Rn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Rn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Rn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Rn(n,"handleSlideDragStart",function(i){var o=iM(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return NOe(e,t),COe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,o),f=Math.max(i,o),m=e.getIndexInRange(a,d),v=e.getIndexInRange(a,f);return{startIndex:m-m%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Qn(o[n],s,n);return He(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,m=l.endIndex,v=l.onChange,g=n.pageX-o;g>0?g=Math.min(g,c+u-d-s,c+u-d-a):g<0&&(g=Math.max(g,c-a,c-s));var b=this.getIndex({startX:a+g,endX:s+g});(b.startIndex!==f||b.endIndex!==m)&&v&&v(b),this.setState({startX:a+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=iM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,f=u.width,m=u.travellerWidth,v=u.onChange,g=u.gap,b=u.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-o;y>0?y=Math.min(y,d+f-m-c):y<0&&(y=Math.max(y,d-c)),x[a]=c+y;var w=this.getIndex(x),E=w.startIndex,S=w.endIndex,C=function(){var T=b.length-1;return a==="startX"&&(s>l?E%g===0:S%g===0)||s<l&&S===T||a==="endX"&&(s>l?S%g===0:E%g===0)||s>l&&S===T};this.setState(Rn(Rn({},a,c+y),"brushMoveStartX",n.pageX),function(){v&&C()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=s.length)){var m=s[f];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Rn({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.fill,c=n.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,d=O.Children.only(c);return d?z.cloneElement(d,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,m=l.ariaLabel,v=l.data,g=l.startIndex,b=l.endIndex,x=Math.max(n,this.props.x),y=g_(g_({},nt(this.props,!1)),{},{x,y:c,width:u,height:d}),w=m||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return z.createElement(nr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,a=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,f=u.endX,m=5,v={pointerEvents:"none",fill:c};return z.createElement(nr,{className:"recharts-brush-texts"},z.createElement(Vv,c0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-m,y:a+s/2},v),this.getTextOfTick(i)),z.createElement(Vv,c0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+m,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,a=n.children,s=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,f=this.state,m=f.startX,v=f.endX,g=f.isTextActive,b=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!he(s)||!he(l)||!he(c)||!he(u)||c<=0||u<=0)return null;var w=ot("recharts-brush",o),E=z.Children.count(a)===1,S=AOe("userSelect","none");return z.createElement(nr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(g||b||x||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,a=n.width,s=n.height,l=n.stroke,c=Math.floor(o+s/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):He(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,a=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return g_({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?jOe({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);n[l]>i?s=l:a=l}return i>=n[s]?s:a}}])}(O.PureComponent);Rn(bd,"displayName","Brush");Rn(bd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DOe=wC;function MOe(t,e){var r;return DOe(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var $Oe=MOe,LOe=az,VOe=tl,FOe=$Oe,UOe=In,BOe=rw;function zOe(t,e,r){var n=UOe(t)?LOe:FOe;return r&&BOe(t,e,r)&&(e=void 0),n(t,VOe(e))}var WOe=zOe;const qOe=St(WOe);var So=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},oM=Cz;function HOe(t,e,r){e=="__proto__"&&oM?oM(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var GOe=HOe,KOe=GOe,QOe=Az,YOe=tl;function XOe(t,e){var r={};return e=YOe(e),QOe(t,function(n,i,o){KOe(r,i,e(n,i,o))}),r}var ZOe=XOe;const JOe=St(ZOe);function eke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var tke=eke,rke=wC;function nke(t,e){var r=!0;return rke(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var ike=nke,oke=tke,ake=ike,ske=tl,lke=In,cke=rw;function uke(t,e,r){var n=lke(t)?oke:ake;return r&&cke(t,e,r)&&(e=void 0),n(t,ske(e))}var dke=uke;const a8=St(dke);var fke=["x","y"];function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AS.apply(this,arguments)}function aM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(r),!0).forEach(function(n){hke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hke(t,e,r){return e=pke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pke(t){var e=mke(t,"string");return Wp(e)=="symbol"?e:e+""}function mke(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gke(t,e){if(t==null)return{};var r=yke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vke(t,e){var r=t.x,n=t.y,i=gke(t,fke),o="".concat(r),a=parseInt(o,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return qf(qf(qf(qf(qf({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function sM(t){return z.createElement(tOe,AS({shapeType:"rectangle",propTransformer:vke,activeClassName:"recharts-active-bar"},t))}var bke=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||sc(),r)}},wke=["value","background"],s8;function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function xke(t,e){if(t==null)return{};var r=_ke(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d0.apply(this,arguments)}function lM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(r),!0).forEach(function(n){ls(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c8(n.key),n)}}function Ske(t,e,r){return e&&cM(t.prototype,e),r&&cM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tke(t,e,r){return e=f0(e),Ake(t,l8()?Reflect.construct(e,r||[],f0(t).constructor):e.apply(t,r))}function Ake(t,e){if(e&&(wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pke(t)}function Pke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f0(t)}function Cke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PS(t,e)}function ls(t,e,r){return e=c8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c8(t){var e=Ike(t,"string");return wd(e)=="symbol"?e:e+""}function Ike(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc=function(t){function e(){var r;Eke(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Tke(this,e,[].concat(i)),ls(r,"state",{isAnimationFinished:!1}),ls(r,"id",Im("recharts-bar-")),ls(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),ls(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Cke(e,t),Ske(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=nt(this.props,!1);return n&&n.map(function(d,f){var m=f===l,v=m?c:a,g=ar(ar(ar({},u),d),{},{isActive:m,option:v,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(nr,d0({className:"recharts-bar-rectangle"},Tv(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),z.createElement(sM,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return z.createElement(Ea,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,g=o.map(function(b,x){var y=f&&f[x];if(y){var w=ki(y.x,b.x),E=ki(y.y,b.y),S=ki(y.width,b.width),C=ki(y.height,b.height);return ar(ar({},b),{},{x:w(v),y:E(v),width:S(v),height:C(v)})}if(a==="horizontal"){var _=ki(0,b.height),T=_(v);return ar(ar({},b),{},{y:b.y+b.height-T,height:T})}var A=ki(0,b.width),N=A(v);return ar(ar({},b),{},{width:N})});return z.createElement(nr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!dw(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=nt(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,f=xke(c,wke);if(!d)return null;var m=ar(ar(ar(ar(ar({},f),{},{fill:"#eee"},d),l),Tv(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(sM,d0({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=di(u,Dm);if(!d)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,m=function(b,x){var y=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:y,errorVal:Qn(b,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(nr,v,d.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,a=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,f=n.height,m=n.isAnimationActive,v=n.background,g=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=ot("recharts-bar",a),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,E=y||w,S=Je(g)?this.id:g;return z.createElement(nr,{className:x},y||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:y?c:c-d/2,y:w?u:u-f/2,width:y?d:d*2,height:w?f:f*2}))):null,z.createElement(nr,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!m||b)&&As.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);s8=xc;ls(xc,"displayName","Bar");ls(xc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!la.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ls(xc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,m=oAe(n,r);if(!m)return null;var v=e.layout,g=r.type.defaultProps,b=g!==void 0?ar(ar({},g),r.props):r.props,x=b.dataKey,y=b.children,w=b.minPointSize,E=v==="horizontal"?a:o,S=c?E.scale.domain():null,C=hAe({numericAxis:E}),_=di(y,Dz),T=d.map(function(A,N){var I,k,R,M,L,V;c?I=aAe(c[u+N],S):(I=Qn(A,x),Array.isArray(I)||(I=[C,I]));var U=bke(w,s8.defaultProps.minPointSize)(I[1],N);if(v==="horizontal"){var $,B=[a.scale(I[0]),a.scale(I[1])],G=B[0],ee=B[1];k=lD({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:A,index:N}),R=($=ee??G)!==null&&$!==void 0?$:void 0,M=m.size;var J=G-ee;if(L=Number.isNaN(J)?0:J,V={x:k,y:a.y,width:M,height:a.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var ie=$i(L||U)*(Math.abs(U)-Math.abs(L));R-=ie,L+=ie}}else{var Ce=[o.scale(I[0]),o.scale(I[1])],ue=Ce[0],Se=Ce[1];if(k=ue,R=lD({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:A,index:N}),M=Se-ue,L=m.size,V={x:o.x,y:R,width:o.width,height:L},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var fe=$i(M||U)*(Math.abs(U)-Math.abs(M));M+=fe}}return ar(ar(ar({},A),{},{x:k,y:R,width:M,height:L,value:c?I:I[1],payload:A,background:V},_&&_[N]&&_[N].props),{},{tooltipPayload:[U9(r,A)],tooltipPosition:{x:k+M/2,y:R+L/2}})});return ar({data:T,layout:v},f)});function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u8(n.key),n)}}function kke(t,e,r){return e&&uM(t.prototype,e),r&&uM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gw(t,e,r){return e=u8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u8(t){var e=Nke(t,"string");return qp(e)=="symbol"?e:e+""}function Nke(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d8=function(e,r,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},f=!!Mn(c,xc);return u.reduce(function(m,v){var g=r[v],b=g.orientation,x=g.domain,y=g.padding,w=y===void 0?{}:y,E=g.mirror,S=g.reversed,C="".concat(b).concat(E?"Mirror":""),_,T,A,N,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=x[1]-x[0],R=1/0,M=g.categoricalDomain.sort();if(M.forEach(function(Ce,ue){ue>0&&(R=Math.min((Ce||0)-(M[ue-1]||0),R))}),Number.isFinite(R)){var L=R/k,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(_=L*V/2),g.padding==="no-gap"){var U=oc(e.barCategoryGap,L*V),$=L*V/2;_=$-U-($-U)/V*U}}}i==="xAxis"?T=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:T=g.range,S&&(T=[T[1],T[0]]);var B=nAe(g,o,f),G=B.scale,ee=B.realScaleType;G.domain(x).range(T),iAe(G);var J=fAe(G,Pi(Pi({},g),{},{realScaleType:ee}));i==="xAxis"?(I=b==="top"&&!E||b==="bottom"&&E,A=n.left,N=d[C]-I*g.height):i==="yAxis"&&(I=b==="left"&&!E||b==="right"&&E,A=d[C]-I*g.width,N=n.top);var ie=Pi(Pi(Pi({},g),J),{},{realScaleType:ee,x:A,y:N,scale:G,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return ie.bandSize=Jv(ie,J),!g.hide&&i==="xAxis"?d[C]+=(I?-1:1)*ie.height:g.hide||(d[C]+=(I?-1:1)*ie.width),Pi(Pi({},m),{},gw({},v,ie))},{})},f8=function(e,r){var n=e.x,i=e.y,o=r.x,a=r.y;return{x:Math.min(n,o),y:Math.min(i,a),width:Math.abs(o-n),height:Math.abs(a-i)}},Rke=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return f8({x:r,y:n},{x:i,y:o})},h8=function(){function t(e){Oke(this,t),this.scale=e}return kke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();gw(h8,"EPS",1e-4);var YC=function(e){var r=Object.keys(e).reduce(function(n,i){return Pi(Pi({},n),{},gw({},i,h8.create(e[i])))},{});return Pi(Pi({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return JOe(i,function(l,c){return r[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return a8(i,function(o,a){return r[a].isInRange(o)})}})};function jke(t){return(t%180+180)%180}var Dke=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=jke(i),a=o*Math.PI/180,s=Math.atan(n/r),l=a>s&&a<Math.PI-s?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Mke=tl,$ke=Om,Lke=ew;function Vke(t){return function(e,r,n){var i=Object(e);if(!$ke(e)){var o=Mke(r);e=Lke(e),r=function(s){return o(i[s],s,i)}}var a=t(e,r,n);return a>-1?i[o?e[a]:a]:void 0}}var Fke=Vke,Uke=r8;function Bke(t){var e=Uke(t),r=e%1;return e===e?r?e-r:e:0}var zke=Bke,Wke=wz,qke=tl,Hke=zke,Gke=Math.max;function Kke(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Hke(r);return i<0&&(i=Gke(n+i,0)),Wke(t,qke(e),i)}var Qke=Kke,Yke=Fke,Xke=Qke,Zke=Yke(Xke),Jke=Zke;const eNe=St(Jke);var tNe=Bde(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XC=O.createContext(void 0),ZC=O.createContext(void 0),p8=O.createContext(void 0),m8=O.createContext({}),g8=O.createContext(void 0),y8=O.createContext(0),v8=O.createContext(0),fM=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=tNe(o);return z.createElement(XC.Provider,{value:n},z.createElement(ZC.Provider,{value:i},z.createElement(m8.Provider,{value:o},z.createElement(p8.Provider,{value:u},z.createElement(g8.Provider,{value:a},z.createElement(y8.Provider,{value:c},z.createElement(v8.Provider,{value:l},s)))))))},rNe=function(){return O.useContext(g8)},b8=function(e){var r=O.useContext(XC);r==null&&sc();var n=r[e];return n==null&&sc(),n},nNe=function(){var e=O.useContext(XC);return Ya(e)},iNe=function(){var e=O.useContext(ZC),r=eNe(e,function(n){return a8(n.domain,Number.isFinite)});return r||Ya(e)},w8=function(e){var r=O.useContext(ZC);r==null&&sc();var n=r[e];return n==null&&sc(),n},oNe=function(){var e=O.useContext(p8);return e},aNe=function(){return O.useContext(m8)},JC=function(){return O.useContext(v8)},eI=function(){return O.useContext(y8)};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function sNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_8(n.key),n)}}function cNe(t,e,r){return e&&lNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uNe(t,e,r){return e=h0(e),dNe(t,x8()?Reflect.construct(e,r||[],h0(t).constructor):e.apply(t,r))}function dNe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fNe(t)}function fNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x8=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0(t)}function hNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CS(t,e)}function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){tI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tI(t,e,r){return e=_8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _8(t){var e=pNe(t,"string");return xd(e)=="symbol"?e:e+""}function pNe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mNe(t,e){return bNe(t)||vNe(t,e)||yNe(t,e)||gNe()}function gNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yNe(t,e){if(t){if(typeof t=="string")return mM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(t,e)}}function mM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function bNe(t){if(Array.isArray(t))return t}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}var wNe=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):He(e)?n=e(r):n=z.createElement("line",IS({},r,{className:"recharts-reference-line-line"})),n},xNe=function(e,r,n,i,o,a,s,l,c){var u=o.x,d=o.y,f=o.width,m=o.height;if(n){var v=c.y,g=e.y.apply(v,{position:a});if(So(c,"discard")&&!e.y.isInRange(g))return null;var b=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?b.reverse():b}if(r){var x=c.x,y=e.x.apply(x,{position:a});if(So(c,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:d+m},{x:y,y:d}];return s==="top"?w.reverse():w}if(i){var E=c.segment,S=E.map(function(C){return e.apply(C,{position:a})});return So(c,"discard")&&qOe(S,function(C){return!e.isInRange(C)})?null:S}return null};function _Ne(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=rNe(),u=b8(i),d=w8(o),f=oNe();if(!c||!f)return null;sa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=YC({x:u.scale,y:d.scale}),v=gr(e),g=gr(r),b=n&&n.length===2,x=xNe(m,v,g,b,f,t.position,u.orientation,d.orientation,t);if(!x)return null;var y=mNe(x,2),w=y[0],E=w.x,S=w.y,C=y[1],_=C.x,T=C.y,A=So(t,"hidden")?"url(#".concat(c,")"):void 0,N=pM(pM({clipPath:A},nt(t,!0)),{},{x1:E,y1:S,x2:_,y2:T});return z.createElement(nr,{className:ot("recharts-reference-line",s)},wNe(a,N),Kr.renderCallByParent(t,Rke({x1:E,y1:S,x2:_,y2:T})))}var rI=function(t){function e(){return sNe(this,e),uNe(this,e,arguments)}return hNe(e,t),cNe(e,[{key:"render",value:function(){return z.createElement(_Ne,this.props)}}])}(z.Component);tI(rI,"displayName","ReferenceLine");tI(rI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OS.apply(this,arguments)}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){yw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ENe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S8(n.key),n)}}function TNe(t,e,r){return e&&SNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ANe(t,e,r){return e=p0(e),PNe(t,E8()?Reflect.construct(e,r||[],p0(t).constructor):e.apply(t,r))}function PNe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CNe(t)}function CNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(t)}function INe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(t,e)}function yw(t,e,r){return e=S8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S8(t){var e=ONe(t,"string");return _d(e)=="symbol"?e:e+""}function ONe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kNe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,a=YC({x:i.scale,y:o.scale}),s=a.apply({x:r,y:n},{bandAware:!0});return So(e,"discard")&&!a.isInRange(s)?null:s},vw=function(t){function e(){return ENe(this,e),ANe(this,e,arguments)}return INe(e,t),TNe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,a=n.r,s=n.alwaysShow,l=n.clipPathId,c=gr(i),u=gr(o);if(sa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=kNe(this.props);if(!d)return null;var f=d.x,m=d.y,v=this.props,g=v.shape,b=v.className,x=So(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=yM(yM({clipPath:x},nt(this.props,!0)),{},{cx:f,cy:m});return z.createElement(nr,{className:ot("recharts-reference-dot",b)},e.renderDot(g,y),Kr.renderCallByParent(this.props,{x:f-a,y:m-a,width:2*a,height:2*a}))}}])}(z.Component);yw(vw,"displayName","ReferenceDot");yw(vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yw(vw,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):He(t)?r=t(e):r=z.createElement(QC,OS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NS.apply(this,arguments)}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A8(n.key),n)}}function jNe(t,e,r){return e&&RNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DNe(t,e,r){return e=m0(e),MNe(t,T8()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function MNe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ne(t)}function $Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T8=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function LNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RS(t,e)}function bw(t,e,r){return e=A8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A8(t){var e=VNe(t,"string");return Ed(e)=="symbol"?e:e+""}function VNe(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FNe=function(e,r,n,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var f=YC({x:u.scale,y:d.scale}),m={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return So(o,"discard")&&(!f.isInRange(m)||!f.isInRange(v))?null:f8(m,v)},ww=function(t){function e(){return NNe(this,e),DNe(this,e,arguments)}return LNe(e,t),jNe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,a=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;sa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=gr(i),f=gr(o),m=gr(a),v=gr(s),g=this.props.shape;if(!d&&!f&&!m&&!v&&!g)return null;var b=FNe(d,f,m,v,this.props);if(!b&&!g)return null;var x=So(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(nr,{className:ot("recharts-reference-area",l)},e.renderRect(g,bM(bM({clipPath:x},nt(this.props,!0)),b)),Kr.renderCallByParent(this.props,b))}}])}(z.Component);bw(ww,"displayName","ReferenceArea");bw(ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bw(ww,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):He(t)?r=t(e):r=z.createElement(KC,NS({},e,{className:"recharts-reference-area-rect"})),r});function P8(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function UNe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Dke(n,r)}function BNe(t,e,r){var n=r==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:n?i:o,end:n?i+a:o+s}:{start:n?i+a:o+s,end:n?i:o}}function g0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function zNe(t,e){return P8(t,e+1)}function WNe(t,e,r,n,i){for(var o=(n||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:P8(n,c)};var g=l,b,x=function(){return b===void 0&&(b=r(v,g)),b},y=v.coordinate,w=l===0||g0(t,y,x,u,s);w||(l=0,u=a,c+=1),w&&(u=y+t*(x()/2+i),l+=c)},f;c<=o.length;)if(f=d(),f)return f.v;return[]}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){qNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qNe(t,e,r){return e=HNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HNe(t){var e=GNe(t,"string");return Hp(e)=="symbol"?e:e+""}function GNe(t,e){if(Hp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KNe(t,e,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(f){var m=o[f],v,g=function(){return v===void 0&&(v=r(m,f)),v};if(f===a-1){var b=t*(m.coordinate+t*g()/2-l);o[f]=m=Wr(Wr({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else o[f]=m=Wr(Wr({},m),{},{tickCoord:m.coordinate});var x=g0(t,m.tickCoord,g,s,l);x&&(l=m.tickCoord-t*(g()/2+i),o[f]=Wr(Wr({},m),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function QNe(t,e,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=n[s-1],d=r(u,s-1),f=t*(u.coordinate+t*d/2-c);a[s-1]=u=Wr(Wr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var m=g0(t,u.tickCoord,function(){return d},l,c);m&&(c=u.tickCoord-t*(d/2+i),a[s-1]=Wr(Wr({},u),{},{isShow:!0}))}for(var v=o?s-1:s,g=function(y){var w=a[y],E,S=function(){return E===void 0&&(E=r(w,y)),E};if(y===0){var C=t*(w.coordinate-t*S()/2-l);a[y]=w=Wr(Wr({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else a[y]=w=Wr(Wr({},w),{},{tickCoord:w.coordinate});var _=g0(t,w.tickCoord,S,l,c);_&&(l=w.tickCoord+t*(S()/2+i),a[y]=Wr(Wr({},w),{},{isShow:!0}))},b=0;b<v;b++)g(b);return a}function nI(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(he(l)||la.isSsr)return zNe(i,typeof l=="number"&&he(l)?l:0);var f=[],m=s==="top"||s==="bottom"?"width":"height",v=u&&m==="width"?Ch(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,E){var S=He(c)?c(w.value,E):w.value;return m==="width"?UNe(Ch(S,{fontSize:e,letterSpacing:r}),v,d):Ch(S,{fontSize:e,letterSpacing:r})[m]},b=i.length>=2?$i(i[1].coordinate-i[0].coordinate):1,x=BNe(o,b,m);return l==="equidistantPreserveStart"?WNe(b,x,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=QNe(b,x,g,i,a,l==="preserveStartEnd"):f=KNe(b,x,g,i,a),f.filter(function(y){return y.isShow}))}var YNe=["viewBox"],XNe=["viewBox"],ZNe=["ticks"];function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){iI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y_(t,e){if(t==null)return{};var r=JNe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JNe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I8(n.key),n)}}function tRe(t,e,r){return e&&_M(t.prototype,e),r&&_M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rRe(t,e,r){return e=y0(e),nRe(t,C8()?Reflect.construct(e,r||[],y0(t).constructor):e.apply(t,r))}function nRe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iRe(t)}function iRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}function oRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jS(t,e)}function iI(t,e,r){return e=I8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I8(t){var e=aRe(t,"string");return Sd(e)=="symbol"?e:e+""}function aRe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf=function(t){function e(r){var n;return eRe(this,e),n=rRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return oRe(e,t),tRe(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,a=y_(n,YNe),s=this.props,l=s.viewBox,c=y_(s,XNe);return!Cu(o,l)||!Cu(a,c)||!Cu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,m,v,g,b,x,y,w=d?-1:1,E=n.tickSize||u,S=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":m=v=n.coordinate,b=a+ +!d*l,g=b-w*E,y=g-w*f,x=S;break;case"left":g=b=n.coordinate,v=o+ +!d*s,m=v-w*E,x=m-w*f,y=S;break;case"right":g=b=n.coordinate,v=o+ +d*s,m=v+w*E,x=m+w*f,y=S;break;default:m=v=n.coordinate,b=a+ +d*l,g=b+w*E,y=g+w*f,x=S;break}return{line:{x1:m,y1:g,x2:v,y2:b},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,a=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=rn(rn(rn({},nt(this.props,!1)),nt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=rn(rn({},d),{},{x1:i,y1:o+f*s,x2:i+a,y2:o+f*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);d=rn(rn({},d),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return z.createElement("line",ou({},d,{className:ot("recharts-cartesian-axis-line",ui(u,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,m=nI(rn(rn({},this.props),{},{ticks:n}),i,o),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=nt(this.props,!1),x=nt(u,!1),y=rn(rn({},b),{},{fill:"none"},nt(l,!1)),w=m.map(function(E,S){var C=a.getTickLineCoord(E),_=C.line,T=C.tick,A=rn(rn(rn(rn({textAnchor:v,verticalAnchor:g},b),{},{stroke:"none",fill:c},x),T),{},{index:S,payload:E,visibleTicksCount:m.length,tickFormatter:d});return z.createElement(nr,ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Tv(a.props,E,S)),l&&z.createElement("line",ou({},y,_,{className:ot("recharts-cartesian-axis-tick-line",ui(l,"className"))})),u&&e.renderTickItem(u,A,"".concat(He(d)?d(E.value,S):E.value).concat(f||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,m=y_(d,ZNe),v=f;return He(l)&&(v=f&&f.length>0?l(this.props):l(m)),a<=0||s<=0||!v||!v.length?null:z.createElement(nr,{className:ot("recharts-cartesian-axis",c),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):He(n)?a=n(i):a=z.createElement(Vv,ou({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);iI(uf,"displayName","CartesianAxis");iI(uf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sRe=["x1","y1","x2","y2","key"],lRe=["offset"];function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){cRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cRe(t,e,r){return e=uRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uRe(t){var e=dRe(t,"string");return lc(e)=="symbol"?e:e+""}function dRe(t,e){if(lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Al.apply(this,arguments)}function SM(t,e){if(t==null)return{};var r=fRe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hRe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return z.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O8(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(He(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=SM(e,sRe),c=nt(l,!1);c.offset;var u=SM(c,lRe);r=z.createElement("line",Al({},u,{x1:n,y1:i,x2:o,y2:a,fill:"none",key:s}))}return r}function pRe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Qr(Qr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return O8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function mRe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Qr(Qr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return O8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function gRe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var d=u.map(function(f,m){var v=!u[m+1],g=v?i+a-f:u[m+1]-f;if(g<=0)return null;var b=m%e.length;return z.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:g,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function yRe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,m){return f-m});o!==u[0]&&u.unshift(0);var d=u.map(function(f,m){var v=!u[m+1],g=v?o+s-f:u[m+1]-f;if(g<=0)return null;var b=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var vRe=function(e,r){var n=e.xAxis,i=e.width,o=e.height,a=e.offset;return V9(nI(Qr(Qr(Qr({},uf.defaultProps),n),{},{ticks:ta(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,r)},bRe=function(e,r){var n=e.yAxis,i=e.width,o=e.height,a=e.offset;return V9(nI(Qr(Qr(Qr({},uf.defaultProps),n),{},{ticks:ta(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,r)},Mc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DS(t){var e,r,n,i,o,a,s=JC(),l=eI(),c=aNe(),u=Qr(Qr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Mc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Mc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Mc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Mc.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Mc.verticalFill,x:he(t.x)?t.x:c.left,y:he(t.y)?t.y:c.top,width:he(t.width)?t.width:c.width,height:he(t.height)?t.height:c.height}),d=u.x,f=u.y,m=u.width,v=u.height,g=u.syncWithTicks,b=u.horizontalValues,x=u.verticalValues,y=nNe(),w=iNe();if(!he(m)||m<=0||!he(v)||v<=0||!he(d)||d!==+d||!he(f)||f!==+f)return null;var E=u.verticalCoordinatesGenerator||vRe,S=u.horizontalCoordinatesGenerator||bRe,C=u.horizontalPoints,_=u.verticalPoints;if((!C||!C.length)&&He(S)){var T=b&&b.length,A=S({yAxis:w?Qr(Qr({},w),{},{ticks:T?b:w.ticks}):void 0,width:s,height:l,offset:c},T?!0:g);sa(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lc(A),"]")),Array.isArray(A)&&(C=A)}if((!_||!_.length)&&He(E)){var N=x&&x.length,I=E({xAxis:y?Qr(Qr({},y),{},{ticks:N?x:y.ticks}):void 0,width:s,height:l,offset:c},N?!0:g);sa(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lc(I),"]")),Array.isArray(I)&&(_=I)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(hRe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(pRe,Al({},u,{offset:c,horizontalPoints:C,xAxis:y,yAxis:w})),z.createElement(mRe,Al({},u,{offset:c,verticalPoints:_,xAxis:y,yAxis:w})),z.createElement(gRe,Al({},u,{horizontalPoints:C})),z.createElement(yRe,Al({},u,{verticalPoints:_})))}DS.displayName="CartesianGrid";var wRe=["type","layout","connectNulls","ref"],xRe=["key"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function TM(t,e){if(t==null)return{};var r=_Re(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nh.apply(this,arguments)}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $c(t){return ARe(t)||TRe(t)||SRe(t)||ERe()}function ERe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SRe(t,e){if(t){if(typeof t=="string")return MS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(t,e)}}function TRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ARe(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N8(n.key),n)}}function CRe(t,e,r){return e&&PM(t.prototype,e),r&&PM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IRe(t,e,r){return e=v0(e),ORe(t,k8()?Reflect.construct(e,r||[],v0(t).constructor):e.apply(t,r))}function ORe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(t)}function kRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!t})()}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v0(t)}function NRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$S(t,e)}function $S(t,e){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$S(t,e)}function Ci(t,e,r){return e=N8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N8(t){var e=RRe(t,"string");return Td(e)=="symbol"?e:e+""}function RRe(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mm=function(t){function e(){var r;PRe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=IRe(this,e,[].concat(i)),Ci(r,"state",{isAnimationFinished:!0,totalLength:0}),Ci(r,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ci(r,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(x,y){return x+y});if(!c)return r.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),d=a%c,f=s-a,m=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>d){m=[].concat($c(l.slice(0,v)),[d-g]);break}var b=m.length%2===0?[0,f]:[f];return[].concat($c(e.repeat(l,u)),$c(m),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Ci(r,"id",Im("recharts-line-")),Ci(r,"pathRef",function(a){r.mainCurve=a}),Ci(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ci(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return NRe(e,t),CRe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=di(u,Dm);if(!d)return null;var f=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Qn(g.payload,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(nr,m,d.map(function(v){return z.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=nt(this.props,!1),f=nt(l,!0),m=c.map(function(g,b){var x=Nn(Nn(Nn({key:"dot-".concat(b),r:3},d),f),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,x)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(nr,Nh({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(n,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=TM(s,wRe),f=Nn(Nn(Nn({},nt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},a),{},{type:l,layout:c,connectNulls:u});return z.createElement(hS,Nh({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,m=a.animationId,v=a.animateNewValues,g=a.width,b=a.height,x=this.state,y=x.prevPoints,w=x.totalLength;return z.createElement(Ea,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(y){var C=y.length/s.length,_=s.map(function(k,R){var M=Math.floor(R*C);if(y[M]){var L=y[M],V=ki(L.x,k.x),U=ki(L.y,k.y);return Nn(Nn({},k),{},{x:V(S),y:U(S)})}if(v){var $=ki(g*2,k.x),B=ki(b/2,k.y);return Nn(Nn({},k),{},{x:$(S),y:B(S)})}return Nn(Nn({},k),{},{x:k.x,y:k.y})});return o.renderCurveStatically(_,n,i)}var T=ki(0,w),A=T(S),N;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});N=o.getStrokeDasharray(A,w,I)}else N=o.generateSimpleStrokeDasharray(w,A);return o.renderCurveStatically(s,n,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!dw(c,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,m=i.width,v=i.height,g=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=s.length===1,w=ot("recharts-line",l),E=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,C=E||S,_=Je(b)?this.id:b,T=(n=nt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=T.r,N=A===void 0?3:A,I=T.strokeWidth,k=I===void 0?2:I,R=Kfe(a)?a:{},M=R.clipDot,L=M===void 0?!0:M,V=N*2+k;return z.createElement(nr,{className:w},E||S?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:E?f:f-m/2,y:S?d:d-v/2,width:E?m:m*2,height:S?v:v*2})),!L&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:f-V/2,y:d-V/2,width:m+V,height:v+V}))):null,!y&&this.renderCurve(C,_),this.renderErrorBar(C,_),(y||a)&&this.renderDots(C,L,_),(!g||x)&&As.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat($c(n),[0]):n,a=[],s=0;s<i;++s)a=[].concat($c(a),$c(o));return a}},{key:"renderDotItem",value:function(n,i){var o;if(z.isValidElement(n))o=z.cloneElement(n,i);else if(He(n))o=n(i);else{var a=i.key,s=TM(i,xRe),l=ot("recharts-line-dot",typeof n!="boolean"?n.className:"");o=z.createElement(QC,Nh({key:a},s,{className:l}))}return o}}])}(O.PureComponent);Ci(Mm,"displayName","Line");Ci(Mm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!la.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ci(Mm,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,m){var v=Qn(f,a);return u==="horizontal"?{x:sD({axis:r,ticks:i,bandSize:s,entry:f,index:m}),y:Je(v)?null:n.scale(v),value:v,payload:f}:{x:Je(v)?null:r.scale(v),y:sD({axis:n,ticks:o,bandSize:s,entry:f,index:m}),value:v,payload:f}});return Nn({points:d,layout:u},c)});function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function jRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D8(n.key),n)}}function MRe(t,e,r){return e&&DRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Re(t,e,r){return e=b0(e),LRe(t,R8()?Reflect.construct(e,r||[],b0(t).constructor):e.apply(t,r))}function LRe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VRe(t)}function VRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(t)}function FRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LS(t,e)}function j8(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=URe(t,"string");return Ad(e)=="symbol"?e:e+""}function URe(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VS.apply(this,arguments)}function BRe(t){var e=t.xAxisId,r=JC(),n=eI(),i=b8(e);return i==null?null:z.createElement(uf,VS({},i,{className:ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return ta(a,!0)}}))}var Pd=function(t){function e(){return jRe(this,e),$Re(this,e,arguments)}return FRe(e,t),MRe(e,[{key:"render",value:function(){return z.createElement(BRe,this.props)}}])}(z.Component);j8(Pd,"displayName","XAxis");j8(Pd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L8(n.key),n)}}function qRe(t,e,r){return e&&WRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HRe(t,e,r){return e=w0(e),GRe(t,M8()?Reflect.construct(e,r||[],w0(t).constructor):e.apply(t,r))}function GRe(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(t)}function KRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w0(t)}function QRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FS(t,e)}function $8(t,e,r){return e=L8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L8(t){var e=YRe(t,"string");return Cd(e)=="symbol"?e:e+""}function YRe(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}var XRe=function(e){var r=e.yAxisId,n=JC(),i=eI(),o=w8(r);return o==null?null:z.createElement(uf,US({},o,{className:ot("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ta(s,!0)}}))},Id=function(t){function e(){return zRe(this,e),HRe(this,e,arguments)}return QRe(e,t),qRe(e,[{key:"render",value:function(){return z.createElement(XRe,this.props)}}])}(z.Component);$8(Id,"displayName","YAxis");$8(Id,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CM(t){return t2e(t)||e2e(t)||JRe(t)||ZRe()}function ZRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRe(t,e){if(t){if(typeof t=="string")return BS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BS(t,e)}}function e2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t2e(t){if(Array.isArray(t))return BS(t)}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zS=function(e,r,n,i,o){var a=di(e,rI),s=di(e,vw),l=[].concat(CM(a),CM(s)),c=di(e,ww),u="".concat(i,"Id"),d=i[0],f=r;if(l.length&&(f=l.reduce(function(g,b){if(b.props[u]===n&&So(b.props,"extendDomain")&&he(b.props[d])){var x=b.props[d];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),c.length){var m="".concat(d,"1"),v="".concat(d,"2");f=c.reduce(function(g,b){if(b.props[u]===n&&So(b.props,"extendDomain")&&he(b.props[m])&&he(b.props[v])){var x=b.props[m],y=b.props[v];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,b){return he(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},f)),f},V8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,d||l,f),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,m=d.length,v=new Array(m);f<m;f++)v[f]=d[f].fn;return v},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,m,v){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],x=arguments.length,y,w;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,m),!0;case 6:return b.fn.call(b.context,u,d,f,m,v),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];b.fn.apply(b.context,y)}else{var E=b.length,S;for(w=0;w<E;w++)switch(b[w].once&&this.removeListener(c,b[w].fn,void 0,!0),x){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,u);break;case 3:b[w].fn.call(b[w].context,u,d);break;case 4:b[w].fn.call(b[w].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(x-1);S<x;S++)y[S-1]=arguments[S];b[w].fn.apply(b[w].context,y)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var m=r?r+c:c;if(!this._events[m])return this;if(!u)return a(this,m),this;var v=this._events[m];if(v.fn)v.fn===u&&(!f||v.once)&&(!d||v.context===d)&&a(this,m);else{for(var g=0,b=[],x=v.length;g<x;g++)(v[g].fn!==u||f&&!v[g].once||d&&v[g].context!==d)&&b.push(v[g]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(V8);var r2e=V8.exports;const n2e=St(r2e);var v_=new n2e,b_="recharts.syncMouseEvents";function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function i2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F8(n.key),n)}}function a2e(t,e,r){return e&&o2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w_(t,e,r){return e=F8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F8(t){var e=s2e(t,"string");return Gp(e)=="symbol"?e:e+""}function s2e(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l2e=function(){function t(){i2e(this,t),w_(this,"activeIndex",0),w_(this,"coordinateList",[]),w_(this,"layout","horizontal")}return a2e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,a=r.container,s=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=o+l+c,f=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function c2e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&he(n)&&he(i))return!0}return!1}function u2e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function U8(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,a=Nr(e,r,n,i),s=Nr(e,r,n,o);return{points:[a,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function d2e(t,e,r){var n,i,o,a;if(t==="horizontal")n=e.x,o=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Nr(s,l,c,d),m=Nr(s,l,u,d);n=f.x,i=f.y,o=m.x,a=m.y}else return U8(e);return[{x:n,y:i},{x:o,y:a}]}function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){f2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f2e(t,e,r){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2e(t){var e=p2e(t,"string");return Kp(e)=="symbol"?e:e+""}function p2e(t,e){if(Kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m2e(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!o||!a||f!=="ScatterChart"&&i!=="axis")return null;var v,g=hS;if(f==="ScatterChart")v=a,g=mIe;else if(f==="BarChart")v=u2e(d,a,l,u),g=KC;else if(d==="radial"){var b=U8(a),x=b.cx,y=b.cy,w=b.radius,E=b.startAngle,S=b.endAngle;v={cx:x,cy:y,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},g=W9}else v={points:d2e(d,a,l)},g=hS;var C=Gg(Gg(Gg(Gg({stroke:"#ccc",pointerEvents:"none"},l),v),nt(m,!1)),{},{payload:s,payloadIndex:c,className:ot("recharts-tooltip-cursor",m.className)});return O.isValidElement(m)?O.cloneElement(m,C):O.createElement(g,C)}var g2e=["item"],y2e=["children","className","width","height","style","compact","title","desc"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},au.apply(this,arguments)}function OM(t,e){return w2e(t)||b2e(t,e)||z8(t,e)||v2e()}function v2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function w2e(t){if(Array.isArray(t))return t}function kM(t,e){if(t==null)return{};var r=x2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W8(n.key),n)}}function S2e(t,e,r){return e&&E2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T2e(t,e,r){return e=x0(e),A2e(t,B8()?Reflect.construct(e,r||[],x0(t).constructor):e.apply(t,r))}function A2e(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P2e(t)}function P2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}function C2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WS(t,e)}function kd(t){return k2e(t)||O2e(t)||z8(t)||I2e()}function I2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(t,e){if(t){if(typeof t=="string")return qS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(t,e)}}function O2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k2e(t){if(Array.isArray(t))return qS(t)}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(r),!0).forEach(function(n){ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ke(t,e,r){return e=W8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W8(t){var e=N2e(t,"string");return Od(e)=="symbol"?e:e+""}function N2e(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R2e={xAxis:["bottom","top"],yAxis:["left","right"]},j2e={width:"100%",height:"100%"},q8={x:0,y:0};function Kg(t){return t}var D2e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},M2e=function(e,r,n,i){var o=r.find(function(u){return u&&u.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return X(X(X({},i),Nr(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return X(X(X({},i),Nr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return q8},xw=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,a=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(kd(s),kd(c)):s},[]);return a.length>0?a:e&&e.length&&he(i)&&he(o)?e.slice(i,o+1):[]};function H8(t){return t==="number"?[0,"auto"]:void 0}var HS=function(e,r,n,i){var o=e.graphicalItems,a=e.tooltipAxis,s=xw(r,e);return n<0||!o||!o.length||n>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var m=d===void 0?s:d;f=Ev(m,a.dataKey,i)}else f=d&&d[n]||s[n];return f?[].concat(kd(l),[U9(c,f)]):l},[])},RM=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},a=D2e(o,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=XTe(a,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=HS(e,r,u,d),m=M2e(n,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:m}}return null},$2e=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,m=L9(u,o);return n.reduce(function(v,g){var b,x=g.type.defaultProps!==void 0?X(X({},g.type.defaultProps),g.props):g.props,y=x.type,w=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,C=x.scale,_=x.ticks,T=x.includeHidden,A=x[a];if(v[A])return v;var N=xw(e.data,{graphicalItems:i.filter(function(J){var ie,Ce=a in J.props?J.props[a]:(ie=J.type.defaultProps)===null||ie===void 0?void 0:ie[a];return Ce===A}),dataStartIndex:l,dataEndIndex:c}),I=N.length,k,R,M;c2e(x.domain,E,y)&&(k=lS(x.domain,null,E),m&&(y==="number"||C!=="auto")&&(M=Oh(N,w,"category")));var L=H8(y);if(!k||k.length===0){var V,U=(V=x.domain)!==null&&V!==void 0?V:L;if(w){if(k=Oh(N,w,y),y==="category"&&m){var $=Vfe(k);S&&$?(R=k,k=l0(0,I)):S||(k=dD(U,k,g).reduce(function(J,ie){return J.indexOf(ie)>=0?J:[].concat(kd(J),[ie])},[]))}else if(y==="category")S?k=k.filter(function(J){return J!==""&&!Je(J)}):k=dD(U,k,g).reduce(function(J,ie){return J.indexOf(ie)>=0||ie===""||Je(ie)?J:[].concat(kd(J),[ie])},[]);else if(y==="number"){var B=rAe(N,i.filter(function(J){var ie,Ce,ue=a in J.props?J.props[a]:(ie=J.type.defaultProps)===null||ie===void 0?void 0:ie[a],Se="hide"in J.props?J.props.hide:(Ce=J.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return ue===A&&(T||!Se)}),w,o,u);B&&(k=B)}m&&(y==="number"||C!=="auto")&&(M=Oh(N,w,"category"))}else m?k=l0(0,I):s&&s[A]&&s[A].hasStack&&y==="number"?k=f==="expand"?[0,1]:F9(s[A].stackGroups,l,c):k=$9(N,i.filter(function(J){var ie=a in J.props?J.props[a]:J.type.defaultProps[a],Ce="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ie===A&&(T||!Ce)}),y,u,!0);if(y==="number")k=zS(d,k,A,o,_),U&&(k=lS(U,k,E));else if(y==="category"&&U){var G=U,ee=k.every(function(J){return G.indexOf(J)>=0});ee&&(k=G)}}return X(X({},v),{},ke({},A,X(X({},x),{},{axisType:o,domain:k,categoricalDomain:M,duplicateDomain:R,originalDomain:(b=x.domain)!==null&&b!==void 0?b:L,isCategorical:m,layout:u})))},{})},L2e=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,a=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,f=xw(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),m=f.length,v=L9(u,o),g=-1;return n.reduce(function(b,x){var y=x.type.defaultProps!==void 0?X(X({},x.type.defaultProps),x.props):x.props,w=y[a],E=H8("number");if(!b[w]){g++;var S;return v?S=l0(0,m):s&&s[w]&&s[w].hasStack?(S=F9(s[w].stackGroups,l,c),S=zS(d,S,w,o)):(S=lS(E,$9(f,n.filter(function(C){var _,T,A=a in C.props?C.props[a]:(_=C.type.defaultProps)===null||_===void 0?void 0:_[a],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return A===w&&!N}),"number",u),i.defaultProps.allowDataOverflow),S=zS(d,S,w,o)),X(X({},b),{},ke({},w,X(X({axisType:o},i.defaultProps),{},{hide:!0,orientation:ui(R2e,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:E,isCategorical:v,layout:u})))}return b},{})},V2e=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,a=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=di(u,o),m={};return f&&f.length?m=$2e(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=L2e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},F2e=function(e){var r=Ya(e),n=ta(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jv(r,n)}},jM=function(e){var r=e.children,n=e.defaultShowTooltip,i=Mn(r,bd),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},U2e=function(e){return!e||!e.length?!1:e.some(function(r){var n=aa(r&&r.type);return n&&n.indexOf("Bar")>=0})},DM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},B2e=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,d=n.children,f=n.margin||{},m=Mn(d,bd),v=Mn(d,Iu),g=Object.keys(l).reduce(function(S,C){var _=l[C],T=_.orientation;return!_.mirror&&!_.hide?X(X({},S),{},ke({},T,S[T]+_.width)):S},{left:f.left||0,right:f.right||0}),b=Object.keys(a).reduce(function(S,C){var _=a[C],T=_.orientation;return!_.mirror&&!_.hide?X(X({},S),{},ke({},T,ui(S,"".concat(T))+_.height)):S},{top:f.top||0,bottom:f.bottom||0}),x=X(X({},b),g),y=x.bottom;m&&(x.bottom+=m.props.height||bd.defaultProps.height),v&&r&&(x=eAe(x,i,n,r));var w=c-x.left-x.right,E=u-x.top-x.bottom;return X(X({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(E,0)})},z2e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},G8=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(x,y){var w=y.graphicalItems,E=y.stackGroups,S=y.offset,C=y.updateId,_=y.dataStartIndex,T=y.dataEndIndex,A=x.barSize,N=x.layout,I=x.barGap,k=x.barCategoryGap,R=x.maxBarSize,M=DM(N),L=M.numericAxisName,V=M.cateAxisName,U=U2e(w),$=[];return w.forEach(function(B,G){var ee=xw(x.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:T}),J=B.type.defaultProps!==void 0?X(X({},B.type.defaultProps),B.props):B.props,ie=J.dataKey,Ce=J.maxBarSize,ue=J["".concat(L,"Id")],Se=J["".concat(V,"Id")],fe={},Te=l.reduce(function(On,F){var H=y["".concat(F.axisType,"Map")],Y=J["".concat(F.axisType,"Id")];H&&H[Y]||F.axisType==="zAxis"||sc();var me=H[Y];return X(X({},On),{},ke(ke({},F.axisType,me),"".concat(F.axisType,"Ticks"),ta(me)))},fe),ne=Te[V],de=Te["".concat(V,"Ticks")],le=E&&E[ue]&&E[ue].hasStack&&pAe(B,E[ue].stackGroups),Q=aa(B.type).indexOf("Bar")>=0,Be=Jv(ne,de),Oe=[],dt=U&&ZTe({barSize:A,stackGroups:E,totalSize:z2e(Te,V)});if(Q){var ft,kt,gn=Je(Ce)?R:Ce,Mr=(ft=(kt=Jv(ne,de,!0))!==null&&kt!==void 0?kt:gn)!==null&&ft!==void 0?ft:0;Oe=JTe({barGap:I,barCategoryGap:k,bandSize:Mr!==Be?Mr:Be,sizeList:dt[Se],maxBarSize:gn}),Mr!==Be&&(Oe=Oe.map(function(On){return X(X({},On),{},{position:X(X({},On.position),{},{offset:On.position.offset-Mr/2})})}))}var Ro=B&&B.type&&B.type.getComposedData;Ro&&$.push({props:X(X({},Ro(X(X({},Te),{},{displayedData:ee,props:x,dataKey:ie,item:B,bandSize:Be,barPosition:Oe,offset:S,stackedData:le,layout:N,dataStartIndex:_,dataEndIndex:T}))),{},ke(ke(ke({key:B.key||"item-".concat(G)},L,Te[L]),V,Te[V]),"animationId",C)),childIndex:Xfe(B,x.children),item:B})}),$},m=function(x,y){var w=x.props,E=x.dataStartIndex,S=x.dataEndIndex,C=x.updateId;if(!n2({props:w}))return null;var _=w.children,T=w.layout,A=w.stackOffset,N=w.data,I=w.reverseStackOrder,k=DM(T),R=k.numericAxisName,M=k.cateAxisName,L=di(_,n),V=dAe(N,L,"".concat(R,"Id"),"".concat(M,"Id"),A,I),U=l.reduce(function(J,ie){var Ce="".concat(ie.axisType,"Map");return X(X({},J),{},ke({},Ce,V2e(w,X(X({},ie),{},{graphicalItems:L,stackGroups:ie.axisType===R&&V,dataStartIndex:E,dataEndIndex:S}))))},{}),$=B2e(X(X({},U),{},{props:w,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(J){U[J]=u(w,U[J],$,J.replace("Map",""),r)});var B=U["".concat(M,"Map")],G=F2e(B),ee=f(w,X(X({},U),{},{dataStartIndex:E,dataEndIndex:S,updateId:C,graphicalItems:L,stackGroups:V,offset:$}));return X(X({formattedGraphicalItems:ee,graphicalItems:L,offset:$,stackGroups:V},G),U)},v=function(b){function x(y){var w,E,S;return _2e(this,x),S=T2e(this,x,[y]),ke(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ke(S,"accessibilityManager",new l2e),ke(S,"handleLegendBBoxUpdate",function(C){if(C){var _=S.state,T=_.dataStartIndex,A=_.dataEndIndex,N=_.updateId;S.setState(X({legendBBox:C},m({props:S.props,dataStartIndex:T,dataEndIndex:A,updateId:N},X(X({},S.state),{},{legendBBox:C}))))}}),ke(S,"handleReceiveSyncEvent",function(C,_,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(_)}}),ke(S,"handleBrushChange",function(C){var _=C.startIndex,T=C.endIndex;if(_!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return X({dataStartIndex:_,dataEndIndex:T},m({props:S.props,dataStartIndex:_,dataEndIndex:T,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),ke(S,"handleMouseEnter",function(C){var _=S.getMouseInfo(C);if(_){var T=X(X({},_),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var A=S.props.onMouseEnter;He(A)&&A(T,C)}}),ke(S,"triggeredAfterMouseMove",function(C){var _=S.getMouseInfo(C),T=_?X(X({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var A=S.props.onMouseMove;He(A)&&A(T,C)}),ke(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ke(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ke(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),ke(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};S.setState(_),S.triggerSyncEvent(_);var T=S.props.onMouseLeave;He(T)&&T(_,C)}),ke(S,"handleOuterEvent",function(C){var _=Yfe(C),T=ui(S.props,"".concat(_));if(_&&He(T)){var A,N;/.*touch.*/i.test(_)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),T((A=N)!==null&&A!==void 0?A:{},C)}}),ke(S,"handleClick",function(C){var _=S.getMouseInfo(C);if(_){var T=X(X({},_),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var A=S.props.onClick;He(A)&&A(T,C)}}),ke(S,"handleMouseDown",function(C){var _=S.props.onMouseDown;if(He(_)){var T=S.getMouseInfo(C);_(T,C)}}),ke(S,"handleMouseUp",function(C){var _=S.props.onMouseUp;if(He(_)){var T=S.getMouseInfo(C);_(T,C)}}),ke(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ke(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),ke(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),ke(S,"handleDoubleClick",function(C){var _=S.props.onDoubleClick;if(He(_)){var T=S.getMouseInfo(C);_(T,C)}}),ke(S,"handleContextMenu",function(C){var _=S.props.onContextMenu;if(He(_)){var T=S.getMouseInfo(C);_(T,C)}}),ke(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&v_.emit(b_,S.props.syncId,C,S.eventEmitterSymbol)}),ke(S,"applySyncEvent",function(C){var _=S.props,T=_.layout,A=_.syncMethod,N=S.state.updateId,I=C.dataStartIndex,k=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(X({dataStartIndex:I,dataEndIndex:k},m({props:S.props,dataStartIndex:I,dataEndIndex:k,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,M=C.chartY,L=C.activeTooltipIndex,V=S.state,U=V.offset,$=V.tooltipTicks;if(!U)return;if(typeof A=="function")L=A($,C);else if(A==="value"){L=-1;for(var B=0;B<$.length;B++)if($[B].value===C.activeLabel){L=B;break}}var G=X(X({},U),{},{x:U.left,y:U.top}),ee=Math.min(R,G.x+G.width),J=Math.min(M,G.y+G.height),ie=$[L]&&$[L].value,Ce=HS(S.state,S.props.data,L),ue=$[L]?{x:T==="horizontal"?$[L].coordinate:ee,y:T==="horizontal"?J:$[L].coordinate}:q8;S.setState(X(X({},C),{},{activeLabel:ie,activeCoordinate:ue,activePayload:Ce,activeTooltipIndex:L}))}else S.setState(C)}),ke(S,"renderCursor",function(C){var _,T=S.state,A=T.isTooltipActive,N=T.activeCoordinate,I=T.activePayload,k=T.offset,R=T.activeTooltipIndex,M=T.tooltipAxisBandSize,L=S.getTooltipEventType(),V=(_=C.props.active)!==null&&_!==void 0?_:A,U=S.props.layout,$=C.key||"_recharts-cursor";return z.createElement(m2e,{key:$,activeCoordinate:N,activePayload:I,activeTooltipIndex:R,chartName:r,element:C,isActive:V,layout:U,offset:k,tooltipAxisBandSize:M,tooltipEventType:L})}),ke(S,"renderPolarAxis",function(C,_,T){var A=ui(C,"type.axisType"),N=ui(S.state,"".concat(A,"Map")),I=C.type.defaultProps,k=I!==void 0?X(X({},I),C.props):C.props,R=N&&N[k["".concat(A,"Id")]];return O.cloneElement(C,X(X({},R),{},{className:ot(A,R.className),key:C.key||"".concat(_,"-").concat(T),ticks:ta(R,!0)}))}),ke(S,"renderPolarGrid",function(C){var _=C.props,T=_.radialLines,A=_.polarAngles,N=_.polarRadius,I=S.state,k=I.radiusAxisMap,R=I.angleAxisMap,M=Ya(k),L=Ya(R),V=L.cx,U=L.cy,$=L.innerRadius,B=L.outerRadius;return O.cloneElement(C,{polarAngles:Array.isArray(A)?A:ta(L,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(N)?N:ta(M,!0).map(function(G){return G.coordinate}),cx:V,cy:U,innerRadius:$,outerRadius:B,key:C.key||"polar-grid",radialLines:T})}),ke(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,_=S.props,T=_.children,A=_.width,N=_.height,I=S.props.margin||{},k=A-(I.left||0)-(I.right||0),R=D9({children:T,formattedGraphicalItems:C,legendWidth:k,legendContent:c});if(!R)return null;var M=R.item,L=kM(R,g2e);return O.cloneElement(M,X(X({},L),{},{chartWidth:A,chartHeight:N,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ke(S,"renderTooltip",function(){var C,_=S.props,T=_.children,A=_.accessibilityLayer,N=Mn(T,Ai);if(!N)return null;var I=S.state,k=I.isTooltipActive,R=I.activeCoordinate,M=I.activePayload,L=I.activeLabel,V=I.offset,U=(C=N.props.active)!==null&&C!==void 0?C:k;return O.cloneElement(N,{viewBox:X(X({},V),{},{x:V.left,y:V.top}),active:U,label:L,payload:U?M:[],coordinate:R,accessibilityLayer:A})}),ke(S,"renderBrush",function(C){var _=S.props,T=_.margin,A=_.data,N=S.state,I=N.offset,k=N.dataStartIndex,R=N.dataEndIndex,M=N.updateId;return O.cloneElement(C,{key:C.key||"_recharts-brush",onChange:zg(S.handleBrushChange,C.props.onChange),data:A,x:he(C.props.x)?C.props.x:I.left,y:he(C.props.y)?C.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:he(C.props.width)?C.props.width:I.width,startIndex:k,endIndex:R,updateId:"brush-".concat(M)})}),ke(S,"renderReferenceElement",function(C,_,T){if(!C)return null;var A=S,N=A.clipPathId,I=S.state,k=I.xAxisMap,R=I.yAxisMap,M=I.offset,L=C.type.defaultProps||{},V=C.props,U=V.xAxisId,$=U===void 0?L.xAxisId:U,B=V.yAxisId,G=B===void 0?L.yAxisId:B;return O.cloneElement(C,{key:C.key||"".concat(_,"-").concat(T),xAxis:k[$],yAxis:R[G],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:N})}),ke(S,"renderActivePoints",function(C){var _=C.item,T=C.activePoint,A=C.basePoint,N=C.childIndex,I=C.isRange,k=[],R=_.props.key,M=_.item.type.defaultProps!==void 0?X(X({},_.item.type.defaultProps),_.item.props):_.item.props,L=M.activeDot,V=M.dataKey,U=X(X({index:N,dataKey:V,cx:T.x,cy:T.y,r:4,fill:GC(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},nt(L,!1)),Sv(L));return k.push(x.renderActiveDot(L,U,"".concat(R,"-activePoint-").concat(N))),A?k.push(x.renderActiveDot(L,X(X({},U),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(N))):I&&k.push(null),k}),ke(S,"renderGraphicChild",function(C,_,T){var A=S.filterFormatItem(C,_,T);if(!A)return null;var N=S.getTooltipEventType(),I=S.state,k=I.isTooltipActive,R=I.tooltipAxis,M=I.activeTooltipIndex,L=I.activeLabel,V=S.props.children,U=Mn(V,Ai),$=A.props,B=$.points,G=$.isRange,ee=$.baseLine,J=A.item.type.defaultProps!==void 0?X(X({},A.item.type.defaultProps),A.item.props):A.item.props,ie=J.activeDot,Ce=J.hide,ue=J.activeBar,Se=J.activeShape,fe=!!(!Ce&&k&&U&&(ie||ue||Se)),Te={};N!=="axis"&&U&&U.props.trigger==="click"?Te={onClick:zg(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Te={onMouseLeave:zg(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:zg(S.handleItemMouseEnter,C.props.onMouseEnter)});var ne=O.cloneElement(C,X(X({},A.props),Te));function de(F){return typeof R.dataKey=="function"?R.dataKey(F.payload):null}if(fe)if(M>=0){var le,Q;if(R.dataKey&&!R.allowDuplicatedCategory){var Be=typeof R.dataKey=="function"?de:"payload.".concat(R.dataKey.toString());le=Ev(B,Be,L),Q=G&&ee&&Ev(ee,Be,L)}else le=B==null?void 0:B[M],Q=G&&ee&&ee[M];if(Se||ue){var Oe=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[O.cloneElement(C,X(X(X({},A.props),Te),{},{activeIndex:Oe})),null,null]}if(!Je(le))return[ne].concat(kd(S.renderActivePoints({item:A,activePoint:le,basePoint:Q,childIndex:M,isRange:G})))}else{var dt,ft=(dt=S.getItemByXY(S.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ne},kt=ft.graphicalItem,gn=kt.item,Mr=gn===void 0?C:gn,Ro=kt.childIndex,On=X(X(X({},A.props),Te),{},{activeIndex:Ro});return[O.cloneElement(Mr,On),null,null]}return G?[ne,null,null]:[ne,null]}),ke(S,"renderCustomized",function(C,_,T){return O.cloneElement(C,X(X({key:"recharts-customized-".concat(T)},S.props),S.state))}),ke(S,"renderMap",{CartesianGrid:{handler:Kg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Kg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Kg},YAxis:{handler:Kg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Im("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=jz(S.triggeredAfterMouseMove,(E=y.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return C2e(x,b),S2e(x,[{key:"componentDidMount",value:function(){var w,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,E=w.children,S=w.data,C=w.height,_=w.layout,T=Mn(E,Ai);if(T){var A=T.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=HS(this.state,S,A,N),k=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+C)/2,M=_==="horizontal",L=M?{x:k,y:R}:{y:k,x:R},V=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});V&&(L=X(X({},L),V.props.points[A].tooltipPosition),I=V.props.points[A].tooltipPayload);var U={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:N,activePayload:I,activeCoordinate:L};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){EE([Mn(w.children,Ai)],[Mn(this.props.children,Ai)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Mn(this.props.children,Ai);if(w&&typeof w.props.shared=="boolean"){var E=w.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),C=E_e(S),_={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},T=S.width/E.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,T);if(!A)return null;var N=this.state,I=N.xAxisMap,k=N.yAxisMap,R=this.getTooltipEventType(),M=RM(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&I&&k){var L=Ya(I).scale,V=Ya(k).scale,U=L&&L.invert?L.invert(_.chartX):null,$=V&&V.invert?V.invert(_.chartY):null;return X(X({},_),{},{xValue:U,yValue:$},M)}return M?X(X({},_),M):null}},{key:"inRange",value:function(w,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,_=w/S,T=E/S;if(C==="horizontal"||C==="vertical"){var A=this.state.offset,N=_>=A.left&&_<=A.left+A.width&&T>=A.top&&T<=A.top+A.height;return N?{x:_,y:T}:null}var I=this.state,k=I.angleAxisMap,R=I.radiusAxisMap;if(k&&R){var M=Ya(k);return pD({x:_,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,E=this.getTooltipEventType(),S=Mn(w,Ai),C={};S&&E==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Sv(this.props,this.handleOuterEvent);return X(X({},_),C)}},{key:"addListener",value:function(){v_.on(b_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){v_.removeListener(b_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,E,S){for(var C=this.state.formattedGraphicalItems,_=0,T=C.length;_<T;_++){var A=C[_];if(A.item===w||A.props.key===w.key||E===aa(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,E=this.state.offset,S=E.left,C=E.top,_=E.height,T=E.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:S,y:C,height:_,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(E,S){var C=OM(S,2),_=C[0],T=C[1];return X(X({},E),{},ke({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(E,S){var C=OM(S,2),_=C[0],T=C[1];return X(X({},E),{},ke({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(w){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(w){var E=this.state,S=E.formattedGraphicalItems,C=E.activeItem;if(S&&S.length)for(var _=0,T=S.length;_<T;_++){var A=S[_],N=A.props,I=A.item,k=I.type.defaultProps!==void 0?X(X({},I.type.defaultProps),I.props):I.props,R=aa(I.type);if(R==="Bar"){var M=(N.data||[]).find(function($){return oIe(w,$)});if(M)return{graphicalItem:A,payload:M}}else if(R==="RadialBar"){var L=(N.data||[]).find(function($){return pD(w,$)});if(L)return{graphicalItem:A,payload:L}}else if(pw(A,C)||mw(A,C)||Bp(A,C)){var V=lOe({graphicalItem:A,activeTooltipItem:C,itemData:k.data}),U=k.activeIndex===void 0?V:k.activeIndex;return{graphicalItem:X(X({},A),{},{childIndex:U}),payload:Bp(A,C)?k.data[V]:A.props.data[V]}}}return null}},{key:"render",value:function(){var w=this;if(!n2(this))return null;var E=this.props,S=E.children,C=E.className,_=E.width,T=E.height,A=E.style,N=E.compact,I=E.title,k=E.desc,R=kM(E,y2e),M=nt(R,!1);if(N)return z.createElement(fM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(TE,au({},M,{width:_,height:T,title:I,desc:k}),this.renderClipPath(),o2(S,this.renderMap)));if(this.props.accessibilityLayer){var L,V;M.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,M.role=(V=this.props.role)!==null&&V!==void 0?V:"application",M.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},M.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return z.createElement(fM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",au({className:ot("recharts-wrapper",C),style:X({position:"relative",cursor:"default",width:_,height:T},A)},U,{ref:function(B){w.container=B}}),z.createElement(TE,au({},M,{width:_,height:T,title:I,desc:k,style:j2e}),this.renderClipPath(),o2(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ke(v,"displayName",r),ke(v,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ke(v,"getDerivedStateFromProps",function(b,x){var y=b.dataKey,w=b.data,E=b.children,S=b.width,C=b.height,_=b.layout,T=b.stackOffset,A=b.margin,N=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var k=jM(b);return X(X(X({},k),{},{updateId:0},m(X(X({props:b},k),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:_,prevStackOffset:T,prevMargin:A,prevChildren:E})}if(y!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||C!==x.prevHeight||_!==x.prevLayout||T!==x.prevStackOffset||!Cu(A,x.prevMargin)){var R=jM(b),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},L=X(X({},RM(x,w,_)),{},{updateId:x.updateId+1}),V=X(X(X({},R),M),L);return X(X(X({},V),m(X({props:b},V),x)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:_,prevStackOffset:T,prevMargin:A,prevChildren:E})}if(!EE(E,x.prevChildren)){var U,$,B,G,ee=Mn(E,bd),J=ee&&(U=($=ee.props)===null||$===void 0?void 0:$.startIndex)!==null&&U!==void 0?U:N,ie=ee&&(B=(G=ee.props)===null||G===void 0?void 0:G.endIndex)!==null&&B!==void 0?B:I,Ce=J!==N||ie!==I,ue=!Je(w),Se=ue&&!Ce?x.updateId:x.updateId+1;return X(X({updateId:Se},m(X(X({props:b},x),{},{updateId:Se,dataStartIndex:J,dataEndIndex:ie}),x)),{},{prevChildren:E,dataStartIndex:J,dataEndIndex:ie})}return null}),ke(v,"renderActiveDot",function(b,x,y){var w;return O.isValidElement(b)?w=O.cloneElement(b,x):He(b)?w=b(x):w=z.createElement(QC,x),z.createElement(nr,{className:"recharts-active-dot",key:y},w)});var g=O.forwardRef(function(x,y){return z.createElement(v,au({},x,{ref:y}))});return g.displayName=v.displayName,g},W2e=G8({chartName:"LineChart",GraphicalChild:Mm,axisComponents:[{axisType:"xAxis",AxisComp:Pd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:d8}),q2e=G8({chartName:"BarChart",GraphicalChild:xc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:d8});function H2e(){const{currentUser:t}=mn(),[,e]=Cn(),r=async()=>{if(!(t!=null&&t.email))return 0;try{console.log(" Buscando episdios de crise para:",t.email);const v=new Date;v.setDate(v.getDate()-30);const g=Ne.fromDate(v);console.log(" Filtro de data - ltimos 30 dias desde:",v.toISOString());const b=cn(gt,"report_diario"),x=Bn(b),y=await zn(x);console.log(" Total de documentos encontrados:",y.docs.length);let w=0,E=0;return y.forEach(S=>{const C=S.id,_=S.data();if(C.startsWith(`${t.email}_`)||_.usuarioId===t.email||_.email===t.email){const T=_.data;if(T&&typeof T.toDate=="function"&&T>=g&&(E++,console.log(" Documento vlido encontrado:",C,"Data:",T.toDate().toISOString()),_.quizzes&&Array.isArray(_.quizzes))){const A=_.quizzes.filter(N=>N.tipo==="emergencial");console.log(` ${A.length} quiz(zes) emergencial(is) encontrado(s) em ${C}`),w+=A.length}}}),console.log(` Busca concluda. Documentos verificados: ${E}, Crises encontradas: ${w}`),w}catch(v){return console.error("Erro ao buscar episdios de crise:",v),0}},n=async()=>{if(!(t!=null&&t.email))return{daysSinceLastEntry:0,message:"Usurio no autenticado",status:"empty"};try{console.log(" Verificando adeso ao dirio para:",t.email);const v=cn(gt,"report_diario"),g=Bn(v),b=await zn(g);let x=null,y=0;if(b.forEach(A=>{const N=A.id,I=A.data();if(N.startsWith(`${t.email}_`)||I.usuarioId===t.email||I.email===t.email){y++;const k=I.data;if(k&&typeof k.toDate=="function"){const R=k.toDate();(!x||R>x)&&(x=R)}}}),console.log(` Documentos do usurio encontrados: ${y}`),console.log(" ltimo registro encontrado:",x?x.toISOString():null),!x||y===0)return{daysSinceLastEntry:0,message:"Voc ainda no fez nenhum registro no Dirio",status:"empty"};const w=new Date,E=w.toDateString(),S=new Date(w.getTime()-24*60*60*1e3).toDateString(),C=x?x.toDateString():"";if(C===E)return{daysSinceLastEntry:0,message:"Voc est em dia com os registros no Dirio",status:"good"};if(C===S)return{daysSinceLastEntry:1,message:"Voc ainda no fez nenhum registro hoje",status:"warning"};const _=w.getTime()-(x?x.getTime():0),T=Math.floor(_/(1e3*60*60*24));return{daysSinceLastEntry:T,message:`${T} ${T===1?"dia":"dias"} sem registros`,status:T>7?"danger":"warning"}}catch(v){return console.error("Erro ao verificar adeso ao dirio:",v),{daysSinceLastEntry:0,message:"Erro ao verificar registros",status:"empty"}}},i=async()=>{if(!(t!=null&&t.email))return[];try{console.log(" Buscando pontos de dor para:",t.email);const v=new Date;v.setDate(v.getDate()-30);const g=Ne.fromDate(v),b=cn(gt,"report_diario"),x=Bn(b),y=await zn(x),w={};y.forEach(S=>{const C=S.id,_=S.data();if(C.startsWith(`${t.email}_`)||_.usuarioId===t.email||_.email===t.email){const T=_.data;T&&typeof T.toDate=="function"&&T>=g&&_.quizzes&&Array.isArray(_.quizzes)&&_.quizzes.filter(N=>N.tipo==="noturno").forEach(N=>{if(N.respostas&&N.respostas[2]!==void 0){const I=N.respostas[2];if(Array.isArray(I))I.forEach(k=>{if(k&&k.trim()!==""){const R=k.trim();w[R]=(w[R]||0)+1}});else if(typeof I=="string"&&I.trim()!==""){const k=I.trim();w[k]=(w[k]||0)+1}}})}});const E=Object.entries(w).map(([S,C])=>({point:S,count:C})).sort((S,C)=>C.count-S.count).slice(0,8);return console.log(` Pontos de dor encontrados: ${E.length} diferentes`),console.log(" Amostra dos dados:",E.slice(0,3)),E}catch(v){return console.error("Erro ao buscar pontos de dor:",v),[]}},o=async()=>{if(!(t!=null&&t.email))return[];try{console.log(" Buscando evoluo da dor para:",t.email);const v=new Date;v.setDate(v.getDate()-30);const g=Ne.fromDate(v),b=cn(gt,"report_diario"),x=Bn(b),y=await zn(x),w=[];y.forEach(S=>{const C=S.id,_=S.data();if(C.startsWith(`${t.email}_`)||_.usuarioId===t.email||_.email===t.email){const T=_.data;T&&typeof T.toDate=="function"&&T>=g&&_.quizzes&&Array.isArray(_.quizzes)&&_.quizzes.filter(N=>N.tipo==="noturno").forEach(N=>{if(N.respostas&&N.respostas[1]!==void 0){const I=parseInt(N.respostas[1],10);if(!isNaN(I)){const k=T.toDate(),R=k.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),M=k.toISOString().split("T")[0];w.push({date:M,pain:I,dateStr:R})}}})}});const E=w.sort((S,C)=>new Date(S.date).getTime()-new Date(C.date).getTime()).reduce((S,C)=>{const _=S.findIndex(T=>T.date===C.date);return _>=0?S[_]=C:S.push(C),S},[]);return console.log(` Dados de evoluo da dor encontrados: ${E.length} registros`),console.log(" Amostra dos dados:",E.slice(0,3)),E}catch(v){return console.error("Erro ao buscar evoluo da dor:",v),[]}},{data:a,isLoading:s}=Jf({queryKey:["crisis-episodes",t==null?void 0:t.email],queryFn:r,enabled:!!(t!=null&&t.email),staleTime:5*60*1e3}),{data:l,isLoading:c}=Jf({queryKey:["diary-adherence",t==null?void 0:t.email],queryFn:n,enabled:!!(t!=null&&t.email),staleTime:5*60*1e3}),{data:u,isLoading:d}=Jf({queryKey:["pain-points",t==null?void 0:t.email],queryFn:i,enabled:!!(t!=null&&t.email),staleTime:5*60*1e3}),{data:f,isLoading:m}=Jf({queryKey:["pain-evolution",t==null?void 0:t.email],queryFn:o,enabled:!!(t!=null&&t.email),staleTime:5*60*1e3});return p.jsxs("div",{className:"p-4 pb-20 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Relatrios"}),p.jsxs(Pe,{onClick:()=>e("/reports/monthly-generator"),className:"bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2","data-testid":"button-generate-pdf-report",children:[p.jsx(rK,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Gerar Relatorio Mensal"}),p.jsx("span",{className:"sm:hidden",children:"PDF"})]})]}),p.jsx("p",{className:"text-muted-foreground",children:"Acompanhe sua evoluo e padres de sade"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[p.jsx($t,{className:"shadow-sm border border-border",children:p.jsxs(Lt,{className:"p-3 text-center",children:[p.jsx("div",{className:"flex items-center justify-center mb-2",children:p.jsx(x1,{className:"h-4 w-4 mr-1 text-red-500"})}),p.jsx("div",{className:"text-xl font-bold mb-1 text-red-600","data-testid":"text-crisis-episodes",children:s?"...":a||0}),p.jsx("p",{className:"text-xs text-muted-foreground font-medium leading-tight",children:"Episdios de Crise"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"ltimos 30 dias"})]})}),p.jsx($t,{className:"shadow-sm border border-border",children:p.jsxs(Lt,{className:"p-3 text-center",children:[p.jsx("div",{className:"flex items-center justify-center mb-2",children:p.jsx(vV,{className:`h-4 w-4 mr-1 ${(l==null?void 0:l.status)==="good"?"text-green-500":(l==null?void 0:l.status)==="warning"?"text-yellow-500":(l==null?void 0:l.status)==="danger"?"text-red-500":"text-gray-400"}`})}),p.jsx("div",{className:`text-xl font-bold mb-1 ${(l==null?void 0:l.status)==="good"?"text-green-600":(l==null?void 0:l.status)==="warning"?"text-yellow-600":(l==null?void 0:l.status)==="danger"?"text-red-600":"text-gray-400"}`,"data-testid":"text-diary-adherence",children:c?"...":(l==null?void 0:l.daysSinceLastEntry)||0}),p.jsx("p",{className:"text-xs text-muted-foreground font-medium leading-tight",children:"Adeso ao Dirio"}),p.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:c?"Verificando...":(l==null?void 0:l.message)||"Carregando..."})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{className:"pb-3",children:p.jsxs(xo,{className:"flex items-center text-lg",children:[p.jsx(vx,{className:"h-5 w-5 mr-2 text-blue-500"}),"Evoluo da Dor"]})}),p.jsxs(Lt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Evoluo da intensidade da dor nos ltimos 30 dias"}),m?p.jsxs("div",{className:"bg-muted rounded-xl p-6 text-center",children:[p.jsx(vx,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50 animate-pulse"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]}):!f||f.length===0?p.jsxs("div",{className:"bg-muted rounded-xl p-6 text-center",children:[p.jsx(vx,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete alguns dirios noturnos para ver sua evoluo"})]}):p.jsxs("div",{className:"h-80 w-full p-3",children:[p.jsx("div",{className:"mb-4 text-center",children:p.jsxs("span",{className:"text-xs font-medium text-slate-500 bg-slate-50 px-3 py-1 rounded-full",children:[(f==null?void 0:f.length)||0," registros nos ltimos 30 dias"]})}),p.jsx(rj,{width:"100%",height:"70%",children:p.jsxs(W2e,{data:f,margin:{top:10,right:30,left:20,bottom:20},children:[p.jsx(DS,{strokeDasharray:"1 3",stroke:"#e2e8f0",strokeOpacity:.3,horizontal:!0,vertical:!1}),p.jsx(Pd,{dataKey:"dateStr",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500},dy:10}),p.jsx(Id,{domain:[0,10],axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500},dx:-10,label:{value:"Dor (0-10)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"10px",fill:"#64748b",fontWeight:500}}}),p.jsx(Ai,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"8px 12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#1e293b",fontWeight:600,fontSize:"12px",marginBottom:"2px"},formatter:v=>[p.jsxs("span",{style:{color:"#3b82f6",fontWeight:700,fontSize:"14px"},children:[v,"/10"]}),"Dor"],labelFormatter:v=>`Data: ${v}`}),p.jsx(Mm,{type:"monotone",dataKey:"pain",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,stroke:"#ffffff",r:5},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2,fill:"#ffffff"}})]})}),p.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100",children:p.jsxs("div",{className:"flex items-center justify-between px-1",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[p.jsx("div",{className:"w-3 h-0.5 bg-blue-500 rounded"}),p.jsx("span",{children:"Intensidade da dor"})]}),f&&f.length>0&&p.jsxs("div",{className:"text-xs text-slate-600",children:["Mdia: ",p.jsxs("span",{className:"font-semibold text-blue-600",children:[(f.reduce((v,g)=>v+g.pain,0)/f.length).toFixed(1),"/10"]})]})]})})]})]})]}),p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{className:"pb-3",children:p.jsxs(xo,{className:"flex items-center text-lg",children:[p.jsx(yx,{className:"h-5 w-5 mr-2 text-orange-500"}),"Pontos de Dor"]})}),p.jsxs(Lt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Frequncia dos pontos de dor relatados nos ltimos 30 dias"}),d?p.jsxs("div",{className:"bg-muted rounded-xl p-6 text-center",children:[p.jsx(yx,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50 animate-pulse"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando dados..."})]}):!u||u.length===0?p.jsxs("div",{className:"bg-muted rounded-xl p-6 text-center",children:[p.jsx(yx,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete alguns dirios noturnos para ver os pontos de dor"})]}):p.jsx("div",{className:"h-64 w-full",children:p.jsx(rj,{width:"100%",height:"100%",children:p.jsxs(q2e,{data:u,margin:{top:10,right:30,left:20,bottom:60},children:[p.jsx(DS,{strokeDasharray:"1 3",stroke:"#e2e8f0",strokeOpacity:.3,horizontal:!0,vertical:!1}),p.jsx(Pd,{dataKey:"point",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b",fontWeight:500},angle:-45,textAnchor:"end",height:60,interval:0}),p.jsx(Id,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500},dx:-10,label:{value:"Frequncia",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:"10px",fill:"#64748b",fontWeight:500}}}),p.jsx(Ai,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"8px 12px",backdropFilter:"blur(8px)"},labelStyle:{color:"#1e293b",fontWeight:600,fontSize:"12px",marginBottom:"2px"},formatter:v=>[p.jsxs("span",{style:{color:"#f97316",fontWeight:700,fontSize:"14px"},children:[v,"x"]}),"Relatado"],labelFormatter:v=>v}),p.jsx(xc,{dataKey:"count",fill:"#f97316",radius:[4,4,0,0]})]})})})]})]}),p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{className:"pb-3",children:p.jsxs(xo,{className:"flex items-center text-lg",children:[p.jsx(aA,{className:"h-5 w-5 mr-2 text-blue-500"}),"Resumo Mensal"]})}),p.jsxs(Lt,{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Relatrio completo das suas atividades de sade"}),p.jsx(Pe,{variant:"outline",className:"w-full rounded-xl","data-testid":"button-generate-monthly-report",onClick:()=>e("/reports/monthly-generator"),children:"Gerar Relatrio Mensal"})]})]})]})]})}var G2e="Separator",MM="horizontal",K2e=["horizontal","vertical"],K8=O.forwardRef((t,e)=>{const{decorative:r,orientation:n=MM,...i}=t,o=Q2e(n)?n:MM,s=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return p.jsx(Ge.div,{"data-orientation":o,...s,...i,ref:e})});K8.displayName=G2e;function Q2e(t){return K2e.includes(t)}var Q8=K8;const _y=O.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>p.jsx(Q8,{ref:i,decorative:r,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));_y.displayName=Q8.displayName;const Y2e=Z0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function GS({className:t,variant:e,...r}){return p.jsx("div",{className:Me(Y2e({variant:e}),t),...r})}function X2e(){const{currentUser:t,updateUserProfile:e,updateUserPassword:r,testFirestoreConnection:n}=mn(),{toast:i}=Ki(),[o,a]=O.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||""}),[s,l]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[m,v]=O.useState(!1),g=async E=>{if(E.preventDefault(),!o.name.trim()){i({title:"Nome obrigatrio",description:"Por favor, insira seu nome.",variant:"destructive"});return}u(!0);try{await e(o.name.trim())}catch(S){console.error("Profile update error:",S)}finally{u(!1)}},b=async E=>{if(E.preventDefault(),!s.currentPassword||!s.newPassword||!s.confirmPassword){i({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos de senha.",variant:"destructive"});return}if(s.newPassword!==s.confirmPassword){i({title:"Senhas no conferem",description:"A nova senha e confirmao devem ser iguais.",variant:"destructive"});return}if(s.newPassword.length<6){i({title:"Senha muito curta",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}f(!0);try{await r(s.currentPassword,s.newPassword),l({currentPassword:"",newPassword:"",confirmPassword:""})}catch(S){console.error("Password update error:",S)}finally{f(!1)}},x=(E,S)=>{a(C=>({...C,[E]:S}))},y=(E,S)=>{l(C=>({...C,[E]:S}))},w=async()=>{v(!0);try{const E=await n();i({title:E?"Firestore Funcional":"Firestore Indisponvel",description:E?"Conexo com Firestore bem-sucedida! A coleo 'usuarios' pode ser criada.":"No foi possvel conectar ao Firestore. Verifique as configuraes do Firebase.",variant:E?"default":"destructive"})}catch{i({title:"Erro no teste",description:"Falha ao testar conexo com Firestore.",variant:"destructive"})}finally{v(!1)}};return p.jsx("div",{className:"max-w-lg mx-auto px-4 py-6",children:p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{children:p.jsx(xo,{className:"text-xl font-semibold text-foreground",children:"Editar Perfil"})}),p.jsxs(Lt,{className:"space-y-6",children:[p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"profileName",className:"block text-sm font-medium text-foreground mb-2",children:"Nome"}),p.jsx(ht,{id:"profileName",type:"text",value:o.name,onChange:E=>x("name",E.target.value),className:"w-full rounded-xl","data-testid":"input-profile-name"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"profileEmail",className:"block text-sm font-medium text-foreground mb-2",children:"E-mail"}),p.jsx(ht,{id:"profileEmail",type:"email",value:o.email,className:"w-full rounded-xl bg-muted text-muted-foreground",readOnly:!0,"data-testid":"input-profile-email"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O e-mail no pode ser alterado"})]}),p.jsx(Pe,{type:"submit",disabled:c,className:"w-full bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors","data-testid":"button-update-profile",children:c?"Salvando...":"Salvar Informaes"})]}),p.jsx(_y,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-6",children:"Plano de Assinatura"}),t!=null&&t.isSubscriptionActive?p.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-6",children:p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:p.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),p.jsxs("div",{children:[p.jsx(GS,{className:"bg-green-100 text-green-800 hover:bg-green-200 px-4 py-2 text-sm font-semibold border border-green-300",children:" Premium Ativo"}),p.jsx("h5",{className:"text-lg font-bold text-green-800 mt-3",children:"Voc  Premium!"}),p.jsx("p",{className:"text-sm text-green-700 mt-2 max-w-md mx-auto leading-relaxed",children:"Desfrute de acesso completo a todos os recursos avanados do DorLog, incluindo relatrios detalhados e sincronizao em nuvem."})]})]})}):p.jsx("div",{className:"bg-gradient-to-br from-orange-50 via-purple-50 to-blue-50 border border-purple-200 rounded-2xl p-6",children:p.jsxs("div",{className:"text-center space-y-5",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto",children:p.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),p.jsxs("div",{children:[p.jsx(GS,{className:"bg-orange-100 text-orange-800 hover:bg-orange-200 px-4 py-2 text-sm font-semibold border border-orange-300",children:" Plano Gratuito"}),p.jsx("h5",{className:"text-xl font-bold text-gray-800 mt-3",children:"Potencialize sua experincia!"}),p.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-md mx-auto leading-relaxed",children:"Desbloqueie relatrios avanados, sincronizao automtica, lembretes inteligentes e backup em nuvem."})]}),p.jsxs("div",{className:"space-y-3 pt-2",children:[p.jsx(Pe,{onClick:()=>window.open("https://checkout.stripe.com/pay/cs_test_premium_dorlog","_blank"),size:"lg",className:"w-full bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 text-white font-bold text-base py-4 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl shadow-lg",children:p.jsxs("div",{className:"flex items-center justify-center gap-3",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade para Premium"]})}),p.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500",children:[p.jsx("span",{className:"bg-white px-3 py-1 rounded-full border border-gray-200",children:" A partir de R$ 9,99/ms"}),p.jsx("span",{className:"bg-white px-3 py-1 rounded-full border border-gray-200",children:" Cancele quando quiser"})]})]})]})})]}),p.jsx(_y,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-4",children:"Alterar Senha"}),p.jsxs("form",{onSubmit:b,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"currentPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Senha atual"}),p.jsx(ht,{id:"currentPassword",type:"password",value:s.currentPassword,onChange:E=>y("currentPassword",E.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-current-password"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Nova senha"}),p.jsx(ht,{id:"newPassword",type:"password",value:s.newPassword,onChange:E=>y("newPassword",E.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-new-password"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirmar nova senha"}),p.jsx(ht,{id:"confirmNewPassword",type:"password",value:s.confirmPassword,onChange:E=>y("confirmPassword",E.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-confirm-new-password"})]}),p.jsx(Pe,{type:"submit",disabled:d,className:"w-full bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors","data-testid":"button-update-password",children:d?"Alterando...":"Alterar Senha"})]})]}),p.jsx(_y,{}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-foreground mb-4",children:"Diagnstico do Sistema"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Teste a conectividade com o Firestore para verificar se a coleo 'usuarios' pode ser criada."}),p.jsx(Pe,{onClick:w,disabled:m,variant:"outline",className:"w-full rounded-xl font-medium transition-colors","data-testid":"button-test-firestore",children:m?"Testando conexo...":"Testar Firestore"})]})]})]})})}function Z2e(){const[,t]=Cn(),e=bP(t),{currentUser:r}=mn(),{toast:n}=Ki(),[i,o]=O.useState("single"),[a,s]=O.useState(""),[l,c]=O.useState(""),[u,d]=O.useState(""),[f,m]=O.useState(!1),[v,g]=O.useState(null),x=(()=>{const _=[],T=new Date;for(let A=12;A>=0;A--){const N=_oe(T,A),I=$x(N),k=Mx(N),R=`${zo(I,"yyyy-MM-dd")}_${zo(k,"yyyy-MM-dd")}`,M=zo(N,"MMMM yyyy",{locale:dE});_.push({value:R,label:M.charAt(0).toUpperCase()+M.slice(1),date:N})}for(let A=1;A<=3;A++){const N=uE(T,A),I=$x(N),k=Mx(N),R=`${zo(I,"yyyy-MM-dd")}_${zo(k,"yyyy-MM-dd")}`,M=zo(N,"MMMM yyyy",{locale:dE});_.push({value:R,label:M.charAt(0).toUpperCase()+M.slice(1),date:N})}return _})();O.useEffect(()=>{const _=new Date,T=x.find(A=>{const N=A.date;return N.getMonth()===_.getMonth()&&N.getFullYear()===_.getFullYear()});T&&!a&&s(T.value)},[x,a]);const y=()=>i==="single"?a!=="":l!==""&&u!=="",w=()=>{if(i==="single")return a?[a]:[];{if(!l||!u)return[];const _=x.find(R=>R.value===l),T=x.find(R=>R.value===u);if(!_||!T)return[];const A=[],N=_.date,I=T.date;let k=new Date(N);for(;k<=I;){const R=$x(k),M=Mx(k),L=`${zo(R,"yyyy-MM-dd")}_${zo(M,"yyyy-MM-dd")}`;A.push(L),k=uE(k,1)}return A}},E=()=>{if(i==="single"){const _=x.find(T=>T.value===a);return _?_.label:""}else{const _=x.find(A=>A.value===l),T=x.find(A=>A.value===u);return _&&T?_.value===T.value?_.label:`${_.label} at ${T.label}`:""}},S=async()=>{if(!y()||!(r!=null&&r.email)){n({title:"Erro",description:"Usurio no autenticado ou perodo no selecionado",variant:"destructive"});return}m(!0);try{const _=w();console.log(" Gerando relatrio HTML para compartilhamento WhatsApp:",_);const T=await fetch("/api/generate-monthly-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.email,periods:_,periodsText:E()})});if(!T.ok)throw new Error(`HTTP ${T.status}: ${T.statusText}`);const A=await T.json();if(A.success&&A.reportUrl){g(A.reportUrl);const I=` *DorLog - Relatrio de Sade*

 Perodo: ${E()}

Aqui est meu relatrio de sade gerado pelo DorLog. O relatrio contm informaes detalhadas sobre medicamentos, episdios de dor e estatsticas de sade.

 Visualizar relatrio: ${A.reportUrl}

_Este relatrio foi gerado automaticamente pelo aplicativo DorLog._`;if(navigator.share)try{await navigator.share({title:" DorLog - Relatrio de Sade",text:I}),n({title:"Relatrio compartilhado!",description:"O relatrio foi compartilhado com sucesso.",duration:5e3});return}catch{console.log("Web Share API no disponvel, tentando alternativas...")}const k=`whatsapp://send?text=${encodeURIComponent(I)}`;try{window.open(k,"_blank"),n({title:"Abrindo WhatsApp...",description:"Se o WhatsApp no abrir automaticamente, copie o link manualmente.",duration:6e3}),setTimeout(async()=>{try{await navigator.clipboard.writeText(I)}catch{console.log("Clipboard API no disponvel")}},3e3)}catch{const M=`https://web.whatsapp.com/send?text=${encodeURIComponent(I)}`;window.open(M,"_blank"),n({title:"Abrindo WhatsApp Web",description:"O relatrio ser compartilhado via WhatsApp Web.",duration:5e3})}}else throw new Error(A.error||"Erro desconhecido na gerao do relatrio")}catch(_){console.error(" Erro ao gerar relatrio HTML:",_),n({title:"Erro",description:`Falha ao gerar o relatrio: ${_ instanceof Error?_.message:"Erro desconhecido"}`,variant:"destructive",duration:7e3})}finally{m(!1)}},C=async()=>{if(!y()||!(r!=null&&r.email)){n({title:"Erro",description:"Usurio no autenticado ou perodo no selecionado",variant:"destructive"});return}m(!0);try{const _=w();console.log(" Gerando relatrio HTML para compartilhamento Email:",_);const T=await fetch("/api/generate-monthly-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.email,periods:_,periodsText:E()})});if(!T.ok)throw new Error(`HTTP ${T.status}: ${T.statusText}`);const A=await T.json();if(A.success&&A.reportUrl){g(A.reportUrl);const N=E(),I=`DorLog - Relatrio de Sade - ${N}`,k=`Ol,

Segue em anexo meu relatrio de sade gerado pelo DorLog para o perodo: ${N}

O relatrio contm informaes detalhadas sobre:
- Medicamentos e aderncia ao tratamento
- Episdios de dor e evoluo
- Estatsticas de sade e pontos de dor

Link para visualizar o relatrio: ${A.reportUrl}

Atenciosamente,
${r.email}

---
Este relatrio foi gerado automaticamente pelo aplicativo DorLog.`,R=`mailto:?subject=${encodeURIComponent(I)}&body=${encodeURIComponent(k)}`;window.open(R),n({title:"Email preparado!",description:"O cliente de email foi aberto com o relatrio anexado.",duration:5e3})}else throw new Error(A.error||"Erro desconhecido na gerao do relatrio")}catch(_){console.error(" Erro ao gerar relatrio para email:",_),n({title:"Erro",description:`Falha ao gerar o relatrio: ${_ instanceof Error?_.message:"Erro desconhecido"}`,variant:"destructive",duration:7e3})}finally{m(!1)}};return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsxs(Pe,{variant:"ghost",size:"sm",onClick:()=>e("/reports"),className:"flex items-center gap-2",children:[p.jsx(hu,{className:"h-4 w-4"}),"Voltar"]}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Gerador de Relatrio Mensal"}),p.jsx("p",{className:"text-muted-foreground",children:"Gere e compartilhe relatrios detalhados de sade"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs($t,{children:[p.jsx(wo,{children:p.jsxs(xo,{className:"flex items-center gap-2",children:[p.jsx(JG,{className:"h-5 w-5"}),"Seleo de Perodo"]})}),p.jsxs(Lt,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx(qe,{className:"text-sm font-medium",children:"Modo de Seleo"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Pe,{variant:i==="single"?"default":"outline",size:"sm",onClick:()=>o("single"),className:"flex-1",children:"Ms nico"}),p.jsx(Pe,{variant:i==="range"?"default":"outline",size:"sm",onClick:()=>o("range"),className:"flex-1",children:"Intervalo"})]})]}),i==="single"&&p.jsxs("div",{className:"space-y-3",children:[p.jsx(qe,{htmlFor:"period",className:"text-sm font-medium",children:"Selecionar Ms"}),p.jsxs(Ah,{value:a,onValueChange:s,children:[p.jsx(Tu,{children:p.jsx(Ph,{placeholder:"Escolha um ms"})}),p.jsx(Au,{children:x.map(_=>p.jsx(Pu,{value:_.value,children:_.label},_.value))})]})]}),i==="range"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx(qe,{htmlFor:"from-period",className:"text-sm font-medium",children:"De"}),p.jsxs(Ah,{value:l,onValueChange:c,children:[p.jsx(Tu,{children:p.jsx(Ph,{placeholder:"Ms inicial"})}),p.jsx(Au,{children:x.map(_=>p.jsx(Pu,{value:_.value,children:_.label},_.value))})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(qe,{htmlFor:"to-period",className:"text-sm font-medium",children:"At"}),p.jsxs(Ah,{value:u,onValueChange:d,disabled:!l,children:[p.jsx(Tu,{children:p.jsx(Ph,{placeholder:"Ms final"})}),p.jsx(Au,{children:x.filter(_=>{if(!l)return!1;const T=x.find(A=>A.value===l);return T?_.date>=T.date:!1}).map(_=>p.jsx(Pu,{value:_.value,children:_.label},_.value))})]})]})]})]})]})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs($t,{children:[p.jsx(wo,{children:p.jsxs(xo,{className:"flex items-center gap-2",children:[p.jsx(nK,{className:"h-5 w-5"}),"Preview"]})}),p.jsx(Lt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qe,{className:"text-xs text-muted-foreground",children:"Perodo Selecionado"}),p.jsx("p",{className:"text-sm font-medium",children:y()?E():"Nenhum perodo selecionado"})]}),y()&&p.jsxs("div",{children:[p.jsx(qe,{className:"text-xs text-muted-foreground",children:"Total de Meses"}),p.jsxs("p",{className:"text-sm font-medium",children:[w().length," ms",w().length!==1?"es":""]})]}),y()&&p.jsx("div",{className:"pt-2",children:p.jsxs(GS,{variant:"secondary",className:"text-xs",children:[p.jsx(sA,{className:"h-3 w-3 mr-1"}),"Pronto para gerar"]})})]})})]}),p.jsxs($t,{children:[p.jsx(wo,{children:p.jsxs(xo,{className:"flex items-center gap-2",children:[p.jsx(Ak,{className:"h-5 w-5"}),"Compartilhar"]})}),p.jsxs(Lt,{className:"space-y-3",children:[p.jsx(Pe,{onClick:S,disabled:!y()||f,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:f?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ak,{className:"h-4 w-4 mr-2"}),"Via WhatsApp"]})}),p.jsx(Pe,{onClick:C,disabled:!y()||f,variant:"outline",className:"w-full",size:"lg",children:f?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(EV,{className:"h-4 w-4 mr-2"}),"Via Email"]})}),!y()&&p.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Selecione um perodo para habilitar o compartilhamento"})]})]})]})]})]})})}var $m=t=>t.type==="checkbox",Pl=t=>t instanceof Date,ln=t=>t==null;const Y8=t=>typeof t=="object";var ir=t=>!ln(t)&&!Array.isArray(t)&&Y8(t)&&!Pl(t),J2e=t=>ir(t)&&t.target?$m(t.target)?t.target.checked:t.target.value:t,eje=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tje=(t,e)=>t.has(eje(e)),rje=t=>{const e=t.constructor&&t.constructor.prototype;return ir(e)&&e.hasOwnProperty("isPrototypeOf")},oI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Br(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(oI&&(t instanceof Blob||n))&&(r||ir(t)))if(e=r?[]:{},!r&&!rje(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Br(t[i]));else return t;return e}var _w=t=>Array.isArray(t)?t.filter(Boolean):[],sr=t=>t===void 0,_e=(t,e,r)=>{if(!e||!ir(t))return r;const n=_w(e.split(/[,[\].]+?/)).reduce((i,o)=>ln(i)?i:i[o],t);return sr(n)||n===t?sr(t[e])?r:t[e]:n},eo=t=>typeof t=="boolean",aI=t=>/^\w*$/.test(t),X8=t=>_w(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(t,e,r)=>{let n=-1;const i=aI(e)?[e]:X8(e),o=i.length,a=o-1;for(;++n<o;){const s=i[n];let l=r;if(n!==a){const c=t[s];l=ir(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;t[s]=l,t=t[s]}};const $M={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var nje=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==Ri.all&&(e._proxyFormState[a]=!n||Ri.all),t[a]}});return i},fo=t=>typeof t=="string",ije=(t,e,r,n,i)=>fo(t)?(n&&e.watch.add(t),_e(r,t,i)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),_e(r,o))):(n&&(e.watchAll=!0),r),Z8=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Rh=t=>Array.isArray(t)?t:[t],LM=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},KS=t=>ln(t)||!Y8(t);function Xa(t,e){if(KS(t)||KS(e))return t===e;if(Pl(t)&&Pl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Pl(o)&&Pl(a)||ir(o)&&ir(a)||Array.isArray(o)&&Array.isArray(a)?!Xa(o,a):o!==a)return!1}}return!0}var an=t=>ir(t)&&!Object.keys(t).length,sI=t=>t.type==="file",ji=t=>typeof t=="function",_0=t=>{if(!oI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},J8=t=>t.type==="select-multiple",lI=t=>t.type==="radio",oje=t=>lI(t)||$m(t),x_=t=>_0(t)&&t.isConnected;function aje(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=sr(t)?n++:t[e[n++]];return t}function sje(t){for(const e in t)if(t.hasOwnProperty(e)&&!sr(t[e]))return!1;return!0}function hr(t,e){const r=Array.isArray(e)?e:aI(e)?[e]:X8(e),n=r.length===1?t:aje(t,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(ir(n)&&an(n)||Array.isArray(n)&&sje(n))&&hr(t,r.slice(0,-1)),t}var eW=t=>{for(const e in t)if(ji(t[e]))return!0;return!1};function E0(t,e={}){const r=Array.isArray(t);if(ir(t)||r)for(const n in t)Array.isArray(t[n])||ir(t[n])&&!eW(t[n])?(e[n]=Array.isArray(t[n])?[]:{},E0(t[n],e[n])):ln(t[n])||(e[n]=!0);return e}function tW(t,e,r){const n=Array.isArray(t);if(ir(t)||n)for(const i in t)Array.isArray(t[i])||ir(t[i])&&!eW(t[i])?sr(e)||KS(r[i])?r[i]=Array.isArray(t[i])?E0(t[i],[]):{...E0(t[i])}:tW(t[i],ln(e)?{}:e[i],r[i]):r[i]=!Xa(t[i],e[i]);return r}var Hf=(t,e)=>tW(t,e,E0(e));const VM={value:!1,isValid:!1},FM={value:!0,isValid:!0};var rW=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!sr(t[0].attributes.value)?sr(t[0].value)||t[0].value===""?FM:{value:t[0].value,isValid:!0}:FM:VM}return VM},nW=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>sr(t)?t:e?t===""?NaN:t&&+t:r&&fo(t)?new Date(t):n?n(t):t;const UM={isValid:!1,value:null};var iW=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,UM):UM;function BM(t){const e=t.ref;return sI(e)?e.files:lI(e)?iW(t.refs).value:J8(e)?[...e.selectedOptions].map(({value:r})=>r):$m(e)?rW(t.refs).value:nW(sr(e.value)?t.ref.value:e.value,t)}var lje=(t,e,r,n)=>{const i={};for(const o of t){const a=_e(e,o);a&&_t(i,o,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},S0=t=>t instanceof RegExp,Gf=t=>sr(t)?t:S0(t)?t.source:ir(t)?S0(t.value)?t.value.source:t.value:t,zM=t=>({isOnSubmit:!t||t===Ri.onSubmit,isOnBlur:t===Ri.onBlur,isOnChange:t===Ri.onChange,isOnAll:t===Ri.all,isOnTouch:t===Ri.onTouched});const WM="AsyncFunction";var cje=t=>!!t&&!!t.validate&&!!(ji(t.validate)&&t.validate.constructor.name===WM||ir(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===WM)),uje=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),qM=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const jh=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const o=_e(t,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(jh(s,e))break}else if(ir(s)&&jh(s,e))break}}};function HM(t,e,r){const n=_e(t,r);if(n||aI(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),a=_e(e,o),s=_e(t,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(s&&s.type)return{name:o,error:s};i.pop()}return{name:r}}var dje=(t,e,r,n)=>{r(t);const{name:i,...o}=t;return an(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!n||Ri.all))},fje=(t,e,r)=>!t||!e||t===e||Rh(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),hje=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,pje=(t,e)=>!_w(_e(t,e)).length&&hr(t,e),mje=(t,e,r)=>{const n=Rh(_e(t,r));return _t(n,"root",e[r]),_t(t,r,n),t},Ey=t=>fo(t);function GM(t,e,r="validate"){if(Ey(t)||Array.isArray(t)&&t.every(Ey)||eo(t)&&!t)return{type:r,message:Ey(t)?t:"",ref:e}}var Lc=t=>ir(t)&&!S0(t)?t:{value:t,message:""},KM=async(t,e,r,n,i,o)=>{const{ref:a,refs:s,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:v,name:g,valueAsNumber:b,mount:x}=t._f,y=_e(r,g);if(!x||e.has(g))return{};const w=s?s[0]:a,E=k=>{i&&w.reportValidity&&(w.setCustomValidity(eo(k)?"":k||""),w.reportValidity())},S={},C=lI(a),_=$m(a),T=C||_,A=(b||sI(a))&&sr(a.value)&&sr(y)||_0(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,N=Z8.bind(null,g,n,S),I=(k,R,M,L=Fo.maxLength,V=Fo.minLength)=>{const U=k?R:M;S[g]={type:k?L:V,message:U,ref:a,...N(k?L:V,U)}};if(o?!Array.isArray(y)||!y.length:l&&(!T&&(A||ln(y))||eo(y)&&!y||_&&!rW(s).isValid||C&&!iW(s).isValid)){const{value:k,message:R}=Ey(l)?{value:!!l,message:l}:Lc(l);if(k&&(S[g]={type:Fo.required,message:R,ref:w,...N(Fo.required,R)},!n))return E(R),S}if(!A&&(!ln(d)||!ln(f))){let k,R;const M=Lc(f),L=Lc(d);if(!ln(y)&&!isNaN(y)){const V=a.valueAsNumber||y&&+y;ln(M.value)||(k=V>M.value),ln(L.value)||(R=V<L.value)}else{const V=a.valueAsDate||new Date(y),U=G=>new Date(new Date().toDateString()+" "+G),$=a.type=="time",B=a.type=="week";fo(M.value)&&y&&(k=$?U(y)>U(M.value):B?y>M.value:V>new Date(M.value)),fo(L.value)&&y&&(R=$?U(y)<U(L.value):B?y<L.value:V<new Date(L.value))}if((k||R)&&(I(!!k,M.message,L.message,Fo.max,Fo.min),!n))return E(S[g].message),S}if((c||u)&&!A&&(fo(y)||o&&Array.isArray(y))){const k=Lc(c),R=Lc(u),M=!ln(k.value)&&y.length>+k.value,L=!ln(R.value)&&y.length<+R.value;if((M||L)&&(I(M,k.message,R.message),!n))return E(S[g].message),S}if(m&&!A&&fo(y)){const{value:k,message:R}=Lc(m);if(S0(k)&&!y.match(k)&&(S[g]={type:Fo.pattern,message:R,ref:a,...N(Fo.pattern,R)},!n))return E(R),S}if(v){if(ji(v)){const k=await v(y,r),R=GM(k,w);if(R&&(S[g]={...R,...N(Fo.validate,R.message)},!n))return E(R.message),S}else if(ir(v)){let k={};for(const R in v){if(!an(k)&&!n)break;const M=GM(await v[R](y,r),w,R);M&&(k={...M,...N(R,M.message)},E(M.message),n&&(S[g]=k))}if(!an(k)&&(S[g]={ref:w,...k},!n))return S}}return E(!0),S};const gje={mode:Ri.onSubmit,reValidateMode:Ri.onChange,shouldFocusError:!0};function yje(t={}){let e={...gje,...t},r={submitCount:0,isDirty:!1,isLoading:ji(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=ir(e.defaultValues)||ir(e.values)?Br(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:Br(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:LM(),state:LM()},m=zM(e.mode),v=zM(e.reValidateMode),g=e.criteriaMode===Ri.all,b=F=>H=>{clearTimeout(c),c=setTimeout(F,H)},x=async F=>{if(!e.disabled&&(u.isValid||d.isValid||F)){const H=e.resolver?an((await A()).errors):await I(n,!0);H!==r.isValid&&f.state.next({isValid:H})}},y=(F,H)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((F||Array.from(s.mount)).forEach(Y=>{Y&&(H?_t(r.validatingFields,Y,H):hr(r.validatingFields,Y))}),f.state.next({validatingFields:r.validatingFields,isValidating:!an(r.validatingFields)}))},w=(F,H=[],Y,me,oe=!0,re=!0)=>{if(me&&Y&&!e.disabled){if(a.action=!0,re&&Array.isArray(_e(n,F))){const ve=Y(_e(n,F),me.argA,me.argB);oe&&_t(n,F,ve)}if(re&&Array.isArray(_e(r.errors,F))){const ve=Y(_e(r.errors,F),me.argA,me.argB);oe&&_t(r.errors,F,ve),pje(r.errors,F)}if((u.touchedFields||d.touchedFields)&&re&&Array.isArray(_e(r.touchedFields,F))){const ve=Y(_e(r.touchedFields,F),me.argA,me.argB);oe&&_t(r.touchedFields,F,ve)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Hf(i,o)),f.state.next({name:F,isDirty:R(F,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _t(o,F,H)},E=(F,H)=>{_t(r.errors,F,H),f.state.next({errors:r.errors})},S=F=>{r.errors=F,f.state.next({errors:r.errors,isValid:!1})},C=(F,H,Y,me)=>{const oe=_e(n,F);if(oe){const re=_e(o,F,sr(Y)?_e(i,F):Y);sr(re)||me&&me.defaultChecked||H?_t(o,F,H?re:BM(oe._f)):V(F,re),a.mount&&x()}},_=(F,H,Y,me,oe)=>{let re=!1,ve=!1;const et={name:F};if(!e.disabled){if(!Y||me){(u.isDirty||d.isDirty)&&(ve=r.isDirty,r.isDirty=et.isDirty=R(),re=ve!==et.isDirty);const Bt=Xa(_e(i,F),H);ve=!!_e(r.dirtyFields,F),Bt?hr(r.dirtyFields,F):_t(r.dirtyFields,F,!0),et.dirtyFields=r.dirtyFields,re=re||(u.dirtyFields||d.dirtyFields)&&ve!==!Bt}if(Y){const Bt=_e(r.touchedFields,F);Bt||(_t(r.touchedFields,F,Y),et.touchedFields=r.touchedFields,re=re||(u.touchedFields||d.touchedFields)&&Bt!==Y)}re&&oe&&f.state.next(et)}return re?et:{}},T=(F,H,Y,me)=>{const oe=_e(r.errors,F),re=(u.isValid||d.isValid)&&eo(H)&&r.isValid!==H;if(e.delayError&&Y?(l=b(()=>E(F,Y)),l(e.delayError)):(clearTimeout(c),l=null,Y?_t(r.errors,F,Y):hr(r.errors,F)),(Y?!Xa(oe,Y):oe)||!an(me)||re){const ve={...me,...re&&eo(H)?{isValid:H}:{},errors:r.errors,name:F};r={...r,...ve},f.state.next(ve)}},A=async F=>{y(F,!0);const H=await e.resolver(o,e.context,lje(F||s.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(F),H},N=async F=>{const{errors:H}=await A(F);if(F)for(const Y of F){const me=_e(H,Y);me?_t(r.errors,Y,me):hr(r.errors,Y)}else r.errors=H;return H},I=async(F,H,Y={valid:!0})=>{for(const me in F){const oe=F[me];if(oe){const{_f:re,...ve}=oe;if(re){const et=s.array.has(re.name),Bt=oe._f&&cje(oe._f);Bt&&u.validatingFields&&y([me],!0);const br=await KM(oe,s.disabled,o,g,e.shouldUseNativeValidation&&!H,et);if(Bt&&u.validatingFields&&y([me]),br[re.name]&&(Y.valid=!1,H))break;!H&&(_e(br,re.name)?et?mje(r.errors,br,re.name):_t(r.errors,re.name,br[re.name]):hr(r.errors,re.name))}!an(ve)&&await I(ve,H,Y)}}return Y.valid},k=()=>{for(const F of s.unMount){const H=_e(n,F);H&&(H._f.refs?H._f.refs.every(Y=>!x_(Y)):!x_(H._f.ref))&&ne(F)}s.unMount=new Set},R=(F,H)=>!e.disabled&&(F&&H&&_t(o,F,H),!Xa(J(),i)),M=(F,H,Y)=>ije(F,s,{...a.mount?o:sr(H)?i:fo(F)?{[F]:H}:H},Y,H),L=F=>_w(_e(a.mount?o:i,F,e.shouldUnregister?_e(i,F,[]):[])),V=(F,H,Y={})=>{const me=_e(n,F);let oe=H;if(me){const re=me._f;re&&(!re.disabled&&_t(o,F,nW(H,re)),oe=_0(re.ref)&&ln(H)?"":H,J8(re.ref)?[...re.ref.options].forEach(ve=>ve.selected=oe.includes(ve.value)):re.refs?$m(re.ref)?re.refs.length>1?re.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(oe)?!!oe.find(et=>et===ve.value):oe===ve.value)):re.refs[0]&&(re.refs[0].checked=!!oe):re.refs.forEach(ve=>ve.checked=ve.value===oe):sI(re.ref)?re.ref.value="":(re.ref.value=oe,re.ref.type||f.state.next({name:F,values:Br(o)})))}(Y.shouldDirty||Y.shouldTouch)&&_(F,oe,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&ee(F)},U=(F,H,Y)=>{for(const me in H){const oe=H[me],re=`${F}.${me}`,ve=_e(n,re);(s.array.has(F)||ir(oe)||ve&&!ve._f)&&!Pl(oe)?U(re,oe,Y):V(re,oe,Y)}},$=(F,H,Y={})=>{const me=_e(n,F),oe=s.array.has(F),re=Br(H);_t(o,F,re),oe?(f.array.next({name:F,values:Br(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&Y.shouldDirty&&f.state.next({name:F,dirtyFields:Hf(i,o),isDirty:R(F,re)})):me&&!me._f&&!ln(re)?U(F,re,Y):V(F,re,Y),qM(F,s)&&f.state.next({...r}),f.state.next({name:a.mount?F:void 0,values:Br(o)})},B=async F=>{a.mount=!0;const H=F.target;let Y=H.name,me=!0;const oe=_e(n,Y),re=ve=>{me=Number.isNaN(ve)||Pl(ve)&&isNaN(ve.getTime())||Xa(ve,_e(o,Y,ve))};if(oe){let ve,et;const Bt=H.type?BM(oe._f):J2e(F),br=F.type===$M.BLUR||F.type===$M.FOCUS_OUT,ol=!uje(oe._f)&&!e.resolver&&!_e(r.errors,Y)&&!oe._f.deps||hje(br,_e(r.touchedFields,Y),r.isSubmitted,v,m),_c=qM(Y,s,br);_t(o,Y,Bt),br?(oe._f.onBlur&&oe._f.onBlur(F),l&&l(0)):oe._f.onChange&&oe._f.onChange(F);const Ec=_(Y,Bt,br),ff=!an(Ec)||_c;if(!br&&f.state.next({name:Y,type:F.type,values:Br(o)}),ol)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?br&&x():br||x()),ff&&f.state.next({name:Y,..._c?{}:Ec});if(!br&&_c&&f.state.next({...r}),e.resolver){const{errors:Lm}=await A([Y]);if(re(Bt),me){const Sw=HM(r.errors,n,Y),Sc=HM(Lm,n,Sw.name||Y);ve=Sc.error,Y=Sc.name,et=an(Lm)}}else y([Y],!0),ve=(await KM(oe,s.disabled,o,g,e.shouldUseNativeValidation))[Y],y([Y]),re(Bt),me&&(ve?et=!1:(u.isValid||d.isValid)&&(et=await I(n,!0)));me&&(oe._f.deps&&ee(oe._f.deps),T(Y,et,ve,Ec))}},G=(F,H)=>{if(_e(r.errors,H)&&F.focus)return F.focus(),1},ee=async(F,H={})=>{let Y,me;const oe=Rh(F);if(e.resolver){const re=await N(sr(F)?F:oe);Y=an(re),me=F?!oe.some(ve=>_e(re,ve)):Y}else F?(me=(await Promise.all(oe.map(async re=>{const ve=_e(n,re);return await I(ve&&ve._f?{[re]:ve}:ve)}))).every(Boolean),!(!me&&!r.isValid)&&x()):me=Y=await I(n);return f.state.next({...!fo(F)||(u.isValid||d.isValid)&&Y!==r.isValid?{}:{name:F},...e.resolver||!F?{isValid:Y}:{},errors:r.errors}),H.shouldFocus&&!me&&jh(n,G,F?oe:s.mount),me},J=F=>{const H={...a.mount?o:i};return sr(F)?H:fo(F)?_e(H,F):F.map(Y=>_e(H,Y))},ie=(F,H)=>({invalid:!!_e((H||r).errors,F),isDirty:!!_e((H||r).dirtyFields,F),error:_e((H||r).errors,F),isValidating:!!_e(r.validatingFields,F),isTouched:!!_e((H||r).touchedFields,F)}),Ce=F=>{F&&Rh(F).forEach(H=>hr(r.errors,H)),f.state.next({errors:F?r.errors:{}})},ue=(F,H,Y)=>{const me=(_e(n,F,{_f:{}})._f||{}).ref,oe=_e(r.errors,F)||{},{ref:re,message:ve,type:et,...Bt}=oe;_t(r.errors,F,{...Bt,...H,ref:me}),f.state.next({name:F,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&me&&me.focus&&me.focus()},Se=(F,H)=>ji(F)?f.state.subscribe({next:Y=>F(M(void 0,H),Y)}):M(F,H,!0),fe=F=>f.state.subscribe({next:H=>{fje(F.name,H.name,F.exact)&&dje(H,F.formState||u,Mr,F.reRenderRoot)&&F.callback({values:{...o},...r,...H})}}).unsubscribe,Te=F=>(a.mount=!0,d={...d,...F.formState},fe({...F,formState:d})),ne=(F,H={})=>{for(const Y of F?Rh(F):s.mount)s.mount.delete(Y),s.array.delete(Y),H.keepValue||(hr(n,Y),hr(o,Y)),!H.keepError&&hr(r.errors,Y),!H.keepDirty&&hr(r.dirtyFields,Y),!H.keepTouched&&hr(r.touchedFields,Y),!H.keepIsValidating&&hr(r.validatingFields,Y),!e.shouldUnregister&&!H.keepDefaultValue&&hr(i,Y);f.state.next({values:Br(o)}),f.state.next({...r,...H.keepDirty?{isDirty:R()}:{}}),!H.keepIsValid&&x()},de=({disabled:F,name:H})=>{(eo(F)&&a.mount||F||s.disabled.has(H))&&(F?s.disabled.add(H):s.disabled.delete(H))},le=(F,H={})=>{let Y=_e(n,F);const me=eo(H.disabled)||eo(e.disabled);return _t(n,F,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:F}},name:F,mount:!0,...H}}),s.mount.add(F),Y?de({disabled:eo(H.disabled)?H.disabled:e.disabled,name:F}):C(F,!0,H.value),{...me?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:Gf(H.min),max:Gf(H.max),minLength:Gf(H.minLength),maxLength:Gf(H.maxLength),pattern:Gf(H.pattern)}:{},name:F,onChange:B,onBlur:B,ref:oe=>{if(oe){le(F,H),Y=_e(n,F);const re=sr(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,ve=oje(re),et=Y._f.refs||[];if(ve?et.find(Bt=>Bt===re):re===Y._f.ref)return;_t(n,F,{_f:{...Y._f,...ve?{refs:[...et.filter(x_),re,...Array.isArray(_e(i,F))?[{}]:[]],ref:{type:re.type,name:F}}:{ref:re}}}),C(F,!1,void 0,re)}else Y=_e(n,F,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(tje(s.array,F)&&a.action)&&s.unMount.add(F)}}},Q=()=>e.shouldFocusError&&jh(n,G,s.mount),Be=F=>{eo(F)&&(f.state.next({disabled:F}),jh(n,(H,Y)=>{const me=_e(n,Y);me&&(H.disabled=me._f.disabled||F,Array.isArray(me._f.refs)&&me._f.refs.forEach(oe=>{oe.disabled=me._f.disabled||F}))},0,!1))},Oe=(F,H)=>async Y=>{let me;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let oe=Br(o);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:ve}=await A();r.errors=re,oe=ve}else await I(n);if(s.disabled.size)for(const re of s.disabled)_t(oe,re,void 0);if(hr(r.errors,"root"),an(r.errors)){f.state.next({errors:{}});try{await F(oe,Y)}catch(re){me=re}}else H&&await H({...r.errors},Y),Q(),setTimeout(Q);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:an(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},dt=(F,H={})=>{_e(n,F)&&(sr(H.defaultValue)?$(F,Br(_e(i,F))):($(F,H.defaultValue),_t(i,F,Br(H.defaultValue))),H.keepTouched||hr(r.touchedFields,F),H.keepDirty||(hr(r.dirtyFields,F),r.isDirty=H.defaultValue?R(F,Br(_e(i,F))):R()),H.keepError||(hr(r.errors,F),u.isValid&&x()),f.state.next({...r}))},ft=(F,H={})=>{const Y=F?Br(F):i,me=Br(Y),oe=an(F),re=oe?i:me;if(H.keepDefaultValues||(i=Y),!H.keepValues){if(H.keepDirtyValues){const ve=new Set([...s.mount,...Object.keys(Hf(i,o))]);for(const et of Array.from(ve))_e(r.dirtyFields,et)?_t(re,et,_e(o,et)):$(et,_e(re,et))}else{if(oI&&sr(F))for(const ve of s.mount){const et=_e(n,ve);if(et&&et._f){const Bt=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(_0(Bt)){const br=Bt.closest("form");if(br){br.reset();break}}}}for(const ve of s.mount)$(ve,_e(re,ve))}o=Br(re),f.array.next({values:{...re}}),f.state.next({values:{...re}})}s={mount:H.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!H.keepIsValid||!!H.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Xa(F,i)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:H.keepDirtyValues?H.keepDefaultValues&&o?Hf(i,o):r.dirtyFields:H.keepDefaultValues&&F?Hf(i,F):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},kt=(F,H)=>ft(ji(F)?F(o):F,H),gn=(F,H={})=>{const Y=_e(n,F),me=Y&&Y._f;if(me){const oe=me.refs?me.refs[0]:me.ref;oe.focus&&(oe.focus(),H.shouldSelect&&ji(oe.select)&&oe.select())}},Mr=F=>{r={...r,...F}},On={control:{register:le,unregister:ne,getFieldState:ie,handleSubmit:Oe,setError:ue,_subscribe:fe,_runSchema:A,_getWatch:M,_getDirty:R,_setValid:x,_setFieldArray:w,_setDisabledField:de,_setErrors:S,_getFieldArray:L,_reset:ft,_resetDefaultValues:()=>ji(e.defaultValues)&&e.defaultValues().then(F=>{kt(F,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Be,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(F){a=F},get _defaultValues(){return i},get _names(){return s},set _names(F){s=F},get _formState(){return r},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:Te,trigger:ee,register:le,handleSubmit:Oe,watch:Se,setValue:$,getValues:J,reset:kt,resetField:dt,clearErrors:Ce,unregister:ne,setError:ue,setFocus:gn,getFieldState:ie};return{...On,formControl:On}}function oW(t={}){const e=z.useRef(void 0),r=z.useRef(void 0),[n,i]=z.useState({isDirty:!1,isValidating:!1,isLoading:ji(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ji(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:yje(t),formState:n},t.formControl&&t.defaultValues&&!ji(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,z.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0}),[o]),z.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),z.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),z.useEffect(()=>{t.values&&!Xa(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,i(a=>({...a}))):o._resetDefaultValues()},[t.values,o]),z.useEffect(()=>{t.errors&&!an(t.errors)&&o._setErrors(t.errors)},[t.errors,o]),z.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),z.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=nje(n,o),e.current}const QM=(t,e,r)=>{if(t&&"reportValidity"in t){const n=_e(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},aW=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?QM(n.ref,r,t):n.refs&&n.refs.forEach(i=>QM(i,r,t))}},vje=(t,e)=>{e.shouldUseNativeValidation&&aW(t,e);const r={};for(const n in t){const i=_e(e.fields,n),o=Object.assign(t[n]||{},{ref:i&&i.ref});if(bje(e.names||Object.keys(t),n)){const a=Object.assign({},_e(r,n));_t(a,"root",o),_t(r,n,a)}else _t(r,n,o)}return r},bje=(t,e)=>t.some(r=>r.startsWith(e+"."));var wje=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var s=n.unionErrors[0].errors[0];r[a]={message:s.message,type:s.code}}else r[a]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=Z8(a,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r},sW=function(t,e,r){return r===void 0&&(r={}),function(n,i,o){try{return Promise.resolve(function(a,s){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return o.shouldUseNativeValidation&&aW({},o),{errors:{},values:r.raw?n:c}})}catch(c){return s(c)}return l&&l.then?l.then(void 0,s):l}(0,function(a){if(function(s){return Array.isArray(s==null?void 0:s.errors)}(a))return{values:{},errors:vje(wje(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}},ct;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),a={};for(const s of o)a[s]=i[s];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},t.find=(i,o)=>{for(const a of i)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ct||(ct={}));var YM;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(YM||(YM={}));const Ee=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wa=t=>{switch(typeof t){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(t)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(t)?Ee.array:t===null?Ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ee.promise:typeof Map<"u"&&t instanceof Map?Ee.map:typeof Set<"u"&&t instanceof Set?Ee.set:typeof Date<"u"&&t instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},se=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let s=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(r(a))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof Sa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];r[o]=r[o]||[],r[o].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Sa.create=t=>new Sa(t);const QS=(t,e)=>{let r;switch(t.code){case se.invalid_type:t.received===Ee.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case se.invalid_union:r="Invalid input";break;case se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case se.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:r="Invalid function arguments";break;case se.invalid_return_type:r="Invalid function return type";break;case se.invalid_date:r="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case se.custom:r="Invalid input";break;case se.invalid_intersection_types:r="Intersection results could not be merged";break;case se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:r="Number must be finite";break;default:r=e.defaultError,ct.assertNever(t)}return{message:r}};let xje=QS;function _je(){return xje}const Eje=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let s="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)s=c(a,{data:e,defaultError:s}).message;return{...i,path:o,message:s}};function ge(t,e){const r=_je(),n=Eje({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===QS?void 0:QS].filter(i=>!!i)});t.common.issues.push(n)}class Yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ve;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const o=await i.key,a=await i.value;n.push({key:o,value:a})}return Yn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Ve;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[o.value]=a.value)}return{status:e.value,value:n}}}const Ve=Object.freeze({status:"aborted"}),sh=t=>({status:"dirty",value:t}),vi=t=>({status:"valid",value:t}),XM=t=>t.status==="aborted",ZM=t=>t.status==="dirty",Nd=t=>t.status==="valid",T0=t=>typeof Promise<"u"&&t instanceof Promise;var Ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ae||(Ae={}));class Fs{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const JM=(t,e)=>{if(Nd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Sa(t.common.issues);return this._error=r,this._error}}};function Ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,s)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??s.defaultError}:typeof s.data>"u"?{message:l??n??s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:l??r??s.defaultError}},description:i}}class st{get description(){return this._def.description}_getType(e){return Wa(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Yn,ctx:{common:e.parent.common,data:e.data,parsedType:Wa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(T0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},i=this._parseSync({data:e,path:n.path,parent:n});return JM(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:r});return Nd(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(i=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(o=>Nd(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wa(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(T0(i)?i:Promise.resolve(i));return JM(n,o)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{const a=e(i),s=()=>o.addIssue({code:se.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new jd({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ps.create(this,this._def)}nullable(){return Dd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return To.create(this)}promise(){return I0.create(this,this._def)}or(e){return P0.create([this,e],this._def)}and(e){return C0.create(this,e,this._def)}transform(e){return new jd({...Ke(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new ZS({...Ke(this._def),innerType:this,defaultValue:r,typeName:Fe.ZodDefault})}brand(){return new Hje({typeName:Fe.ZodBranded,type:this,...Ke(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new JS({...Ke(this._def),innerType:this,catchValue:r,typeName:Fe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return cI.create(this,e)}readonly(){return eT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sje=/^c[^\s-]{8,}$/i,Tje=/^[0-9a-z]+$/,Aje=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pje=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cje=/^[a-z0-9_-]{21}$/i,Ije=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Oje=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kje=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Nje="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let __;const Rje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Mje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$je=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Lje=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vje=new RegExp(`^${lW}$`);function cW(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Fje(t){return new RegExp(`^${cW(t)}$`)}function Uje(t){let e=`${lW}T${cW(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Bje(t,e){return!!((e==="v4"||!e)&&Rje.test(t)||(e==="v6"||!e)&&Dje.test(t))}function zje(t,e){if(!Ije.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Wje(t,e){return!!((e==="v4"||!e)&&jje.test(t)||(e==="v6"||!e)&&Mje.test(t))}class cs extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ee.string){const o=this._getOrReturnCtx(e);return ge(o,{code:se.invalid_type,expected:Ee.string,received:o.parsedType}),Ve}const n=new Yn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,s=e.data.length<o.value;(a||s)&&(i=this._getOrReturnCtx(e,i),a?ge(i,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&ge(i,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")kje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"email",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")__||(__=new RegExp(Nje,"u")),__.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"emoji",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Pje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"uuid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Cje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"nanoid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Sje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"cuid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Tje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"cuid2",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Aje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"ulid",code:se.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ge(i,{validation:"url",code:se.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"regex",code:se.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Uje(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?Vje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?Fje(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:se.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?Oje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"duration",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Bje(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"ip",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?zje(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"jwt",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?Wje(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"cidr",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?$je.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"base64",code:se.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?Lje.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"base64url",code:se.invalid_string,message:o.message}),n.dirty()):ct.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:se.invalid_string,...Ae.errToObj(n)})}_addCheck(e){return new cs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ae.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ae.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ae.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ae.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ae.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ae.errToObj(r)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new cs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}cs.create=t=>new cs({checks:[],typeName:Fe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});function qje(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}class Qp extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ee.number){const o=this._getOrReturnCtx(e);return ge(o,{code:se.invalid_type,expected:Ee.number,received:o.parsedType}),Ve}let n;const i=new Yn;for(const o of this._def.checks)o.kind==="int"?ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ge(n,{code:se.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?qje(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_finite,message:o.message}),i.dirty()):ct.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ae.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ae.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ae.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ae.toString(r))}setLimit(e,r,n,i){return new Qp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ae.toString(i)}]})}_addCheck(e){return new Qp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Qp.create=t=>new Qp({checks:[],typeName:Fe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class Yp extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ee.bigint)return this._getInvalidInput(e);let n;const i=new Yn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ge(n,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ct.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ge(r,{code:se.invalid_type,expected:Ee.bigint,received:r.parsedType}),Ve}gte(e,r){return this.setLimit("min",e,!0,Ae.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ae.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ae.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ae.toString(r))}setLimit(e,r,n,i){return new Yp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ae.toString(i)}]})}_addCheck(e){return new Yp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yp.create=t=>new Yp({checks:[],typeName:Fe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});class e$ extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ee.boolean){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.boolean,received:n.parsedType}),Ve}return vi(e.data)}}e$.create=t=>new e$({typeName:Fe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class A0 extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ee.date){const o=this._getOrReturnCtx(e);return ge(o,{code:se.invalid_type,expected:Ee.date,received:o.parsedType}),Ve}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return ge(o,{code:se.invalid_date}),Ve}const n=new Yn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:se.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:se.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):ct.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new A0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}A0.create=t=>new A0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Fe.ZodDate,...Ke(t)});class t$ extends st{_parse(e){if(this._getType(e)!==Ee.symbol){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.symbol,received:n.parsedType}),Ve}return vi(e.data)}}t$.create=t=>new t$({typeName:Fe.ZodSymbol,...Ke(t)});class r$ extends st{_parse(e){if(this._getType(e)!==Ee.undefined){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.undefined,received:n.parsedType}),Ve}return vi(e.data)}}r$.create=t=>new r$({typeName:Fe.ZodUndefined,...Ke(t)});class n$ extends st{_parse(e){if(this._getType(e)!==Ee.null){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.null,received:n.parsedType}),Ve}return vi(e.data)}}n$.create=t=>new n$({typeName:Fe.ZodNull,...Ke(t)});class i$ extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return vi(e.data)}}i$.create=t=>new i$({typeName:Fe.ZodAny,...Ke(t)});class o$ extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vi(e.data)}}o$.create=t=>new o$({typeName:Fe.ZodUnknown,...Ke(t)});class Us extends st{_parse(e){const r=this._getOrReturnCtx(e);return ge(r,{code:se.invalid_type,expected:Ee.never,received:r.parsedType}),Ve}}Us.create=t=>new Us({typeName:Fe.ZodNever,...Ke(t)});class a$ extends st{_parse(e){if(this._getType(e)!==Ee.undefined){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.void,received:n.parsedType}),Ve}return vi(e.data)}}a$.create=t=>new a$({typeName:Fe.ZodVoid,...Ke(t)});class To extends st{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Ee.array)return ge(r,{code:se.invalid_type,expected:Ee.array,received:r.parsedType}),Ve;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(a||s)&&(ge(r,{code:a?se.too_big:se.too_small,minimum:s?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ge(r,{code:se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ge(r,{code:se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,s)=>i.type._parseAsync(new Fs(r,a,r.path,s)))).then(a=>Yn.mergeArray(n,a));const o=[...r.data].map((a,s)=>i.type._parseSync(new Fs(r,a,r.path,s)));return Yn.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new To({...this._def,minLength:{value:e,message:Ae.toString(r)}})}max(e,r){return new To({...this._def,maxLength:{value:e,message:Ae.toString(r)}})}length(e,r){return new To({...this._def,exactLength:{value:e,message:Ae.toString(r)}})}nonempty(e){return this.min(1,e)}}To.create=(t,e)=>new To({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Ke(e)});function Wc(t){if(t instanceof Xt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ps.create(Wc(n))}return new Xt({...t._def,shape:()=>e})}else return t instanceof To?new To({...t._def,type:Wc(t.element)}):t instanceof Ps?Ps.create(Wc(t.unwrap())):t instanceof Dd?Dd.create(Wc(t.unwrap())):t instanceof cc?cc.create(t.items.map(e=>Wc(e))):t}class Xt extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ee.object){const c=this._getOrReturnCtx(e);return ge(c,{code:se.invalid_type,expected:Ee.object,received:c.parsedType}),Ve}const{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof Us&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||s.push(c);const l=[];for(const c of a){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Fs(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Us){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of s)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")s.length>0&&(ge(i,{code:se.unrecognized_keys,keys:s}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of s){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Fs(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Yn.mergeObjectSync(n,c)):Yn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new Xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,a;const i=((a=(o=this._def).errorMap)==null?void 0:a.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ae.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Fe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xt({...this._def,catchall:e})}pick(e){const r={};for(const n of ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Xt({...this._def,shape:()=>r})}deepPartial(){return Wc(this)}partial(e){const r={};for(const n of ct.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Xt({...this._def,shape:()=>r})}required(e){const r={};for(const n of ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Ps;)o=o._def.innerType;r[n]=o}return new Xt({...this._def,shape:()=>r})}keyof(){return uW(ct.objectKeys(this.shape))}}Xt.create=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strip",catchall:Us.create(),typeName:Fe.ZodObject,...Ke(e)});Xt.strictCreate=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strict",catchall:Us.create(),typeName:Fe.ZodObject,...Ke(e)});Xt.lazycreate=(t,e)=>new Xt({shape:t,unknownKeys:"strip",catchall:Us.create(),typeName:Fe.ZodObject,...Ke(e)});class P0 extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(const s of o)if(s.result.status==="valid")return s.result;for(const s of o)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(s=>new Sa(s.ctx.common.issues));return ge(r,{code:se.invalid_union,unionErrors:a}),Ve}if(r.common.async)return Promise.all(n.map(async o=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(l=>new Sa(l));return ge(r,{code:se.invalid_union,unionErrors:s}),Ve}}get options(){return this._def.options}}P0.create=(t,e)=>new P0({options:t,typeName:Fe.ZodUnion,...Ke(e)});function YS(t,e){const r=Wa(t),n=Wa(e);if(t===e)return{valid:!0,data:t};if(r===Ee.object&&n===Ee.object){const i=ct.objectKeys(e),o=ct.objectKeys(t).filter(s=>i.indexOf(s)!==-1),a={...t,...e};for(const s of o){const l=YS(t[s],e[s]);if(!l.valid)return{valid:!1};a[s]=l.data}return{valid:!0,data:a}}else if(r===Ee.array&&n===Ee.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const a=t[o],s=e[o],l=YS(a,s);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Ee.date&&n===Ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class C0 extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(o,a)=>{if(XM(o)||XM(a))return Ve;const s=YS(o.value,a.value);return s.valid?((ZM(o)||ZM(a))&&r.dirty(),{status:r.value,value:s.data}):(ge(n,{code:se.invalid_intersection_types}),Ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}C0.create=(t,e,r)=>new C0({left:t,right:e,typeName:Fe.ZodIntersection,...Ke(r)});class cc extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ee.array)return ge(n,{code:se.invalid_type,expected:Ee.array,received:n.parsedType}),Ve;if(n.data.length<this._def.items.length)return ge(n,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&n.data.length>this._def.items.length&&(ge(n,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((a,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new Fs(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>Yn.mergeArray(r,a)):Yn.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new cc({...this._def,rest:e})}}cc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cc({items:t,typeName:Fe.ZodTuple,rest:null,...Ke(e)})};class s$ extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ee.map)return ge(n,{code:se.invalid_type,expected:Ee.map,received:n.parsedType}),Ve;const i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([s,l],c)=>({key:i._parse(new Fs(n,s,n.path,[c,"key"])),value:o._parse(new Fs(n,l,n.path,[c,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ve;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ve;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}}}}s$.create=(t,e,r)=>new s$({valueType:e,keyType:t,typeName:Fe.ZodMap,...Ke(r)});class Xp extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ee.set)return ge(n,{code:se.invalid_type,expected:Ee.set,received:n.parsedType}),Ve;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ge(n,{code:se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ge(n,{code:se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const o=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ve;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const s=[...n.data.values()].map((l,c)=>o._parse(new Fs(n,l,n.path,c)));return n.common.async?Promise.all(s).then(l=>a(l)):a(s)}min(e,r){return new Xp({...this._def,minSize:{value:e,message:Ae.toString(r)}})}max(e,r){return new Xp({...this._def,maxSize:{value:e,message:Ae.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Xp.create=(t,e)=>new Xp({valueType:t,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Ke(e)});class l$ extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}l$.create=(t,e)=>new l$({getter:t,typeName:Fe.ZodLazy,...Ke(e)});class XS extends st{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ge(r,{received:r.data,code:se.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}XS.create=(t,e)=>new XS({value:t,typeName:Fe.ZodLiteral,...Ke(e)});function uW(t,e){return new Rd({values:t,typeName:Fe.ZodEnum,...Ke(e)})}class Rd extends st{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ge(r,{expected:ct.joinValues(n),received:r.parsedType,code:se.invalid_type}),Ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ge(r,{received:r.data,code:se.invalid_enum_value,options:n}),Ve}return vi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Rd.create(e,{...this._def,...r})}exclude(e,r=this._def){return Rd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Rd.create=uW;class c$ extends st{_parse(e){const r=ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ee.string&&n.parsedType!==Ee.number){const i=ct.objectValues(r);return ge(n,{expected:ct.joinValues(i),received:n.parsedType,code:se.invalid_type}),Ve}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ct.objectValues(r);return ge(n,{received:n.data,code:se.invalid_enum_value,options:i}),Ve}return vi(e.data)}get enum(){return this._def.values}}c$.create=(t,e)=>new c$({values:t,typeName:Fe.ZodNativeEnum,...Ke(e)});class I0 extends st{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ee.promise&&r.common.async===!1)return ge(r,{code:se.invalid_type,expected:Ee.promise,received:r.parsedType}),Ve;const n=r.parsedType===Ee.promise?r.data:Promise.resolve(r.data);return vi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}I0.create=(t,e)=>new I0({type:t,typeName:Fe.ZodPromise,...Ke(e)});class jd extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{ge(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async s=>{if(r.value==="aborted")return Ve;const l=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return l.status==="aborted"?Ve:l.status==="dirty"||r.value==="dirty"?sh(l.value):l});{if(r.value==="aborted")return Ve;const s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?Ve:s.status==="dirty"||r.value==="dirty"?sh(s.value):s}}if(i.type==="refinement"){const a=s=>{const l=i.refinement(s,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ve:(s.status==="dirty"&&r.dirty(),a(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?Ve:(s.status==="dirty"&&r.dirty(),a(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nd(a))return Ve;const s=i.transform(a.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Nd(a)?Promise.resolve(i.transform(a.value,o)).then(s=>({status:r.value,value:s})):Ve);ct.assertNever(i)}}jd.create=(t,e,r)=>new jd({schema:t,typeName:Fe.ZodEffects,effect:e,...Ke(r)});jd.createWithPreprocess=(t,e,r)=>new jd({schema:e,effect:{type:"preprocess",transform:t},typeName:Fe.ZodEffects,...Ke(r)});class Ps extends st{_parse(e){return this._getType(e)===Ee.undefined?vi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ps.create=(t,e)=>new Ps({innerType:t,typeName:Fe.ZodOptional,...Ke(e)});class Dd extends st{_parse(e){return this._getType(e)===Ee.null?vi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dd.create=(t,e)=>new Dd({innerType:t,typeName:Fe.ZodNullable,...Ke(e)});class ZS extends st{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ee.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ZS.create=(t,e)=>new ZS({innerType:t,typeName:Fe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class JS extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return T0(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Sa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Sa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}JS.create=(t,e)=>new JS({innerType:t,typeName:Fe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class u$ extends st{_parse(e){if(this._getType(e)!==Ee.nan){const n=this._getOrReturnCtx(e);return ge(n,{code:se.invalid_type,expected:Ee.nan,received:n.parsedType}),Ve}return{status:"valid",value:e.data}}}u$.create=t=>new u$({typeName:Fe.ZodNaN,...Ke(t)});class Hje extends st{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cI extends st{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ve:o.status==="dirty"?(r.dirty(),sh(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ve:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new cI({in:e,out:r,typeName:Fe.ZodPipeline})}}class eT extends st{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Nd(i)&&(i.value=Object.freeze(i.value)),i);return T0(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}eT.create=(t,e)=>new eT({innerType:t,typeName:Fe.ZodReadonly,...Ke(e)});Xt.lazycreate;var Fe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const co=cs.create;Us.create;const Gje=To.create,dW=Xt.create;Xt.strictCreate;P0.create;C0.create;cc.create;const Kje=XS.create;Rd.create;I0.create;Ps.create;Dd.create;const Qje=dW({nome:co().min(1,"Nome  obrigatrio"),especialidade:co().min(1,"Especialidade  obrigatria"),crm:co().min(1,"CRM  obrigatrio"),telefone:co().optional(),email:co().email("Email invlido").optional().or(Kje(""))});function Yje(){const[,t]=Cn(),[e,r]=O.useState(!1),{toast:n}=Ki(),{firebaseUser:i}=mn(),o=oW({resolver:sW(Qje),defaultValues:{nome:"",especialidade:"",crm:"",telefone:"",email:""}}),a=async s=>{if(!i){n({variant:"destructive",title:"Erro",description:"Usurio no autenticado"});return}r(!0);try{const l={nome:s.nome,especialidade:s.especialidade,crm:s.crm,contato:{telefone:s.telefone||"",email:s.email||""},usuarioId:i.uid,createdAt:sP()},c=await aP(cn(gt,"medicos"),l);console.log(" Mdico adicionado com sucesso:",c.id),n({title:"Sucesso!",description:"Mdico cadastrado com sucesso"}),t("/doctors"),window.location.reload()}catch(l){console.error(" Erro ao adicionar mdico:",l),n({variant:"destructive",title:"Erro",description:"No foi possvel cadastrar o mdico. Tente novamente."})}finally{r(!1)}};return p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>t("/doctors"),className:"mr-2 p-2",children:p.jsx(hu,{className:"h-4 w-4"})}),p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Adicionar Mdico"})]}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Cadastre um novo mdico para sua equipe de cuidados"})]}),p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{className:"pb-4",children:p.jsxs(xo,{className:"flex items-center text-lg",children:[p.jsx(PV,{className:"h-5 w-5 mr-2 text-primary"}),"Dados do Mdico"]})}),p.jsx(Lt,{children:p.jsxs("form",{onSubmit:o.handleSubmit(a),className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"nome",className:"text-sm font-medium",children:"Nome Completo *"}),p.jsx(ht,{id:"nome",type:"text",placeholder:"Dr. Joo Silva",...o.register("nome"),className:"rounded-xl",disabled:e}),o.formState.errors.nome&&p.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.nome.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"especialidade",className:"text-sm font-medium",children:"Especialidade *"}),p.jsx(ht,{id:"especialidade",type:"text",placeholder:"Cardiologia",...o.register("especialidade"),className:"rounded-xl",disabled:e}),o.formState.errors.especialidade&&p.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.especialidade.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"crm",className:"text-sm font-medium",children:"CRM *"}),p.jsx(ht,{id:"crm",type:"text",placeholder:"123456/SP",...o.register("crm"),className:"rounded-xl",disabled:e}),o.formState.errors.crm&&p.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.crm.message})]}),p.jsxs("div",{className:"border-t pt-4 mt-6",children:[p.jsx("h4",{className:"text-sm font-medium mb-3 text-muted-foreground",children:"Informaes de Contato (Opcional)"}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsx(qe,{htmlFor:"telefone",className:"text-sm font-medium",children:"Telefone"}),p.jsx(ht,{id:"telefone",type:"tel",placeholder:"(11) 99999-9999",...o.register("telefone"),className:"rounded-xl",disabled:e})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),p.jsx(ht,{id:"email",type:"email",placeholder:"doutor@clinica.com",...o.register("email"),className:"rounded-xl",disabled:e}),o.formState.errors.email&&p.jsx("p",{className:"text-sm text-red-500",children:o.formState.errors.email.message})]})]}),p.jsxs("div",{className:"flex gap-3 pt-6",children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>t("/doctors"),className:"flex-1 rounded-xl",disabled:e,children:"Cancelar"}),p.jsx(Pe,{type:"submit",className:"flex-1 bg-primary text-primary-foreground rounded-xl hover:bg-primary/90",disabled:e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar Mdico"})]})]})})]})]})}const Xje=dW({nome:co().min(1,"Nome do medicamento  obrigatrio"),posologia:co().min(1,"Dosagem  obrigatria"),frequencia:co().min(1,"Frequncia  obrigatria"),medicoId:co().min(1,"Mdico  obrigatrio"),horarios:Gje(co()).min(1,"Pelo menos um horrio  obrigatrio")});function Zje(){const[,t]=Cn(),[e,r]=O.useState(!1),[n,i]=O.useState([]),[o,a]=O.useState(!0),[s,l]=O.useState([""]),{toast:c}=Ki(),{firebaseUser:u}=mn(),d=oW({resolver:sW(Xje),defaultValues:{nome:"",posologia:"",frequencia:"",medicoId:"",horarios:[""]}}),f=()=>{const x=[...s,""];l(x),d.setValue("horarios",x)},m=x=>{if(s.length>1){const y=s.filter((w,E)=>E!==x);l(y),d.setValue("horarios",y)}},v=(x,y)=>{const w=[...s];w[x]=y,l(w),d.setValue("horarios",w)},g=async()=>{if(!u){a(!1);return}try{const x=cn(gt,"medicos"),y=Bn(x,xs("usuarioId","==",u.uid)),w=await zn(y),E=[];w.forEach(C=>{const _=C.data();E.push({id:C.id,nome:_.nome||""})});const S=E.sort((C,_)=>C.nome.localeCompare(_.nome));i(S)}catch(x){console.error(" Erro ao buscar mdicos:",x),c({variant:"destructive",title:"Erro",description:"No foi possvel carregar a lista de mdicos"})}finally{a(!1)}};O.useEffect(()=>{g()},[u]);const b=async x=>{if(!u){c({variant:"destructive",title:"Erro",description:"Usurio no autenticado"});return}r(!0);try{const y=x.horarios.filter(S=>S.trim()!=="");if(y.length===0){c({variant:"destructive",title:"Erro",description:"Pelo menos um horrio de lembrete deve ser informado"});return}const w={nome:x.nome,posologia:x.posologia,frequencia:x.frequencia,medicoId:x.medicoId,lembrete:y.map(S=>({hora:S,status:!1})),usuarioId:u.uid,createdAt:sP()},E=await aP(cn(gt,"medicamentos"),w);console.log(" Medicamento adicionado com sucesso:",E.id),c({title:"Sucesso!",description:"Medicamento cadastrado com sucesso"}),t("/medications"),window.location.reload()}catch(y){console.error(" Erro ao adicionar medicamento:",y),c({variant:"destructive",title:"Erro",description:"No foi possvel cadastrar o medicamento. Tente novamente."})}finally{r(!1)}};return p.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>t("/medications"),className:"mr-2 p-2",children:p.jsx(hu,{className:"h-4 w-4"})}),p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Adicionar Medicamento"})]}),p.jsx("p",{className:"text-muted-foreground text-sm",children:"Cadastre um novo medicamento para seu tratamento"})]}),p.jsxs($t,{className:"shadow-sm border border-border",children:[p.jsx(wo,{className:"pb-4",children:p.jsxs(xo,{className:"flex items-center text-lg",children:[p.jsx(J0,{className:"h-5 w-5 mr-2 text-primary"}),"Dados do Medicamento"]})}),p.jsx(Lt,{children:p.jsxs("form",{onSubmit:d.handleSubmit(b),className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"nome",className:"text-sm font-medium",children:"Nome do Medicamento *"}),p.jsx(ht,{id:"nome",type:"text",placeholder:"Ex: Paracetamol",...d.register("nome"),className:"rounded-xl",disabled:e}),d.formState.errors.nome&&p.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.nome.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"posologia",className:"text-sm font-medium",children:"Dosagem *"}),p.jsx(ht,{id:"posologia",type:"text",placeholder:"Ex: 500mg",...d.register("posologia"),className:"rounded-xl",disabled:e}),d.formState.errors.posologia&&p.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.posologia.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"frequencia",className:"text-sm font-medium",children:"Frequncia *"}),p.jsx(ht,{id:"frequencia",type:"text",placeholder:"Ex: 3x ao dia",...d.register("frequencia"),className:"rounded-xl",disabled:e}),d.formState.errors.frequencia&&p.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.frequencia.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(qe,{htmlFor:"medicoId",className:"text-sm font-medium",children:"Mdico Responsvel *"}),o?p.jsxs("div",{className:"flex items-center justify-center py-4",children:[p.jsx(mo,{className:"h-4 w-4 animate-spin text-primary"}),p.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Carregando mdicos..."})]}):n.length===0?p.jsxs("div",{className:"p-4 border border-border rounded-xl bg-muted/50",children:[p.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Nenhum mdico cadastrado. Cadastre um mdico primeiro."}),p.jsx(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>t("/doctors/add"),className:"w-full mt-2",children:"Cadastrar Mdico"})]}):p.jsxs(Ah,{onValueChange:x=>d.setValue("medicoId",x),disabled:e,children:[p.jsx(Tu,{className:"rounded-xl",children:p.jsx(Ph,{placeholder:"Selecione um mdico"})}),p.jsx(Au,{children:n.map(x=>p.jsx(Pu,{value:x.id,children:x.nome},x.id))})]}),d.formState.errors.medicoId&&p.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.medicoId.message})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs(qe,{className:"text-sm font-medium",children:[p.jsx(b1,{className:"h-4 w-4 inline mr-1"}),"Horrios dos Lembretes *"]}),p.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:f,className:"text-xs",disabled:e,children:[p.jsx(Zh,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),p.jsx("div",{className:"space-y-2",children:s.map((x,y)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ht,{type:"time",value:x,onChange:w=>v(y,w.target.value),className:"rounded-xl flex-1",disabled:e,placeholder:"Selecione o horrio"}),s.length>1&&p.jsx(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>m(y),className:"p-2",disabled:e,children:p.jsx(eb,{className:"h-3 w-3"})})]},y))}),d.formState.errors.horarios&&p.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.horarios.message}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Adicione todos os horrios em que deve tomar o medicamento. O status ser marcado automaticamente quando voc confirmar que tomou."})]}),p.jsxs("div",{className:"flex gap-3 pt-6",children:[p.jsx(Pe,{type:"button",variant:"outline",onClick:()=>t("/medications"),className:"flex-1 rounded-xl",disabled:e,children:"Cancelar"}),p.jsx(Pe,{type:"submit",className:"flex-1 bg-primary text-primary-foreground rounded-xl hover:bg-primary/90",disabled:e||n.length===0&&!o,children:e?p.jsxs(p.Fragment,{children:[p.jsx(mo,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"Salvar Medicamento"})]})]})})]})]})}async function Jje(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const eDe=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await Jje(r),await r.json())},tDe=new HV({defaultOptions:{queries:{queryFn:eDe({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),fW=O.forwardRef(({className:t,...e},r)=>p.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));fW.displayName="Textarea";var hW=["PageUp","PageDown"],pW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mW={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},df="Slider",[tT,rDe,nDe]=rA(df),[gW,MDe]=qs(df,[nDe]),[iDe,Ew]=gW(df),yW=O.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:u,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:v,...g}=t,b=O.useRef(new Set),x=O.useRef(0),w=a==="horizontal"?oDe:aDe,[E=[],S]=ed({prop:u,defaultProp:c,onChange:I=>{var R;(R=[...b.current][x.current])==null||R.focus(),d(I)}}),C=O.useRef(E);function _(I){const k=dDe(E,I);N(I,k)}function T(I){N(I,x.current)}function A(){const I=C.current[x.current];E[x.current]!==I&&f(E)}function N(I,k,{commit:R}={commit:!1}){const M=mDe(o),L=gDe(Math.round((I-n)/o)*o+n,M),V=yv(L,[n,i]);S((U=[])=>{const $=cDe(U,V,k);if(pDe($,l*o)){x.current=$.indexOf(V);const B=String($)!==String(U);return B&&R&&f($),B?$:U}else return U})}return p.jsx(iDe,{scope:t.__scopeSlider,name:r,disabled:s,min:n,max:i,valueIndexToChangeRef:x,thumbs:b.current,values:E,orientation:a,form:v,children:p.jsx(tT.Provider,{scope:t.__scopeSlider,children:p.jsx(tT.Slot,{scope:t.__scopeSlider,children:p.jsx(w,{"aria-disabled":s,"data-disabled":s?"":void 0,...g,ref:e,onPointerDown:Le(g.onPointerDown,()=>{s||(C.current=E)}),min:n,max:i,inverted:m,onSlideStart:s?void 0:_,onSlideMove:s?void 0:T,onSlideEnd:s?void 0:A,onHomeKeyDown:()=>!s&&N(n,0,{commit:!0}),onEndKeyDown:()=>!s&&N(i,E.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:k})=>{if(!s){const L=hW.includes(I.key)||I.shiftKey&&pW.includes(I.key)?10:1,V=x.current,U=E[V],$=o*L*k;N(U+$,V,{commit:!0})}}})})})})});yW.displayName=df;var[vW,bW]=gW(df,{startEdge:"left",endEdge:"right",size:"width",direction:1}),oDe=O.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,f]=O.useState(null),m=pt(e,w=>f(w)),v=O.useRef(void 0),g=mU(i),b=g==="ltr",x=b&&!o||!b&&o;function y(w){const E=v.current||d.getBoundingClientRect(),S=[0,E.width],_=uI(S,x?[r,n]:[n,r]);return v.current=E,_(w-E.left)}return p.jsx(vW,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:p.jsx(wW,{dir:g,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const E=y(w.clientX);a==null||a(E)},onSlideMove:w=>{const E=y(w.clientX);s==null||s(E)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:w=>{const S=mW[x?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:S?-1:1})}})})}),aDe=O.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,u=O.useRef(null),d=pt(e,u),f=O.useRef(void 0),m=!i;function v(g){const b=f.current||u.current.getBoundingClientRect(),x=[0,b.height],w=uI(x,m?[n,r]:[r,n]);return f.current=b,w(g-b.top)}return p.jsx(vW,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:p.jsx(wW,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=v(g.clientY);o==null||o(b)},onSlideMove:g=>{const b=v(g.clientY);a==null||a(b)},onSlideEnd:()=>{f.current=void 0,s==null||s()},onStepKeyDown:g=>{const x=mW[m?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),wW=O.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,u=Ew(df,r);return p.jsx(Ge.span,{...c,ref:e,onKeyDown:Le(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(s(d),d.preventDefault()):hW.concat(pW).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Le(t.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(f)?f.focus():n(d)}),onPointerMove:Le(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Le(t.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),o(d))})})}),xW="SliderTrack",_W=O.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Ew(xW,r);return p.jsx(Ge.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});_W.displayName=xW;var rT="SliderRange",EW=O.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=Ew(rT,r),o=bW(rT,r),a=O.useRef(null),s=pt(e,a),l=i.values.length,c=i.values.map(f=>TW(f,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(Ge.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:d+"%"}})});EW.displayName=rT;var nT="SliderThumb",SW=O.forwardRef((t,e)=>{const r=rDe(t.__scopeSlider),[n,i]=O.useState(null),o=pt(e,s=>i(s)),a=O.useMemo(()=>n?r().findIndex(s=>s.ref.current===n):-1,[r,n]);return p.jsx(sDe,{...t,ref:o,index:a})}),sDe=O.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...o}=t,a=Ew(nT,r),s=bW(nT,r),[l,c]=O.useState(null),u=pt(e,y=>c(y)),d=l?a.form||!!l.closest("form"):!0,f=gP(l),m=a.values[n],v=m===void 0?0:TW(m,a.min,a.max),g=uDe(n,a.values.length),b=f==null?void 0:f[s.size],x=b?fDe(b,v,s.direction):0;return O.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${v}% + ${x}px)`},children:[p.jsx(tT.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(Ge.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:u,style:m===void 0?{display:"none"}:t.style,onFocus:Le(t.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),d&&p.jsx(lDe,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},n)]})});SW.displayName=nT;var lDe=t=>{const{value:e,...r}=t,n=O.useRef(null),i=mP(e);return O.useEffect(()=>{const o=n.current,a=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(o,e),o.dispatchEvent(c)}},[i,e]),p.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function cDe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,o)=>i-o)}function TW(t,e,r){const o=100/(r-e)*(t-e);return yv(o,[0,100])}function uDe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function dDe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function fDe(t,e,r){const n=t/2,o=uI([0,50],[0,n]);return(n-o(e)*r)*r}function hDe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function pDe(t,e){if(e>0){const r=hDe(t);return Math.min(...r)>=e}return!0}function uI(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function mDe(t){return(String(t).split(".")[1]||"").length}function gDe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var AW=yW,yDe=_W,vDe=EW,bDe=SW;const PW=O.forwardRef(({className:t,...e},r)=>p.jsxs(AW,{ref:r,className:Me("relative flex w-full touch-none select-none items-center py-4",t),...e,children:[p.jsx(yDe,{className:"relative h-3 w-full grow overflow-hidden rounded-full bg-secondary/40 backdrop-blur-sm",children:p.jsx(vDe,{className:"absolute h-full bg-gradient-to-r from-primary/80 to-primary transition-all duration-300"})}),p.jsx(bDe,{className:"block h-7 w-7 rounded-full border-3 border-white bg-primary shadow-lg ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-3 focus-visible:ring-primary/30 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-110 active:scale-95 cursor-grab active:cursor-grabbing"})]}));PW.displayName=AW.displayName;const wDe=({value:t=0,onChange:e,className:r=""})=>{const[n,i]=O.useState(t),[o,a]=O.useState(!1);O.useState(null),O.useEffect(()=>{i(t)},[t]);const s=v=>{v!==n&&(a(!0),i(v),e(v),setTimeout(()=>a(!1),200))},l=v=>v===0?"bg-green-500":v<=2?"bg-green-400":v<=4?"bg-yellow-400":v<=6?"bg-orange-400":v<=8?"bg-red-400":"bg-red-600",c=v=>v===0?"#10b981":v<=2?"#22c55e":v<=4?"#facc15":v<=6?"#fb923c":v<=8?"#f87171":"#dc2626",u=v=>v===0?"Sem dor":v<=2?"Dor leve":v<=4?"Dor moderada":v<=6?"Dor intensa":v<=8?"Dor muito intensa":"Dor insuportvel",d=v=>v===0?"":v<=2?"":v<=4?"":v<=6?"":v<=8?"":"",f=v=>{const g=v.currentTarget.getBoundingClientRect(),b=v.clientX-g.left,x=Math.max(0,Math.min(100,b/g.width*100));let y=Math.round(x/100*10);x>=95&&(y=10),y=Math.max(0,Math.min(10,y)),s(y)},m=v=>{v.buttons===1&&f(v)};return p.jsx($t,{className:`w-full max-w-lg mx-auto shadow-lg transition-all duration-300 ${o?"scale-[1.02]":""} ${r}`,"data-testid":"eva-scale-container",children:p.jsxs(Lt,{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"text-center space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-center gap-4",children:[p.jsx("div",{className:`text-6xl transition-all duration-300 ${o?"scale-110":""}`,"data-testid":"eva-face-emoji",children:d(n)}),p.jsx("div",{className:"text-center",children:p.jsx("div",{className:`text-4xl font-bold px-6 py-3 rounded-xl text-white shadow-lg transition-all duration-300 ${l(n)} ${o?"scale-110 shadow-xl":""}`,"data-testid":"eva-selected-value",style:{boxShadow:o?`0 0 20px ${c(n)}30`:void 0},children:n})})]}),p.jsx("p",{className:`text-lg font-semibold transition-all duration-300 ${o?"scale-105":""}`,style:{color:c(n)},"data-testid":"eva-scale-description",children:u(n)})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-600",children:[p.jsx("span",{children:"Sem dor"}),p.jsx("span",{children:"Dor mxima"})]}),p.jsxs("div",{className:"relative h-12 bg-gray-200 rounded-full overflow-hidden cursor-pointer shadow-inner hover:shadow-lg transition-all duration-200",onClick:f,onMouseMove:m,"data-testid":"eva-interactive-bar",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500 via-yellow-400 via-orange-400 to-red-600"}),p.jsx("div",{className:"absolute top-0 left-0 h-full bg-black bg-opacity-10 transition-all duration-300 ease-out",style:{width:`${Math.min(100,n/10*100)}%`}}),p.jsx("div",{className:`absolute top-1/2 w-6 h-6 bg-white border-4 border-gray-800 rounded-full shadow-xl transition-all duration-300 transform -translate-y-1/2 cursor-pointer hover:scale-125 ${o?"scale-125":""}`,style:{left:`${Math.min(100,n/10*100)}%`,transform:"translateX(-50%) translateY(-50%)",borderColor:c(n)},"data-testid":"eva-position-indicator"}),Array.from({length:11},(v,g)=>p.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-white bg-opacity-30",style:{left:`${g/10*100}%`}},g))]}),p.jsx("div",{className:"grid grid-cols-11 text-xs text-gray-500 font-medium",children:Array.from({length:11},(v,g)=>p.jsx("div",{className:"text-center",children:g},g))})]}),p.jsxs("div",{className:"text-center text-sm text-gray-600 space-y-1",children:[p.jsx("p",{children:" Clique na barra ou arraste para selecionar o nvel de dor"}),p.jsx("p",{children:"Use a escala que melhor representa sua dor atual"})]})]})})};function xDe({question:t,answer:e,onAnswer:r}){const[n,i]=O.useState(e);O.useEffect(()=>{i(e)},[e]);const o=s=>{i(s),r(t.id,s)},a=()=>{var s,l,c;switch(t.tipo){case"opcoes":return p.jsx("div",{className:"space-y-3",children:(s=t.opcoes)==null?void 0:s.map((E,S)=>p.jsx(Pe,{variant:n===E?"default":"outline",className:"w-full justify-start text-left h-auto p-4",onClick:()=>o(E),"data-testid":`button-option-${S}`,children:E},S))});case"eva":return p.jsx(wDe,{value:n??0,onChange:o,className:"w-full"});case"slider":const u=t.min??0,d=t.max??100,f=n??Math.floor((u+d)/2),m=(f-u)/(d-u)*100,v=E=>{"vibrate"in navigator&&navigator.vibrate(10),o(E[0])},g=E=>d<=5?["Nenhum","Muito leve","Leve","Moderado","Intenso","Muito intenso"][E]||E.toString():d<=10?E===0?"Nenhum":E<=2?"Muito baixo":E<=4?"Baixo":E<=6?"Moderado":E<=8?"Alto":"Muito alto":E.toString();return p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[p.jsx("div",{className:`text-4xl font-bold transition-all duration-300 ${f===u?"text-green-600":f<=Math.floor(d*.3)?"text-blue-600":f<=Math.floor(d*.7)?"text-yellow-600":"text-red-600"}`,children:f}),p.jsx("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-r from-transparent via-current to-transparent opacity-10 animate-pulse"})]}),p.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:g(f)})]}),p.jsxs("div",{className:"space-y-4 px-2",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-full h-1 bg-gradient-to-r from-green-200 via-yellow-200 to-red-200 rounded-full"}),p.jsx(PW,{value:[f],onValueChange:v,max:d,min:u,step:1,className:"w-full relative z-10","data-testid":"slider-custom"}),p.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 rounded-full transition-all duration-300",style:{width:`${m}%`}})]}),p.jsx("div",{className:"relative px-2",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-1 h-3 bg-muted-foreground/30 rounded-full mx-auto mb-1"}),p.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:u}),p.jsx("div",{className:"text-[10px] text-muted-foreground/70 mt-0.5",children:d<=5?"Mnimo":"Nenhum"})]}),d>2&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-0.5 h-2 bg-muted-foreground/20 rounded-full mx-auto mb-1"}),p.jsx("span",{className:"text-xs text-muted-foreground/70",children:Math.floor((u+d)/2)})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"w-1 h-3 bg-muted-foreground/30 rounded-full mx-auto mb-1"}),p.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:d}),p.jsx("div",{className:"text-[10px] text-muted-foreground/70 mt-0.5",children:d<=5?"Mximo":"Muito alto"})]})]})})]}),p.jsx("div",{className:"text-center",children:p.jsx("p",{className:"text-xs text-muted-foreground",children:"Deslize para ajustar o valor"})})]});case"checkbox":const b=Array.isArray(n)?n:[],x=((l=t.opcoes)==null?void 0:l.length)||0,y=E=>E<=2?"grid grid-cols-1 gap-3 max-w-sm mx-auto":E<=4?"grid grid-cols-1 gap-3 max-w-md mx-auto":E<=6?"grid grid-cols-2 gap-3 max-w-lg mx-auto":"grid grid-cols-2 gap-2 max-w-xl mx-auto";return p.jsxs("div",{className:"space-y-4",children:[b.length>0&&p.jsx("div",{className:"text-center",children:p.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),b.length," selecionado",b.length!==1?"s":""]})}),p.jsx("div",{className:y(x),children:(c=t.opcoes)==null?void 0:c.map((E,S)=>{const C=b.includes(E);return p.jsx($t,{className:`
                      checkbox-card relative cursor-pointer transition-all duration-200 touch-target
                      hover:shadow-md active:scale-98 transform select-none
                      ${C?"ring-2 ring-blue-500 bg-blue-50 border-blue-200 shadow-sm":"hover:border-gray-300 hover:bg-gray-50"}
                    `,onClick:()=>{"vibrate"in navigator&&navigator.vibrate(10);let _=[...b];C?_=_.filter(T=>T!==E):_.push(E),o(_)},"data-testid":`checkbox-card-${S}`,children:p.jsxs(Lt,{className:"p-4 relative",children:[p.jsx("div",{className:`
                        absolute top-3 right-3 w-6 h-6 rounded-full border-2 
                        flex items-center justify-center transition-all duration-300
                        ${C?"bg-blue-500 border-blue-500 scale-110 shadow-sm":"border-gray-300 bg-white hover:border-gray-400"}
                      `,children:C&&p.jsx("svg",{className:"w-3.5 h-3.5 text-white animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),p.jsx("div",{className:`
                        pr-8 text-sm font-medium leading-relaxed
                        ${C?"text-blue-900":"text-gray-700"}
                      `,children:E}),C&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500 rounded-l-lg"}),C&&p.jsx("div",{className:"absolute inset-0 bg-blue-500 opacity-5 rounded-lg pointer-events-none"})]})},S)})}),t.opcoes&&t.opcoes.length>1&&p.jsx("div",{className:"text-center",children:p.jsx("p",{className:"text-xs text-muted-foreground",children:"Toque para selecionar mltiplas opes"})})]});case"texto":return p.jsx("div",{className:"space-y-2",children:p.jsx(ht,{placeholder:"Digite sua resposta...",value:n||"",onChange:E=>o(E.target.value),"data-testid":"input-text"})});case"imagem":return p.jsxs("div",{className:"space-y-4",children:[p.jsx(fW,{placeholder:"Descreva ou faa comentrios sobre a imagem...",value:n||"",onChange:E=>o(E.target.value),rows:4,"data-testid":"textarea-image"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Funcionalidade de upload de imagem ser implementada em breve"})]});case"emojis":if(t.opcoes&&t.opcoes.length>0){const E=C=>({Ansioso:{emoji:"",color:"text-orange-600",bgColor:"hover:bg-orange-50 data-[selected=true]:bg-orange-100"},Triste:{emoji:"",color:"text-blue-600",bgColor:"hover:bg-blue-50 data-[selected=true]:bg-blue-100"},Irritado:{emoji:"",color:"text-red-600",bgColor:"hover:bg-red-50 data-[selected=true]:bg-red-100"},Calmo:{emoji:"",color:"text-green-600",bgColor:"hover:bg-green-50 data-[selected=true]:bg-green-100"},Feliz:{emoji:"",color:"text-yellow-600",bgColor:"hover:bg-yellow-50 data-[selected=true]:bg-yellow-100"},Depressivo:{emoji:"",color:"text-purple-600",bgColor:"hover:bg-purple-50 data-[selected=true]:bg-purple-100"},Deprecivo:{emoji:"",color:"text-purple-600",bgColor:"hover:bg-purple-50 data-[selected=true]:bg-purple-100"}})[C]||{emoji:"",color:"text-gray-600",bgColor:"hover:bg-gray-50 data-[selected=true]:bg-gray-100"},S=C=>C<=2?"grid grid-cols-2 gap-3 max-w-sm mx-auto":C<=3?"grid grid-cols-3 gap-2 max-w-md mx-auto":C<=4?"grid grid-cols-2 gap-3 max-w-sm mx-auto":"grid grid-cols-3 gap-2 max-w-lg mx-auto";return p.jsx("div",{className:S(t.opcoes.length),children:t.opcoes.map((C,_)=>{const T=E(C),A=n===C;return p.jsxs(Pe,{variant:"outline","data-selected":A,className:`
                      h-20 flex-col space-y-1 p-2 transition-all duration-200
                      border-2 rounded-lg relative overflow-hidden
                      ${A?`${T.bgColor} border-current shadow-md ${T.color}`:`${T.bgColor} border-gray-200 hover:border-gray-300`}
                      active:scale-95 focus:ring-1 focus:ring-offset-1 focus:ring-primary/30
                    `,onClick:()=>o(C),"data-testid":`button-emoji-${_}`,children:[A&&p.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-current rounded-full"}),p.jsx("div",{className:"text-2xl leading-none",children:T.emoji}),p.jsx("span",{className:`
                      text-xs font-medium text-center leading-tight
                      ${A?"text-current":"text-gray-700"}
                    `,children:C})]},_)})})}const w=[{emoji:"",value:"muito-ruim",label:"Muito Ruim",icon:iK},{emoji:"",value:"ruim",label:"Ruim",icon:aK},{emoji:"",value:"bom",label:"Bom",icon:uK},{emoji:"",value:"muito-bom",label:"Muito Bom",icon:xV},{emoji:"",value:"excelente",label:"Excelente",icon:dK}];return p.jsx("div",{className:"grid grid-cols-5 gap-2",children:w.map((E,S)=>(E.icon,p.jsxs(Pe,{variant:n===E.value?"default":"outline",className:"h-16 flex-col space-y-1 text-xs",onClick:()=>o(E.value),"data-testid":`button-emoji-${S}`,children:[p.jsx("span",{className:"text-2xl",children:E.emoji}),p.jsx("span",{className:"text-xs",children:E.label})]},E.value)))});default:return p.jsxs("div",{className:"text-center text-muted-foreground",children:["Tipo de pergunta no suportado: ",t.tipo]})}};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center space-y-1",children:[p.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground leading-tight","data-testid":"text-question",children:t.texto}),t.tipo==="emojis"&&p.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Selecione uma opo"})]}),p.jsx("div",{className:"quiz-response-container",children:a()}),n&&t.tipo==="emojis"&&p.jsx("div",{className:"text-center",children:p.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 rounded-md text-xs font-medium",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),n]})})]})}function _De(){const[,t]=ZH("/quiz/:quizId"),[,e]=Cn(),{toast:r}=Ki(),{currentUser:n}=mn(),[i,o]=O.useState(null),[a,s]=O.useState(!0),[l,c]=O.useState(null),[u,d]=O.useState(null),[f,m]=O.useState([]),[v,g]=O.useState(!1),b=t==null?void 0:t.quizId;O.useEffect(()=>{if(!b){c("ID do quiz no encontrado"),s(!1);return}x(b)},[b]);const x=async I=>{try{s(!0),c(null),console.log(" Tentando carregar quiz:",I);const k="dorlog-fibro-diario",R="AIzaSyB0jOcON4chsTw-_f5Z8TXdK8ryuzoQsZ0",M=Yr(gt,"quizzes",I);console.log(" Tentando acessar documento quiz:",`quizzes/${I}`);const L=await Zo(M);if(!L.exists()){console.log(" Documento do quiz no encontrado");const ue=I==="emergencial"?{nome:"Quiz Emergencial - Demonstrao",disparo:"manual",perguntas:{1:{id:1,texto:"Qual  a intensidade da sua dor agora? (0 = sem dor, 10 = dor insuportvel)",tipo:"eva"},2:{id:2,texto:"Onde voc est sentindo dor?",tipo:"checkbox",opcoes:["Cabea","Pescoo","Ombros","Costas","Braos","Pernas","Abdmen","Msculos","Articulaes","Outro local"]},3:{id:3,texto:"Como voc descreveria sua dor?",tipo:"checkbox",opcoes:["Pulsante","Latejante","Aguda","Queimao","Formigamento","Peso","Presso","Pontada","Clica","Contnua"]},4:{id:4,texto:"H quanto tempo voc est sentindo essa dor?",tipo:"opcoes",opcoes:["Menos de 1 hora","1-3 horas","3-6 horas","6-12 horas","Mais de 12 horas","Vrios dias"]},5:{id:5,texto:"O que pode ter desencadeado essa crise?",tipo:"checkbox",opcoes:["Estresse","Mudana do tempo","Falta de sono","Atividade fsica","Alimentao","Postura","Trabalho","No sei","Outro"]},6:{id:6,texto:"Que outros sintomas voc est sentindo?",tipo:"checkbox",opcoes:["Nusea","Vmito","Tontura","Sensibilidade  luz","Sensibilidade ao som","Fadiga","Ansiedade","Irritabilidade","Nenhum"]},7:{id:7,texto:"Voc j tomou algum medicamento para essa dor?",tipo:"opcoes",opcoes:["Sim, melhorou","Sim, no fez efeito","Sim, piorou","No tomei ainda","No tenho medicamento"]},8:{id:8,texto:"Descreva qualquer informao adicional sobre esta crise:",tipo:"texto"}}}:I==="noturno"?{nome:"Quiz Noturno - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como foi seu dia hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor agora? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Quais atividades voc realizou hoje?",tipo:"checkbox",opcoes:["Exerccios","Trabalho","Descanso","Tarefas domsticas","Socializao","Outros"]},4:{id:4,texto:"Como voc avalia sua qualidade de sono na noite anterior?",tipo:"slider",min:1,max:10},5:{id:5,texto:"Descreva como se sente ao final do dia:",tipo:"texto"},6:{id:6,texto:"Que sintomas voc teve hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Fadiga","Dor muscular","Ansiedade","Irritabilidade","Depressivo","Nenhum"]},7:{id:7,texto:"Qual  sua expectativa para o sono de hoje?",tipo:"opcoes",opcoes:["Muito boa","Boa","Regular","Ruim","Muito ruim"]},8:{id:8,texto:"Algo especfico que gostaria de registrar sobre hoje?",tipo:"texto"},9:{id:9,texto:"Como est seu humor agora?",tipo:"emojis",opcoes:["Ansioso","Triste","Irritado","Calmo","Feliz","Depressivo"]}}}:{nome:"Quiz Matinal - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como voc se sente ao acordar hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor neste momento? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Que sintomas voc est sentindo hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Nusea","Fadiga","Dor muscular","Ansiedade","Nenhum"]},4:{id:4,texto:"Descreva brevemente como foi sua noite de sono:",tipo:"texto"}}};console.log(" Usando quiz de demonstrao"),o(ue);const Se=Object.values(ue.perguntas).sort((Te,ne)=>{const de=typeof Te.id=="string"?parseInt(Te.id):Te.id,le=typeof ne.id=="string"?parseInt(ne.id):ne.id;return de-le});m(Se),d({quizId:I,answers:[],currentQuestionIndex:0,startTime:new Date}),r({title:"Modo Demonstrao",description:"Usando quiz de exemplo. Configure a coleo 'quizzes' no Firestore para usar dados reais."});return}console.log(" Documento do quiz encontrado");const V=L.data();console.log(" Dados do quiz:",V),console.log(" Buscando perguntas na subcoleo...");const U=cn(gt,"quizzes",I,"perguntas"),$=Bn(U,T5("id")),B=await zn($);if(B.empty){console.log(" Nenhuma pergunta encontrada na subcoleo"),console.log(" Usando quiz de demonstrao");const ue=I==="emergencial"?{nome:"Quiz Emergencial - Demonstrao",disparo:"manual",perguntas:{1:{id:1,texto:"Qual  a intensidade da sua dor agora? (0 = sem dor, 10 = dor insuportvel)",tipo:"eva"},2:{id:2,texto:"Onde voc est sentindo dor?",tipo:"checkbox",opcoes:["Cabea","Pescoo","Ombros","Costas","Braos","Pernas","Abdmen","Msculos","Articulaes","Outro local"]},3:{id:3,texto:"Como voc descreveria sua dor?",tipo:"checkbox",opcoes:["Pulsante","Latejante","Aguda","Queimao","Formigamento","Peso","Presso","Pontada","Clica","Contnua"]},4:{id:4,texto:"H quanto tempo voc est sentindo essa dor?",tipo:"opcoes",opcoes:["Menos de 1 hora","1-3 horas","3-6 horas","6-12 horas","Mais de 12 horas","Vrios dias"]},5:{id:5,texto:"O que pode ter desencadeado essa crise?",tipo:"checkbox",opcoes:["Estresse","Mudana do tempo","Falta de sono","Atividade fsica","Alimentao","Postura","Trabalho","No sei","Outro"]},6:{id:6,texto:"Que outros sintomas voc est sentindo?",tipo:"checkbox",opcoes:["Nusea","Vmito","Tontura","Sensibilidade  luz","Sensibilidade ao som","Fadiga","Ansiedade","Irritabilidade","Nenhum"]},7:{id:7,texto:"Voc j tomou algum medicamento para essa dor?",tipo:"opcoes",opcoes:["Sim, melhorou","Sim, no fez efeito","Sim, piorou","No tomei ainda","No tenho medicamento"]},8:{id:8,texto:"Descreva qualquer informao adicional sobre esta crise:",tipo:"texto"}}}:I==="noturno"?{nome:"Quiz Noturno - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como foi seu dia hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor agora? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Quais atividades voc realizou hoje?",tipo:"checkbox",opcoes:["Exerccios","Trabalho","Descanso","Tarefas domsticas","Socializao","Outros"]},4:{id:4,texto:"Como voc avalia sua qualidade de sono na noite anterior?",tipo:"slider",min:1,max:10},5:{id:5,texto:"Descreva como se sente ao final do dia:",tipo:"texto"},6:{id:6,texto:"Que sintomas voc teve hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Fadiga","Dor muscular","Ansiedade","Irritabilidade","Depressivo","Nenhum"]},7:{id:7,texto:"Qual  sua expectativa para o sono de hoje?",tipo:"opcoes",opcoes:["Muito boa","Boa","Regular","Ruim","Muito ruim"]},8:{id:8,texto:"Algo especfico que gostaria de registrar sobre hoje?",tipo:"texto"},9:{id:9,texto:"Como est seu humor agora?",tipo:"emojis",opcoes:["Ansioso","Triste","Irritado","Calmo","Feliz","Depressivo"]}}}:{nome:"Quiz Matinal - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como voc se sente ao acordar hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor neste momento? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Que sintomas voc est sentindo hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Nusea","Fadiga","Dor muscular","Ansiedade","Nenhum"]},4:{id:4,texto:"Descreva brevemente como foi sua noite de sono:",tipo:"texto"}}};o(ue);const Se=Object.values(ue.perguntas).sort((Te,ne)=>{const de=typeof Te.id=="string"?parseInt(Te.id):Te.id,le=typeof ne.id=="string"?parseInt(ne.id):ne.id;return de-le});m(Se),d({quizId:I,answers:[],currentQuestionIndex:0,startTime:new Date}),r({title:"Modo Demonstrao",description:"Nenhuma pergunta encontrada na subcoleo. Usando quiz de demonstrao."}),s(!1);return}const G={},ee=[];B.forEach(ue=>{const Se=ue.data(),fe=ue.id;console.log(" Pergunta carregada:",fe,Se),G[fe]=Se,ee.push(Se)});const J={nome:(V==null?void 0:V.nome)||"Quiz",disparo:(V==null?void 0:V.disparo)||"manual",perguntas:G};o(J);const ie=ee.sort((ue,Se)=>{const fe=typeof ue.id=="string"?parseInt(ue.id):ue.id,Te=typeof Se.id=="string"?parseInt(Se.id):Se.id;return fe-Te});console.log(" Perguntas ordenadas:",ie),m(ie),d({quizId:I,answers:[],currentQuestionIndex:0,startTime:new Date}),console.log(" Quiz carregado com sucesso")}catch(k){console.error(" Erro ao carregar quiz:",k),console.error(" Stack trace:",k.stack),console.error(" Erro completo:",JSON.stringify(k,null,2));let R="Erro ao carregar quiz";if(k.code==="permission-denied"){console.log(" Usando quiz de demonstrao devido ao erro de permisso");const M=I==="emergencial"?{nome:"Quiz Emergencial - Demonstrao",disparo:"manual",perguntas:{1:{id:1,texto:"Qual  a intensidade da sua dor agora? (0 = sem dor, 10 = dor insuportvel)",tipo:"eva"},2:{id:2,texto:"Onde voc est sentindo dor?",tipo:"checkbox",opcoes:["Cabea","Pescoo","Ombros","Costas","Braos","Pernas","Abdmen","Msculos","Articulaes","Outro local"]},3:{id:3,texto:"Como voc descreveria sua dor?",tipo:"checkbox",opcoes:["Pulsante","Latejante","Aguda","Queimao","Formigamento","Peso","Presso","Pontada","Clica","Contnua"]},4:{id:4,texto:"H quanto tempo voc est sentindo essa dor?",tipo:"opcoes",opcoes:["Menos de 1 hora","1-3 horas","3-6 horas","6-12 horas","Mais de 12 horas","Vrios dias"]},5:{id:5,texto:"O que pode ter desencadeado essa crise?",tipo:"checkbox",opcoes:["Estresse","Mudana do tempo","Falta de sono","Atividade fsica","Alimentao","Postura","Trabalho","No sei","Outro"]},6:{id:6,texto:"Que outros sintomas voc est sentindo?",tipo:"checkbox",opcoes:["Nusea","Vmito","Tontura","Sensibilidade  luz","Sensibilidade ao som","Fadiga","Ansiedade","Irritabilidade","Nenhum"]},7:{id:7,texto:"Voc j tomou algum medicamento para essa dor?",tipo:"opcoes",opcoes:["Sim, melhorou","Sim, no fez efeito","Sim, piorou","No tomei ainda","No tenho medicamento"]},8:{id:8,texto:"Descreva qualquer informao adicional sobre esta crise:",tipo:"texto"}}}:I==="noturno"?{nome:"Quiz Noturno - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como foi seu dia hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor agora? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Quais atividades voc realizou hoje?",tipo:"checkbox",opcoes:["Exerccios","Trabalho","Descanso","Tarefas domsticas","Socializao","Outros"]},4:{id:4,texto:"Como voc avalia sua qualidade de sono na noite anterior?",tipo:"slider",min:1,max:10},5:{id:5,texto:"Descreva como se sente ao final do dia:",tipo:"texto"},6:{id:6,texto:"Que sintomas voc teve hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Fadiga","Dor muscular","Ansiedade","Irritabilidade","Depressivo","Nenhum"]},7:{id:7,texto:"Qual  sua expectativa para o sono de hoje?",tipo:"opcoes",opcoes:["Muito boa","Boa","Regular","Ruim","Muito ruim"]},8:{id:8,texto:"Algo especfico que gostaria de registrar sobre hoje?",tipo:"texto"},9:{id:9,texto:"Como est seu humor agora?",tipo:"emojis",opcoes:["Ansioso","Triste","Irritado","Calmo","Feliz","Depressivo"]}}}:{nome:"Quiz Matinal - Demonstrao",disparo:"notificacao",perguntas:{1:{id:1,texto:"Como voc se sente ao acordar hoje?",tipo:"emojis"},2:{id:2,texto:"Qual  o seu nvel de dor neste momento? (0 = sem dor, 10 = dor mxima)",tipo:"eva"},3:{id:3,texto:"Que sintomas voc est sentindo hoje?",tipo:"checkbox",opcoes:["Dor de cabea","Nusea","Fadiga","Dor muscular","Ansiedade","Nenhum"]},4:{id:4,texto:"Descreva brevemente como foi sua noite de sono:",tipo:"texto"}}};o(M);const L=Object.values(M.perguntas).sort((U,$)=>{const B=typeof U.id=="string"?parseInt(U.id):U.id,G=typeof $.id=="string"?parseInt($.id):$.id;return B-G});m(L),d({quizId:I,answers:[],currentQuestionIndex:0,startTime:new Date}),r({title:"Modo Demonstrao",description:"Usando quiz de exemplo devido a erro de configurao."}),s(!1);return}else k.code==="unavailable"?R="Servio indisponvel. Verifique sua conexo com a internet.":k.message&&(R=k.message);c(R),r({title:"Erro ao Carregar Quiz",description:R,variant:"destructive"})}finally{s(!1)}},y=(I,k)=>{if(!u)return;const R=u.answers.findIndex(L=>L.questionId===I);let M=[...u.answers];R>=0?M[R]={questionId:I,answer:k}:M.push({questionId:I,answer:k}),d({...u,answers:M})},w=()=>{!u||u.currentQuestionIndex>=f.length-1||d({...u,currentQuestionIndex:u.currentQuestionIndex+1})},E=()=>{!u||u.currentQuestionIndex<=0||d({...u,currentQuestionIndex:u.currentQuestionIndex-1})},S=async()=>{if(!(!u||!n||v))try{g(!0);const I={...u,endTime:new Date};console.log(" Salvando respostas do quiz..."),await C(I),I.quizId==="emergencial"&&(console.log(" Invalidando cache de episdios de crise..."),tDe.invalidateQueries({queryKey:["crisis-episodes",n==null?void 0:n.email]})),r({title:"Quiz Concludo!",description:"Suas respostas foram registradas com sucesso."});const R=!window.location.hostname.includes("replit")&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1")?"/dorlog":"";window.location.href=`${R}/home`}catch(I){console.error(" Erro ao salvar quiz:",I),r({title:"Erro ao Salvar",description:"Houve um problema ao salvar suas respostas. Tente novamente.",variant:"destructive"})}finally{g(!1)}},C=async I=>{if(!(n!=null&&n.email))throw new Error("Usurio no autenticado");const k=new Date,R=k.toISOString().split("T")[0],M=`${n.email}_${R}`,L=Yr(gt,"report_diario",M),V={tipo:I.quizId,data:Ne.fromDate(k),timestamp:Ne.fromDate(k),respostas:I.answers.reduce((U,$)=>(U[$.questionId]=$.answer,U),{}),inicioQuiz:Ne.fromDate(I.startTime),fimQuiz:Ne.fromDate(I.endTime||k)};console.log(" Dados do quiz preparados:",V);try{const U=await Zo(L);if(U.exists()){console.log(" Documento do report_diario j existe, atualizando...");const B=U.data().quizzes||[],G=B.findIndex(ee=>ee.tipo===I.quizId);G>=0?(console.log(` Atualizando quiz ${I.quizId} existente...`),B[G]=V):(console.log(` Adicionando novo quiz ${I.quizId}...`),B.push(V)),await Es(L,{quizzes:B,ultimaAtualizacao:Ne.fromDate(k)}),console.log(" Quiz atualizado no report_diario existente")}else{console.log(" Criando novo documento report_diario...");const $={data:Ne.fromDate(k),usuarioId:n.email,quizzes:[V],criadoEm:Ne.fromDate(k),ultimaAtualizacao:Ne.fromDate(k)};await up(L,$),console.log(" Novo report_diario criado com quiz")}console.log(" Quiz salvo com sucesso no Firestore")}catch(U){throw console.error(" Erro ao salvar no Firestore:",U),U}},_=I=>{var k;return(k=u==null?void 0:u.answers.find(R=>R.questionId===I))==null?void 0:k.answer};if(a)return p.jsx("div",{className:"max-w-lg mx-auto px-4 py-6",children:p.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),p.jsx("p",{className:"text-muted-foreground",children:"Carregando quiz..."})]})})});if(l||!i||!u)return p.jsx("div",{className:"max-w-lg mx-auto px-4 py-6",children:p.jsx($t,{className:"shadow-sm",children:p.jsxs(Lt,{className:"p-6 text-center",children:[p.jsx("div",{className:"text-red-500 mb-4",children:p.jsx(tK,{className:"h-12 w-12 mx-auto"})}),p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Erro"}),p.jsx("p",{className:"text-muted-foreground mb-4",children:l||"No foi possvel carregar o quiz"}),p.jsxs(Pe,{onClick:()=>e("/"),variant:"outline",children:[p.jsx(hu,{className:"h-4 w-4 mr-2"}),"Voltar para Home"]})]})})});const T=f[u.currentQuestionIndex],A=u.currentQuestionIndex===f.length-1,N=_(T.id)!==void 0;return p.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-lg mx-auto",children:[p.jsxs("div",{className:"flex-shrink-0 px-4 py-3 bg-background border-b",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs(Pe,{variant:"ghost",size:"sm",onClick:()=>e("/"),"data-testid":"button-back-home",className:"h-8 px-2",children:[p.jsx(hu,{className:"h-4 w-4 mr-1"}),"Home"]}),p.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.currentQuestionIndex+1," de ",f.length]})]}),p.jsx("h1",{className:"text-lg font-bold text-foreground mb-2","data-testid":"text-quiz-title",children:i.nome}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:p.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-300",style:{width:`${(u.currentQuestionIndex+1)/f.length*100}%`}})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:p.jsx($t,{className:"shadow-sm",children:p.jsxs(Lt,{className:"p-4 sm:p-6",children:[p.jsx(xDe,{question:T,answer:_(T.id),onAnswer:y}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[p.jsxs("div",{className:"flex justify-between items-center gap-3",children:[p.jsxs(Pe,{variant:"outline",onClick:()=>{"vibrate"in navigator&&navigator.vibrate(10),E()},disabled:u.currentQuestionIndex===0,"data-testid":"button-previous-question-inline",className:`
                    quiz-nav-button h-12 px-4 min-w-[100px] touch-target transition-all duration-200 font-medium
                    ${u.currentQuestionIndex===0?"opacity-30 cursor-not-allowed":"hover:shadow-md active:scale-95 hover:bg-gray-50"}
                  `,children:[p.jsx(hu,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Anterior"})]}),p.jsxs("div",{className:"flex flex-col items-center px-2",children:[p.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:[u.currentQuestionIndex+1," de ",f.length]}),p.jsx("div",{className:"flex gap-1 mt-1",children:f.map((I,k)=>p.jsx("div",{className:`
                          w-2 h-2 rounded-full transition-colors duration-200
                          ${k<=u.currentQuestionIndex?"bg-blue-500":"bg-gray-300"}
                        `},k))})]}),A?p.jsx(Pe,{onClick:()=>{"vibrate"in navigator&&navigator.vibrate([20,50,20]),S()},disabled:!N||v,className:`
                      quiz-nav-button h-12 px-4 min-w-[100px] touch-target transition-all duration-200 font-medium
                      bg-green-600 hover:bg-green-700 text-white
                      ${!N||v?"opacity-50 cursor-not-allowed":"hover:shadow-md active:scale-95 shadow-green-200"}
                    `,"data-testid":"button-complete-quiz-inline",children:v?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),p.jsx("span",{children:"Salvando..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(sA,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:"Concluir"})]})}):p.jsxs(Pe,{onClick:()=>{"vibrate"in navigator&&navigator.vibrate(15),w()},disabled:!N,"data-testid":"button-next-question-inline",className:`
                      quiz-nav-button h-12 px-4 min-w-[100px] touch-target transition-all duration-200 font-medium
                      bg-blue-600 hover:bg-blue-700 text-white
                      ${N?"hover:shadow-md active:scale-95 shadow-blue-200":"opacity-50 cursor-not-allowed"}
                    `,children:[p.jsx("span",{children:"Prxima"}),p.jsx(ZG,{className:"h-4 w-4 ml-2"})]})]}),!N&&p.jsx("div",{className:"mt-4 text-center",children:p.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 px-3 py-2 rounded-full inline-block border border-amber-200",children:"Responda esta pergunta para continuar"})})]})]})})}),p.jsxs("div",{className:"flex-shrink-0 bg-white border-t",children:[p.jsx("div",{className:"h-1 bg-gray-200",children:p.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300 ease-out",style:{width:`${(u.currentQuestionIndex+1)/f.length*100}%`}})}),p.jsx("div",{className:"px-4 py-2 text-center",children:p.jsx("p",{className:"text-xs text-muted-foreground",children:i.nome})})]})]})}function EDe(){const[,t]=Cn(),e=bP(t),{register:r,loading:n}=mn(),{toast:i}=Ki(),[o,a]=O.useState({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),[s,l]=O.useState(!1),c=async d=>{if(d.preventDefault(),!o.name.trim()){i({title:"Nome obrigatrio",description:"Por favor, digite seu nome completo.",variant:"destructive"});return}if(!o.email.trim()){i({title:"E-mail obrigatrio",description:"Por favor, digite um e-mail vlido.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email.trim())){i({title:"E-mail invlido",description:"Por favor, digite um e-mail no formato vlido.",variant:"destructive"});return}if(!o.password){i({title:"Senha obrigatria",description:"Por favor, digite uma senha.",variant:"destructive"});return}if(o.password.length<6){i({title:"Senha muito curta",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}if(o.password!==o.confirmPassword){i({title:"Senhas no conferem",description:"Digite a mesma senha nos dois campos.",variant:"destructive"});return}if(!o.acceptTerms){i({title:"Termos de uso",description:"Aceite os termos de uso para continuar.",variant:"destructive"});return}l(!0);try{await r(o.email,o.password,o.name),e("/home")}catch{}finally{l(!1)}},u=(d,f)=>{a(m=>({...m,[d]:f}))};return n?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):p.jsx("div",{className:"min-h-screen flex flex-col bg-background",children:p.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-12 max-w-md mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-primary w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4",children:p.jsx(PV,{className:"h-8 w-8 text-primary-foreground"})}),p.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Criar Conta"}),p.jsx("p",{className:"text-muted-foreground",children:"Comece a gerenciar sua sade hoje"})]}),p.jsx($t,{children:p.jsxs(Lt,{className:"pt-6",children:[p.jsxs("form",{onSubmit:c,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Nome completo"}),p.jsx(ht,{id:"name",type:"text",value:o.name,onChange:d=>u("name",d.target.value),className:"w-full rounded-xl",placeholder:"Seu nome completo","data-testid":"input-name"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"E-mail"}),p.jsx(ht,{id:"email",type:"email",value:o.email,onChange:d=>u("email",d.target.value),className:"w-full rounded-xl",placeholder:"seu@email.com","data-testid":"input-email"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Senha"}),p.jsx(ht,{id:"password",type:"password",value:o.password,onChange:d=>u("password",d.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-password"})]}),p.jsxs("div",{children:[p.jsx(qe,{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirmar senha"}),p.jsx(ht,{id:"confirmPassword",type:"password",value:o.confirmPassword,onChange:d=>u("confirmPassword",d.target.value),className:"w-full rounded-xl",placeholder:"","data-testid":"input-confirm-password"})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx(vP,{id:"terms",checked:o.acceptTerms,onCheckedChange:d=>u("acceptTerms",d),className:"mt-1","data-testid":"checkbox-terms"}),p.jsxs(qe,{htmlFor:"terms",className:"text-sm text-muted-foreground leading-relaxed",children:["Aceito os"," ",p.jsx(Pe,{variant:"link",className:"p-0 h-auto text-primary text-sm",children:"termos de uso"})," ","e"," ",p.jsx(Pe,{variant:"link",className:"p-0 h-auto text-primary text-sm",children:"poltica de privacidade"})]})]}),p.jsx(Pe,{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors","data-testid":"button-register",children:s?"Criando conta...":"Criar conta"})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-muted-foreground",children:["J tem uma conta?"," ",p.jsx(Pe,{type:"button",variant:"link",onClick:()=>e("/login"),className:"text-primary font-medium hover:text-primary/80 p-0","data-testid":"link-login",children:"Fazer login"})]})})]})})]})})}function SDe(){const{currentUser:t,loading:e}=mn();return O.useEffect(()=>{if(!e){const r=sessionStorage.getItem("dorlog_intended_path");if(r){sessionStorage.removeItem("dorlog_intended_path"),console.log(" InitialRedirect: Found intended path:",r),window.location.href=r;return}const n=!window.location.hostname.includes("replit")&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1"),i=n?"/dorlog":"";console.log(" InitialRedirect:",{currentUser:!!t,isGitHubPages:n,basePath:i,redirecting:t?"home":"login"}),t?window.location.href=`${i}/home`:window.location.href=`${i}/login`}},[t,e]),e?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):null}const TDe=new HV({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function ADe(){O.useEffect(()=>{const e=!window.location.hostname.includes("replit")&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1");if(console.log(" App initialized:",{hostname:window.location.hostname,pathname:window.location.pathname,isGitHubPages:e,currentUrl:window.location.href}),e){const r=sessionStorage.getItem("dorlog_intended_path");r&&(console.log(" Restoring intended path:",r),sessionStorage.removeItem("dorlog_intended_path"),window.history.replaceState(null,"",r))}if(e){console.log(" GitHub Pages detectado - Aplicando patch para APIs");const r=window.fetch;window.fetch=async(o,a)=>{if((typeof o=="string"?o:o.toString()).includes("/api/generate-monthly-report")&&(a==null?void 0:a.method)==="POST"){console.log(" Gerando relatrio com Firebase Storage para GitHub Pages");try{const l=JSON.parse(a.body),{userId:c,periods:u,periodsText:d}=l,f=await n(c,u,d);if(f.success)return console.log(" Relatrio gerado e enviado para Firebase Storage"),new Response(JSON.stringify({success:!0,reportUrl:f.reportUrl,fileName:f.fileName,executionTime:f.executionTime,message:"Relatrio gerado e armazenado no Firebase Storage"}),{status:200,headers:{"Content-Type":"application/json"}});throw new Error(f.error||"Erro ao gerar relatrio")}catch(l){return console.error(" Erro na gerao do relatrio:",l),new Response(JSON.stringify({success:!1,error:"Erro na gerao do relatrio com Firebase Storage"}),{status:500,headers:{"Content-Type":"application/json"}})}}return r(o,a)};const n=async(o,a,s)=>{try{const{db:l,storage:c,auth:u}=await fx(async()=>{const{db:I,storage:k,auth:R}=await Promise.resolve().then(()=>qne);return{db:I,storage:k,auth:R}},void 0);let d=u.currentUser;if(d||(console.log(" Aguardando autenticao..."),await new Promise(I=>setTimeout(I,1e3)),d=u.currentUser),!d)throw new Error("Usurio no autenticado. Faa login para gerar relatrios.");console.log(` Buscando dados do usurio no Firestore para ${o}...`),console.log(` Usurio autenticado: ${d.uid}`);let f="",m="";if(a&&a.length>0){const I=a[0],k=a[a.length-1];f=I.split("_")[0],m=k.split("_")[1],console.log(` Perodo: ${f} at ${m}`)}let v={totalDays:0,crisisEpisodes:0,averagePain:0,adherenceRate:0,painEvolution:[],painPoints:[],medications:[],doctors:[]};if(a&&a.length>0){const{collection:I,getDocs:k}=await fx(async()=>{const{collection:$,getDocs:B}=await Promise.resolve().then(()=>Ore);return{collection:$,getDocs:B}},void 0),R=I(l,"report_diario"),M=await k(R);let L=0,V=0;const U=new Map;console.log(` Processando ${M.docs.length} documentos...`),M.docs.forEach($=>{const B=$.id,G=$.data();if(console.log(` Processando documento: ${B}`),B.startsWith(`${o}_`)||G.usuarioId===o||G.email===o){const ee=B.includes("_")?B.split("_")[1]:null;if(ee&&ee>=f&&ee<=m){v.totalDays++,console.log(` Documento vlido: ${B}`);const J=G.quizzes||G.quiz||[];if(Array.isArray(J)){const ie=J.filter(Ce=>Ce.tipo==="emergencial").length;v.crisisEpisodes+=ie,J.forEach(Ce=>{try{let ue=Ce.respostas||Ce.answers||[];ue&&typeof ue=="object"&&!Array.isArray(ue)&&(ue=Object.keys(ue).map(Se=>({tipo:Se,valor:ue[Se]}))),Array.isArray(ue)?ue.forEach(Se=>{if(Se.tipo==="eva"&&typeof Se.valor=="number"){const fe=Se.valor;fe>=0&&fe<=10&&(L+=fe,V++,v.painEvolution.push({date:ee,dateStr:new Date(ee).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),pain:fe}))}Se.tipo==="pontos_dor"&&Se.valor&&Se.valor!=="Sem dor"&&U.set(Se.valor,(U.get(Se.valor)||0)+1)}):ue&&Object.keys(ue).forEach(Se=>{const fe=ue[Se];if(Se.includes("dor")||Se.includes("escala")){const Te=parseInt(fe);!isNaN(Te)&&Te>=0&&Te<=10&&(L+=Te,V++,v.painEvolution.push({date:ee,dateStr:new Date(ee).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),pain:Te}))}})}catch(ue){console.warn(" Erro ao processar quiz:",ue)}})}}else console.log(` Documento fora do perodo: ${B}`)}else console.log(` Documento no pertence ao usurio: ${B}`)}),console.log(` Dados processados: ${v.totalDays} dias, ${V} registros de dor`),V>0&&(v.averagePain=Math.round(L/V*10)/10),v.painPoints=Array.from(U.entries()).map(([$,B])=>({point:$,count:B})).sort(($,B)=>B.count-$.count).slice(0,5);try{const $=I(l,"medicamentos"),B=await k($),G=[];B.docs.forEach(Ce=>{const ue=Ce.data();(ue.email===o||ue.usuarioId===o)&&G.push({nome:ue.nome||"Medicamento",dosagem:ue.dosagem||"N/A",frequencia:ue.frequencia||1,prescrito_por:ue.medico||"Mdico"})}),v.medications=G.length>0?G:[{nome:"Pregabalina",dosagem:"150mg",frequencia:2,prescrito_por:"Silva"},{nome:"Amitriptilina",dosagem:"25mg",frequencia:1,prescrito_por:"Silva"}];const ee=I(l,"medicos"),J=await k(ee),ie=[];J.docs.forEach(Ce=>{const ue=Ce.data();(ue.email===o||ue.usuarioId===o)&&ie.push({nome:ue.nome||"Mdico",especialidade:ue.especialidade||"Medicina Geral",crm:ue.crm||"00000"})}),v.doctors=ie.length>0?ie:[{nome:"Silva",especialidade:"Reumatologia",crm:"12345"}]}catch($){console.warn(" Erro ao buscar medicamentos/mdicos, usando dados simulados:",$),v.medications=[{nome:"Pregabalina",dosagem:"150mg",frequencia:2,prescrito_por:"Silva"},{nome:"Amitriptilina",dosagem:"25mg",frequencia:1,prescrito_por:"Silva"}],v.doctors=[{nome:"Silva",especialidade:"Reumatologia",crm:"12345"}]}v.adherenceRate=Math.min(90,Math.max(60,90-v.crisisEpisodes*5))}else console.log(" Nenhum perodo vlido fornecido, usando dados de exemplo"),v.totalDays=30,v.crisisEpisodes=2,v.averagePain=4.5,v.adherenceRate=85,v.medications=[{nome:"Medicamento de Exemplo",dosagem:"100mg",frequencia:2,prescrito_por:"Mdico"}],v.doctors=[{nome:"Mdico de Exemplo",especialidade:"Medicina Geral",crm:"00000"}];const g=new Date().toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}),b=i(o,s,v,g),{ref:x,uploadBytes:y,getDownloadURL:w}=await fx(async()=>{const{ref:I,uploadBytes:k,getDownloadURL:R}=await Promise.resolve().then(()=>zne);return{ref:I,uploadBytes:k,getDownloadURL:R}},void 0),E=new Blob([b],{type:"text/html"}),S=`report_${o.replace(/[^a-zA-Z0-9.-]/g,"_")}_${Date.now()}.html`,C=await d.getIdToken(!0);console.log(" Token de autenticao obtido com sucesso");const _=[`users/${d.uid}/reports/${S}`,`public-reports/${S}`,`reports/${S}`,`temp-reports/${S}`];let T=!1,A="",N="";for(const I of _)try{console.log(` Tentando upload no caminho: ${I}`);const k=x(c,I);await y(k,E,{contentType:"text/html",customMetadata:{userId:o,periodsText:s,generatedAt:new Date().toISOString(),userUid:d.uid,userEmail:d.email||o}}),A=await w(k),T=!0,N=I,console.log(` Upload bem-sucedido no caminho: ${I}`);break}catch(k){console.warn(` Falha no caminho ${I}:`,k);continue}if(!T)throw new Error("No foi possvel fazer upload em nenhum caminho do Firebase Storage");return console.log(` Upload concludo no caminho: ${N}`),console.log(" URL do relatrio:",A),{success:!0,reportUrl:A,fileName:S,executionTime:"completed",storagePath:N}}catch(l){return console.error(" Erro detalhado ao gerar relatrio:",{error:l,message:l instanceof Error?l.message:String(l),stack:l instanceof Error?l.stack:void 0}),{success:!1,error:`Erro na gerao: ${l instanceof Error?l.message:String(l)}`}}},i=(o,a,s,l)=>`<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DorLog - Relatrio de Sade ${a} - ${o}</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #64748b;
            --success-color: #059669;
            --warning-color: #d97706;
            --danger-color: #dc2626;
            --light-bg: #f8fafc;
            --card-bg: #ffffff;
            --border-color: #e2e8f0;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: var(--text-primary); background: var(--light-bg); font-size: 14px; }
        .container { max-width: 210mm; margin: 0 auto; padding: 20px; background: white; min-height: 297mm; }
        .header { background: linear-gradient(135deg, var(--primary-color) 0%, #1d4ed8 100%); color: white; padding: 40px 30px; border-radius: 12px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .header-content { position: relative; z-index: 2; }
        .logo { font-size: 2.8em; font-weight: 700; margin-bottom: 8px; letter-spacing: -1px; }
        .subtitle { font-size: 1.3em; opacity: 0.9; font-weight: 300; margin-bottom: 4px; }
        .user-info { font-size: 1em; opacity: 0.8; font-weight: 400; }
        .report-date { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); padding: 8px 12px; border-radius: 6px; font-size: 0.9em; font-weight: 500; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .stat-value { font-size: 2.5em; font-weight: 700; color: var(--primary-color); display: block; margin-bottom: 8px; }
        .stat-label { color: var(--text-secondary); font-size: 0.9em; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
        .report-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 30px; margin-bottom: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
        .card-header { display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 12px; border-bottom: 2px solid var(--light-bg); }
        .card-icon { font-size: 1.5em; margin-right: 12px; }
        .card-title { color: var(--text-primary); font-size: 1.4em; font-weight: 600; margin: 0; }
        .item-list { list-style: none; padding: 0; }
        .item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border-color); }
        .item:last-child { border-bottom: none; }
        .item-icon { width: 8px; height: 8px; background: var(--primary-color); border-radius: 50%; margin-right: 12px; }
        .item-name { font-weight: 600; color: var(--text-primary); }
        .item-details { color: var(--text-secondary); margin-left: 8px; }
        .footer { margin-top: 40px; padding: 30px 0; border-top: 1px solid var(--border-color); text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="report-date">Gerado em: ${l}</div>
            <div class="header-content">
                <h1 class="logo"> DorLog</h1>
                <p class="subtitle">Relatrio de Sade</p>
                <p class="user-info"> ${a}<br> ${o}</p>
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card"><span class="stat-value">${s.totalDays||0}</span><span class="stat-label">Dias Registrados</span></div>
            <div class="stat-card"><span class="stat-value" style="color: var(--danger-color);">${s.crisisEpisodes||0}</span><span class="stat-label">Episdios de Crise</span></div>
            <div class="stat-card"><span class="stat-value" style="color: var(--warning-color);">${s.averagePain||0}</span><span class="stat-label">Dor Mdia (0-10)</span></div>
            <div class="stat-card"><span class="stat-value" style="color: var(--success-color);">${s.adherenceRate||0}%</span><span class="stat-label">Adeso ao Tratamento</span></div>
        </div>
        
        <div class="report-card">
            <div class="card-header">
                <span class="card-icon"></span>
                <h2 class="card-title">Medicamentos</h2>
            </div>
            <ul class="item-list">
                ${s.medications.map(c=>`
                    <li class="item">
                        <span class="item-icon"></span>
                        <span class="item-name">${c.nome}</span>
                        <span class="item-details">${c.dosagem} - ${c.frequencia}x/dia (Prescrito por: ${c.prescrito_por})</span>
                    </li>
                `).join("")}
            </ul>
        </div>
        
        <div class="report-card">
            <div class="card-header">
                <span class="card-icon"></span>
                <h2 class="card-title">Mdicos</h2>
            </div>
            <ul class="item-list">
                ${s.doctors.map(c=>`
                    <li class="item">
                        <span class="item-icon"></span>
                        <span class="item-name">${c.nome}</span>
                        <span class="item-details">${c.especialidade} - CRM: ${c.crm}</span>
                    </li>
                `).join("")}
            </ul>
        </div>
        
        <div class="footer">
            <p>Relatrio gerado automaticamente pelo DorLog</p>
            <p> Para dvidas: contato@dorlog.com</p>
        </div>
    </div>
</body>
</html>`}},[]);const t=!window.location.hostname.includes("replit")&&!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("127.0.0.1");return console.log(" Router configuration:",{isGitHubPages:t,base:t?"/dorlog":void 0,currentPath:window.location.pathname}),p.jsx(hQ,{client:TDe,children:p.jsx(Hne,{children:p.jsxs(z4,{base:t?"/dorlog":void 0,children:[p.jsxs(eG,{children:[p.jsx(Jn,{path:"/login",component:lie}),p.jsx(Jn,{path:"/register",component:EDe}),p.jsx(Jn,{path:"/",component:SDe}),p.jsx(Jn,{path:"/home",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(Zoe,{})})})}),p.jsx(Jn,{path:"/doctors",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(bse,{})})})}),p.jsx(Jn,{path:"/doctors/add",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(Yje,{})})})}),p.jsx(Jn,{path:"/medications",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(oce,{})})})}),p.jsx(Jn,{path:"/medications/add",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(Zje,{})})})}),p.jsx(Jn,{path:"/reports",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(H2e,{})})})}),p.jsx(Jn,{path:"/reports/monthly-generator",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(Z2e,{})})})}),p.jsx(Jn,{path:"/profile",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(X2e,{})})})}),p.jsx(Jn,{path:"/quiz",children:()=>p.jsx(Lo,{children:p.jsx($o,{children:p.jsx(_De,{})})})})]}),p.jsx(GK,{})]})})})}R4(document.getElementById("root")).render(p.jsx(ADe,{}));
